"use strict";var mf=Object.defineProperty;var gf=(o,h,d)=>h in o?mf(o,h,{enumerable:!0,configurable:!0,writable:!0,value:d}):o[h]=d;var Ae=(o,h,d)=>gf(o,typeof h!="symbol"?h+"":h,d);const Fe=require("electron"),Mt=require("node:path"),Xe=require("fs"),vf=require("constants"),yr=require("stream"),Hr=require("util"),Fu=require("assert"),Ce=require("path"),Er=require("child_process"),Gr=require("events"),wr=require("crypto"),xu=require("tty"),vt=require("os"),Bt=require("url"),yf=require("string_decoder"),Lu=require("zlib"),$u=require("http"),Ef=require("https");var nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wf(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Rt={},tn={},Dr={},ra;function Je(){return ra||(ra=1,Dr.fromCallback=function(o){return Object.defineProperty(function(...h){if(typeof h[h.length-1]=="function")o.apply(this,h);else return new Promise((d,f)=>{h.push((c,r)=>c!=null?f(c):d(r)),o.apply(this,h)})},"name",{value:o.name})},Dr.fromPromise=function(o){return Object.defineProperty(function(...h){const d=h[h.length-1];if(typeof d!="function")return o.apply(this,h);h.pop(),o.apply(this,h).then(f=>d(null,f),d)},"name",{value:o.name})}),Dr}var rn,na;function _f(){if(na)return rn;na=1;var o=vf,h=process.cwd,d=null,f=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return d||(d=h.call(process)),d};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var c=process.chdir;process.chdir=function(e){d=null,c.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,c)}rn=r;function r(e){o.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&n(e),e.lutimes||t(e),e.chown=u(e.chown),e.fchown=u(e.fchown),e.lchown=u(e.lchown),e.chmod=s(e.chmod),e.fchmod=s(e.fchmod),e.lchmod=s(e.lchmod),e.chownSync=a(e.chownSync),e.fchownSync=a(e.fchownSync),e.lchownSync=a(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=m(e.stat),e.fstat=m(e.fstat),e.lstat=m(e.lstat),e.statSync=g(e.statSync),e.fstatSync=g(e.fstatSync),e.lstatSync=g(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(p,_,T){T&&process.nextTick(T)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(p,_,T,O){O&&process.nextTick(O)},e.lchownSync=function(){}),f==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(p){function _(T,O,P){var U=Date.now(),R=0;p(T,O,function S(b){if(b&&(b.code==="EACCES"||b.code==="EPERM"||b.code==="EBUSY")&&Date.now()-U<6e4){setTimeout(function(){e.stat(O,function(E,M){E&&E.code==="ENOENT"?p(T,O,S):P(b)})},R),R<100&&(R+=10);return}P&&P(b)})}return Object.setPrototypeOf&&Object.setPrototypeOf(_,p),_}(e.rename)),e.read=typeof e.read!="function"?e.read:function(p){function _(T,O,P,U,R,S){var b;if(S&&typeof S=="function"){var E=0;b=function(M,$,L){if(M&&M.code==="EAGAIN"&&E<10)return E++,p.call(e,T,O,P,U,R,b);S.apply(this,arguments)}}return p.call(e,T,O,P,U,R,b)}return Object.setPrototypeOf&&Object.setPrototypeOf(_,p),_}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(p){return function(_,T,O,P,U){for(var R=0;;)try{return p.call(e,_,T,O,P,U)}catch(S){if(S.code==="EAGAIN"&&R<10){R++;continue}throw S}}}(e.readSync);function n(p){p.lchmod=function(_,T,O){p.open(_,o.O_WRONLY|o.O_SYMLINK,T,function(P,U){if(P){O&&O(P);return}p.fchmod(U,T,function(R){p.close(U,function(S){O&&O(R||S)})})})},p.lchmodSync=function(_,T){var O=p.openSync(_,o.O_WRONLY|o.O_SYMLINK,T),P=!0,U;try{U=p.fchmodSync(O,T),P=!1}finally{if(P)try{p.closeSync(O)}catch{}else p.closeSync(O)}return U}}function t(p){o.hasOwnProperty("O_SYMLINK")&&p.futimes?(p.lutimes=function(_,T,O,P){p.open(_,o.O_SYMLINK,function(U,R){if(U){P&&P(U);return}p.futimes(R,T,O,function(S){p.close(R,function(b){P&&P(S||b)})})})},p.lutimesSync=function(_,T,O){var P=p.openSync(_,o.O_SYMLINK),U,R=!0;try{U=p.futimesSync(P,T,O),R=!1}finally{if(R)try{p.closeSync(P)}catch{}else p.closeSync(P)}return U}):p.futimes&&(p.lutimes=function(_,T,O,P){P&&process.nextTick(P)},p.lutimesSync=function(){})}function s(p){return p&&function(_,T,O){return p.call(e,_,T,function(P){v(P)&&(P=null),O&&O.apply(this,arguments)})}}function i(p){return p&&function(_,T){try{return p.call(e,_,T)}catch(O){if(!v(O))throw O}}}function u(p){return p&&function(_,T,O,P){return p.call(e,_,T,O,function(U){v(U)&&(U=null),P&&P.apply(this,arguments)})}}function a(p){return p&&function(_,T,O){try{return p.call(e,_,T,O)}catch(P){if(!v(P))throw P}}}function m(p){return p&&function(_,T,O){typeof T=="function"&&(O=T,T=null);function P(U,R){R&&(R.uid<0&&(R.uid+=4294967296),R.gid<0&&(R.gid+=4294967296)),O&&O.apply(this,arguments)}return T?p.call(e,_,T,P):p.call(e,_,P)}}function g(p){return p&&function(_,T){var O=T?p.call(e,_,T):p.call(e,_);return O&&(O.uid<0&&(O.uid+=4294967296),O.gid<0&&(O.gid+=4294967296)),O}}function v(p){if(!p||p.code==="ENOSYS")return!0;var _=!process.getuid||process.getuid()!==0;return!!(_&&(p.code==="EINVAL"||p.code==="EPERM"))}}return rn}var nn,ia;function Sf(){if(ia)return nn;ia=1;var o=yr.Stream;nn=h;function h(d){return{ReadStream:f,WriteStream:c};function f(r,e){if(!(this instanceof f))return new f(r,e);o.call(this);var n=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,e=e||{};for(var t=Object.keys(e),s=0,i=t.length;s<i;s++){var u=t[s];this[u]=e[u]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){n._read()});return}d.open(this.path,this.flags,this.mode,function(a,m){if(a){n.emit("error",a),n.readable=!1;return}n.fd=m,n.emit("open",m),n._read()})}function c(r,e){if(!(this instanceof c))return new c(r,e);o.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,e=e||{};for(var n=Object.keys(e),t=0,s=n.length;t<s;t++){var i=n[t];this[i]=e[i]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=d.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}return nn}var on,oa;function Af(){if(oa)return on;oa=1,on=h;var o=Object.getPrototypeOf||function(d){return d.__proto__};function h(d){if(d===null||typeof d!="object")return d;if(d instanceof Object)var f={__proto__:o(d)};else var f=Object.create(null);return Object.getOwnPropertyNames(d).forEach(function(c){Object.defineProperty(f,c,Object.getOwnPropertyDescriptor(d,c))}),f}return on}var Ir,aa;function ze(){if(aa)return Ir;aa=1;var o=Xe,h=_f(),d=Sf(),f=Af(),c=Hr,r,e;typeof Symbol=="function"&&typeof Symbol.for=="function"?(r=Symbol.for("graceful-fs.queue"),e=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",e="___graceful-fs.previous");function n(){}function t(p,_){Object.defineProperty(p,r,{get:function(){return _}})}var s=n;if(c.debuglog?s=c.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(s=function(){var p=c.format.apply(c,arguments);p="GFS4: "+p.split(/\n/).join(`
GFS4: `),console.error(p)}),!o[r]){var i=nt[r]||[];t(o,i),o.close=function(p){function _(T,O){return p.call(o,T,function(P){P||g(),typeof O=="function"&&O.apply(this,arguments)})}return Object.defineProperty(_,e,{value:p}),_}(o.close),o.closeSync=function(p){function _(T){p.apply(o,arguments),g()}return Object.defineProperty(_,e,{value:p}),_}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){s(o[r]),Fu.equal(o[r].length,0)})}nt[r]||t(nt,o[r]),Ir=u(f(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(Ir=u(o),o.__patched=!0);function u(p){h(p),p.gracefulify=u,p.createReadStream=ce,p.createWriteStream=ue;var _=p.readFile;p.readFile=T;function T(J,ye,A){return typeof ye=="function"&&(A=ye,ye=null),y(J,ye,A);function y(j,I,le,me){return _(j,I,function(pe){pe&&(pe.code==="EMFILE"||pe.code==="ENFILE")?a([y,[j,I,le],pe,me||Date.now(),Date.now()]):typeof le=="function"&&le.apply(this,arguments)})}}var O=p.writeFile;p.writeFile=P;function P(J,ye,A,y){return typeof A=="function"&&(y=A,A=null),j(J,ye,A,y);function j(I,le,me,pe,_e){return O(I,le,me,function(Ee){Ee&&(Ee.code==="EMFILE"||Ee.code==="ENFILE")?a([j,[I,le,me,pe],Ee,_e||Date.now(),Date.now()]):typeof pe=="function"&&pe.apply(this,arguments)})}}var U=p.appendFile;U&&(p.appendFile=R);function R(J,ye,A,y){return typeof A=="function"&&(y=A,A=null),j(J,ye,A,y);function j(I,le,me,pe,_e){return U(I,le,me,function(Ee){Ee&&(Ee.code==="EMFILE"||Ee.code==="ENFILE")?a([j,[I,le,me,pe],Ee,_e||Date.now(),Date.now()]):typeof pe=="function"&&pe.apply(this,arguments)})}}var S=p.copyFile;S&&(p.copyFile=b);function b(J,ye,A,y){return typeof A=="function"&&(y=A,A=0),j(J,ye,A,y);function j(I,le,me,pe,_e){return S(I,le,me,function(Ee){Ee&&(Ee.code==="EMFILE"||Ee.code==="ENFILE")?a([j,[I,le,me,pe],Ee,_e||Date.now(),Date.now()]):typeof pe=="function"&&pe.apply(this,arguments)})}}var E=p.readdir;p.readdir=$;var M=/^v[0-5]\./;function $(J,ye,A){typeof ye=="function"&&(A=ye,ye=null);var y=M.test(process.version)?function(le,me,pe,_e){return E(le,j(le,me,pe,_e))}:function(le,me,pe,_e){return E(le,me,j(le,me,pe,_e))};return y(J,ye,A);function j(I,le,me,pe){return function(_e,Ee){_e&&(_e.code==="EMFILE"||_e.code==="ENFILE")?a([y,[I,le,me],_e,pe||Date.now(),Date.now()]):(Ee&&Ee.sort&&Ee.sort(),typeof me=="function"&&me.call(this,_e,Ee))}}}if(process.version.substr(0,4)==="v0.8"){var L=d(p);q=L.ReadStream,W=L.WriteStream}var k=p.ReadStream;k&&(q.prototype=Object.create(k.prototype),q.prototype.open=K);var N=p.WriteStream;N&&(W.prototype=Object.create(N.prototype),W.prototype.open=ne),Object.defineProperty(p,"ReadStream",{get:function(){return q},set:function(J){q=J},enumerable:!0,configurable:!0}),Object.defineProperty(p,"WriteStream",{get:function(){return W},set:function(J){W=J},enumerable:!0,configurable:!0});var D=q;Object.defineProperty(p,"FileReadStream",{get:function(){return D},set:function(J){D=J},enumerable:!0,configurable:!0});var F=W;Object.defineProperty(p,"FileWriteStream",{get:function(){return F},set:function(J){F=J},enumerable:!0,configurable:!0});function q(J,ye){return this instanceof q?(k.apply(this,arguments),this):q.apply(Object.create(q.prototype),arguments)}function K(){var J=this;be(J.path,J.flags,J.mode,function(ye,A){ye?(J.autoClose&&J.destroy(),J.emit("error",ye)):(J.fd=A,J.emit("open",A),J.read())})}function W(J,ye){return this instanceof W?(N.apply(this,arguments),this):W.apply(Object.create(W.prototype),arguments)}function ne(){var J=this;be(J.path,J.flags,J.mode,function(ye,A){ye?(J.destroy(),J.emit("error",ye)):(J.fd=A,J.emit("open",A))})}function ce(J,ye){return new p.ReadStream(J,ye)}function ue(J,ye){return new p.WriteStream(J,ye)}var ie=p.open;p.open=be;function be(J,ye,A,y){return typeof A=="function"&&(y=A,A=null),j(J,ye,A,y);function j(I,le,me,pe,_e){return ie(I,le,me,function(Ee,$e){Ee&&(Ee.code==="EMFILE"||Ee.code==="ENFILE")?a([j,[I,le,me,pe],Ee,_e||Date.now(),Date.now()]):typeof pe=="function"&&pe.apply(this,arguments)})}}return p}function a(p){s("ENQUEUE",p[0].name,p[1]),o[r].push(p),v()}var m;function g(){for(var p=Date.now(),_=0;_<o[r].length;++_)o[r][_].length>2&&(o[r][_][3]=p,o[r][_][4]=p);v()}function v(){if(clearTimeout(m),m=void 0,o[r].length!==0){var p=o[r].shift(),_=p[0],T=p[1],O=p[2],P=p[3],U=p[4];if(P===void 0)s("RETRY",_.name,T),_.apply(null,T);else if(Date.now()-P>=6e4){s("TIMEOUT",_.name,T);var R=T.pop();typeof R=="function"&&R.call(null,O)}else{var S=Date.now()-U,b=Math.max(U-P,1),E=Math.min(b*1.2,100);S>=E?(s("RETRY",_.name,T),_.apply(null,T.concat([P]))):o[r].push(p)}m===void 0&&(m=setTimeout(v,0))}}return Ir}var sa;function jt(){return sa||(sa=1,function(o){const h=Je().fromCallback,d=ze(),f=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(c=>typeof d[c]=="function");Object.assign(o,d),f.forEach(c=>{o[c]=h(d[c])}),o.exists=function(c,r){return typeof r=="function"?d.exists(c,r):new Promise(e=>d.exists(c,e))},o.read=function(c,r,e,n,t,s){return typeof s=="function"?d.read(c,r,e,n,t,s):new Promise((i,u)=>{d.read(c,r,e,n,t,(a,m,g)=>{if(a)return u(a);i({bytesRead:m,buffer:g})})})},o.write=function(c,r,...e){return typeof e[e.length-1]=="function"?d.write(c,r,...e):new Promise((n,t)=>{d.write(c,r,...e,(s,i,u)=>{if(s)return t(s);n({bytesWritten:i,buffer:u})})})},typeof d.writev=="function"&&(o.writev=function(c,r,...e){return typeof e[e.length-1]=="function"?d.writev(c,r,...e):new Promise((n,t)=>{d.writev(c,r,...e,(s,i,u)=>{if(s)return t(s);n({bytesWritten:i,buffers:u})})})}),typeof d.realpath.native=="function"?o.realpath.native=h(d.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(tn)),tn}var Nr={},an={},la;function bf(){if(la)return an;la=1;const o=Ce;return an.checkPath=function(d){if(process.platform==="win32"&&/[<>:"|?*]/.test(d.replace(o.parse(d).root,""))){const c=new Error(`Path contains invalid characters: ${d}`);throw c.code="EINVAL",c}},an}var ua;function Rf(){if(ua)return Nr;ua=1;const o=jt(),{checkPath:h}=bf(),d=f=>{const c={mode:511};return typeof f=="number"?f:{...c,...f}.mode};return Nr.makeDir=async(f,c)=>(h(f),o.mkdir(f,{mode:d(c),recursive:!0})),Nr.makeDirSync=(f,c)=>(h(f),o.mkdirSync(f,{mode:d(c),recursive:!0})),Nr}var sn,ca;function at(){if(ca)return sn;ca=1;const o=Je().fromPromise,{makeDir:h,makeDirSync:d}=Rf(),f=o(h);return sn={mkdirs:f,mkdirsSync:d,mkdirp:f,mkdirpSync:d,ensureDir:f,ensureDirSync:d},sn}var ln,fa;function Dt(){if(fa)return ln;fa=1;const o=Je().fromPromise,h=jt();function d(f){return h.access(f).then(()=>!0).catch(()=>!1)}return ln={pathExists:o(d),pathExistsSync:h.existsSync},ln}var un,da;function Uu(){if(da)return un;da=1;const o=ze();function h(f,c,r,e){o.open(f,"r+",(n,t)=>{if(n)return e(n);o.futimes(t,c,r,s=>{o.close(t,i=>{e&&e(s||i)})})})}function d(f,c,r){const e=o.openSync(f,"r+");return o.futimesSync(e,c,r),o.closeSync(e)}return un={utimesMillis:h,utimesMillisSync:d},un}var cn,ha;function Ht(){if(ha)return cn;ha=1;const o=jt(),h=Ce,d=Hr;function f(a,m,g){const v=g.dereference?p=>o.stat(p,{bigint:!0}):p=>o.lstat(p,{bigint:!0});return Promise.all([v(a),v(m).catch(p=>{if(p.code==="ENOENT")return null;throw p})]).then(([p,_])=>({srcStat:p,destStat:_}))}function c(a,m,g){let v;const p=g.dereference?T=>o.statSync(T,{bigint:!0}):T=>o.lstatSync(T,{bigint:!0}),_=p(a);try{v=p(m)}catch(T){if(T.code==="ENOENT")return{srcStat:_,destStat:null};throw T}return{srcStat:_,destStat:v}}function r(a,m,g,v,p){d.callbackify(f)(a,m,v,(_,T)=>{if(_)return p(_);const{srcStat:O,destStat:P}=T;if(P){if(s(O,P)){const U=h.basename(a),R=h.basename(m);return g==="move"&&U!==R&&U.toLowerCase()===R.toLowerCase()?p(null,{srcStat:O,destStat:P,isChangingCase:!0}):p(new Error("Source and destination must not be the same."))}if(O.isDirectory()&&!P.isDirectory())return p(new Error(`Cannot overwrite non-directory '${m}' with directory '${a}'.`));if(!O.isDirectory()&&P.isDirectory())return p(new Error(`Cannot overwrite directory '${m}' with non-directory '${a}'.`))}return O.isDirectory()&&i(a,m)?p(new Error(u(a,m,g))):p(null,{srcStat:O,destStat:P})})}function e(a,m,g,v){const{srcStat:p,destStat:_}=c(a,m,v);if(_){if(s(p,_)){const T=h.basename(a),O=h.basename(m);if(g==="move"&&T!==O&&T.toLowerCase()===O.toLowerCase())return{srcStat:p,destStat:_,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(p.isDirectory()&&!_.isDirectory())throw new Error(`Cannot overwrite non-directory '${m}' with directory '${a}'.`);if(!p.isDirectory()&&_.isDirectory())throw new Error(`Cannot overwrite directory '${m}' with non-directory '${a}'.`)}if(p.isDirectory()&&i(a,m))throw new Error(u(a,m,g));return{srcStat:p,destStat:_}}function n(a,m,g,v,p){const _=h.resolve(h.dirname(a)),T=h.resolve(h.dirname(g));if(T===_||T===h.parse(T).root)return p();o.stat(T,{bigint:!0},(O,P)=>O?O.code==="ENOENT"?p():p(O):s(m,P)?p(new Error(u(a,g,v))):n(a,m,T,v,p))}function t(a,m,g,v){const p=h.resolve(h.dirname(a)),_=h.resolve(h.dirname(g));if(_===p||_===h.parse(_).root)return;let T;try{T=o.statSync(_,{bigint:!0})}catch(O){if(O.code==="ENOENT")return;throw O}if(s(m,T))throw new Error(u(a,g,v));return t(a,m,_,v)}function s(a,m){return m.ino&&m.dev&&m.ino===a.ino&&m.dev===a.dev}function i(a,m){const g=h.resolve(a).split(h.sep).filter(p=>p),v=h.resolve(m).split(h.sep).filter(p=>p);return g.reduce((p,_,T)=>p&&v[T]===_,!0)}function u(a,m,g){return`Cannot ${g} '${a}' to a subdirectory of itself, '${m}'.`}return cn={checkPaths:r,checkPathsSync:e,checkParentPaths:n,checkParentPathsSync:t,isSrcSubdir:i,areIdentical:s},cn}var fn,pa;function Tf(){if(pa)return fn;pa=1;const o=ze(),h=Ce,d=at().mkdirs,f=Dt().pathExists,c=Uu().utimesMillis,r=Ht();function e($,L,k,N){typeof k=="function"&&!N?(N=k,k={}):typeof k=="function"&&(k={filter:k}),N=N||function(){},k=k||{},k.clobber="clobber"in k?!!k.clobber:!0,k.overwrite="overwrite"in k?!!k.overwrite:k.clobber,k.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),r.checkPaths($,L,"copy",k,(D,F)=>{if(D)return N(D);const{srcStat:q,destStat:K}=F;r.checkParentPaths($,q,L,"copy",W=>W?N(W):k.filter?t(n,K,$,L,k,N):n(K,$,L,k,N))})}function n($,L,k,N,D){const F=h.dirname(k);f(F,(q,K)=>{if(q)return D(q);if(K)return i($,L,k,N,D);d(F,W=>W?D(W):i($,L,k,N,D))})}function t($,L,k,N,D,F){Promise.resolve(D.filter(k,N)).then(q=>q?$(L,k,N,D,F):F(),q=>F(q))}function s($,L,k,N,D){return N.filter?t(i,$,L,k,N,D):i($,L,k,N,D)}function i($,L,k,N,D){(N.dereference?o.stat:o.lstat)(L,(q,K)=>q?D(q):K.isDirectory()?P(K,$,L,k,N,D):K.isFile()||K.isCharacterDevice()||K.isBlockDevice()?u(K,$,L,k,N,D):K.isSymbolicLink()?E($,L,k,N,D):K.isSocket()?D(new Error(`Cannot copy a socket file: ${L}`)):K.isFIFO()?D(new Error(`Cannot copy a FIFO pipe: ${L}`)):D(new Error(`Unknown file: ${L}`)))}function u($,L,k,N,D,F){return L?a($,k,N,D,F):m($,k,N,D,F)}function a($,L,k,N,D){if(N.overwrite)o.unlink(k,F=>F?D(F):m($,L,k,N,D));else return N.errorOnExist?D(new Error(`'${k}' already exists`)):D()}function m($,L,k,N,D){o.copyFile(L,k,F=>F?D(F):N.preserveTimestamps?g($.mode,L,k,D):T(k,$.mode,D))}function g($,L,k,N){return v($)?p(k,$,D=>D?N(D):_($,L,k,N)):_($,L,k,N)}function v($){return($&128)===0}function p($,L,k){return T($,L|128,k)}function _($,L,k,N){O(L,k,D=>D?N(D):T(k,$,N))}function T($,L,k){return o.chmod($,L,k)}function O($,L,k){o.stat($,(N,D)=>N?k(N):c(L,D.atime,D.mtime,k))}function P($,L,k,N,D,F){return L?R(k,N,D,F):U($.mode,k,N,D,F)}function U($,L,k,N,D){o.mkdir(k,F=>{if(F)return D(F);R(L,k,N,q=>q?D(q):T(k,$,D))})}function R($,L,k,N){o.readdir($,(D,F)=>D?N(D):S(F,$,L,k,N))}function S($,L,k,N,D){const F=$.pop();return F?b($,F,L,k,N,D):D()}function b($,L,k,N,D,F){const q=h.join(k,L),K=h.join(N,L);r.checkPaths(q,K,"copy",D,(W,ne)=>{if(W)return F(W);const{destStat:ce}=ne;s(ce,q,K,D,ue=>ue?F(ue):S($,k,N,D,F))})}function E($,L,k,N,D){o.readlink(L,(F,q)=>{if(F)return D(F);if(N.dereference&&(q=h.resolve(process.cwd(),q)),$)o.readlink(k,(K,W)=>K?K.code==="EINVAL"||K.code==="UNKNOWN"?o.symlink(q,k,D):D(K):(N.dereference&&(W=h.resolve(process.cwd(),W)),r.isSrcSubdir(q,W)?D(new Error(`Cannot copy '${q}' to a subdirectory of itself, '${W}'.`)):$.isDirectory()&&r.isSrcSubdir(W,q)?D(new Error(`Cannot overwrite '${W}' with '${q}'.`)):M(q,k,D)));else return o.symlink(q,k,D)})}function M($,L,k){o.unlink(L,N=>N?k(N):o.symlink($,L,k))}return fn=e,fn}var dn,ma;function Cf(){if(ma)return dn;ma=1;const o=ze(),h=Ce,d=at().mkdirsSync,f=Uu().utimesMillisSync,c=Ht();function r(S,b,E){typeof E=="function"&&(E={filter:E}),E=E||{},E.clobber="clobber"in E?!!E.clobber:!0,E.overwrite="overwrite"in E?!!E.overwrite:E.clobber,E.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:M,destStat:$}=c.checkPathsSync(S,b,"copy",E);return c.checkParentPathsSync(S,M,b,"copy"),e($,S,b,E)}function e(S,b,E,M){if(M.filter&&!M.filter(b,E))return;const $=h.dirname(E);return o.existsSync($)||d($),t(S,b,E,M)}function n(S,b,E,M){if(!(M.filter&&!M.filter(b,E)))return t(S,b,E,M)}function t(S,b,E,M){const L=(M.dereference?o.statSync:o.lstatSync)(b);if(L.isDirectory())return _(L,S,b,E,M);if(L.isFile()||L.isCharacterDevice()||L.isBlockDevice())return s(L,S,b,E,M);if(L.isSymbolicLink())return U(S,b,E,M);throw L.isSocket()?new Error(`Cannot copy a socket file: ${b}`):L.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${b}`):new Error(`Unknown file: ${b}`)}function s(S,b,E,M,$){return b?i(S,E,M,$):u(S,E,M,$)}function i(S,b,E,M){if(M.overwrite)return o.unlinkSync(E),u(S,b,E,M);if(M.errorOnExist)throw new Error(`'${E}' already exists`)}function u(S,b,E,M){return o.copyFileSync(b,E),M.preserveTimestamps&&a(S.mode,b,E),v(E,S.mode)}function a(S,b,E){return m(S)&&g(E,S),p(b,E)}function m(S){return(S&128)===0}function g(S,b){return v(S,b|128)}function v(S,b){return o.chmodSync(S,b)}function p(S,b){const E=o.statSync(S);return f(b,E.atime,E.mtime)}function _(S,b,E,M,$){return b?O(E,M,$):T(S.mode,E,M,$)}function T(S,b,E,M){return o.mkdirSync(E),O(b,E,M),v(E,S)}function O(S,b,E){o.readdirSync(S).forEach(M=>P(M,S,b,E))}function P(S,b,E,M){const $=h.join(b,S),L=h.join(E,S),{destStat:k}=c.checkPathsSync($,L,"copy",M);return n(k,$,L,M)}function U(S,b,E,M){let $=o.readlinkSync(b);if(M.dereference&&($=h.resolve(process.cwd(),$)),S){let L;try{L=o.readlinkSync(E)}catch(k){if(k.code==="EINVAL"||k.code==="UNKNOWN")return o.symlinkSync($,E);throw k}if(M.dereference&&(L=h.resolve(process.cwd(),L)),c.isSrcSubdir($,L))throw new Error(`Cannot copy '${$}' to a subdirectory of itself, '${L}'.`);if(o.statSync(E).isDirectory()&&c.isSrcSubdir(L,$))throw new Error(`Cannot overwrite '${L}' with '${$}'.`);return R($,E)}else return o.symlinkSync($,E)}function R(S,b){return o.unlinkSync(b),o.symlinkSync(S,b)}return dn=r,dn}var hn,ga;function Do(){if(ga)return hn;ga=1;const o=Je().fromCallback;return hn={copy:o(Tf()),copySync:Cf()},hn}var pn,va;function Of(){if(va)return pn;va=1;const o=ze(),h=Ce,d=Fu,f=process.platform==="win32";function c(g){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(p=>{g[p]=g[p]||o[p],p=p+"Sync",g[p]=g[p]||o[p]}),g.maxBusyTries=g.maxBusyTries||3}function r(g,v,p){let _=0;typeof v=="function"&&(p=v,v={}),d(g,"rimraf: missing path"),d.strictEqual(typeof g,"string","rimraf: path should be a string"),d.strictEqual(typeof p,"function","rimraf: callback function required"),d(v,"rimraf: invalid options argument provided"),d.strictEqual(typeof v,"object","rimraf: options should be object"),c(v),e(g,v,function T(O){if(O){if((O.code==="EBUSY"||O.code==="ENOTEMPTY"||O.code==="EPERM")&&_<v.maxBusyTries){_++;const P=_*100;return setTimeout(()=>e(g,v,T),P)}O.code==="ENOENT"&&(O=null)}p(O)})}function e(g,v,p){d(g),d(v),d(typeof p=="function"),v.lstat(g,(_,T)=>{if(_&&_.code==="ENOENT")return p(null);if(_&&_.code==="EPERM"&&f)return n(g,v,_,p);if(T&&T.isDirectory())return s(g,v,_,p);v.unlink(g,O=>{if(O){if(O.code==="ENOENT")return p(null);if(O.code==="EPERM")return f?n(g,v,O,p):s(g,v,O,p);if(O.code==="EISDIR")return s(g,v,O,p)}return p(O)})})}function n(g,v,p,_){d(g),d(v),d(typeof _=="function"),v.chmod(g,438,T=>{T?_(T.code==="ENOENT"?null:p):v.stat(g,(O,P)=>{O?_(O.code==="ENOENT"?null:p):P.isDirectory()?s(g,v,p,_):v.unlink(g,_)})})}function t(g,v,p){let _;d(g),d(v);try{v.chmodSync(g,438)}catch(T){if(T.code==="ENOENT")return;throw p}try{_=v.statSync(g)}catch(T){if(T.code==="ENOENT")return;throw p}_.isDirectory()?a(g,v,p):v.unlinkSync(g)}function s(g,v,p,_){d(g),d(v),d(typeof _=="function"),v.rmdir(g,T=>{T&&(T.code==="ENOTEMPTY"||T.code==="EEXIST"||T.code==="EPERM")?i(g,v,_):T&&T.code==="ENOTDIR"?_(p):_(T)})}function i(g,v,p){d(g),d(v),d(typeof p=="function"),v.readdir(g,(_,T)=>{if(_)return p(_);let O=T.length,P;if(O===0)return v.rmdir(g,p);T.forEach(U=>{r(h.join(g,U),v,R=>{if(!P){if(R)return p(P=R);--O===0&&v.rmdir(g,p)}})})})}function u(g,v){let p;v=v||{},c(v),d(g,"rimraf: missing path"),d.strictEqual(typeof g,"string","rimraf: path should be a string"),d(v,"rimraf: missing options"),d.strictEqual(typeof v,"object","rimraf: options should be object");try{p=v.lstatSync(g)}catch(_){if(_.code==="ENOENT")return;_.code==="EPERM"&&f&&t(g,v,_)}try{p&&p.isDirectory()?a(g,v,null):v.unlinkSync(g)}catch(_){if(_.code==="ENOENT")return;if(_.code==="EPERM")return f?t(g,v,_):a(g,v,_);if(_.code!=="EISDIR")throw _;a(g,v,_)}}function a(g,v,p){d(g),d(v);try{v.rmdirSync(g)}catch(_){if(_.code==="ENOTDIR")throw p;if(_.code==="ENOTEMPTY"||_.code==="EEXIST"||_.code==="EPERM")m(g,v);else if(_.code!=="ENOENT")throw _}}function m(g,v){if(d(g),d(v),v.readdirSync(g).forEach(p=>u(h.join(g,p),v)),f){const p=Date.now();do try{return v.rmdirSync(g,v)}catch{}while(Date.now()-p<500)}else return v.rmdirSync(g,v)}return pn=r,r.sync=u,pn}var mn,ya;function Wr(){if(ya)return mn;ya=1;const o=ze(),h=Je().fromCallback,d=Of();function f(r,e){if(o.rm)return o.rm(r,{recursive:!0,force:!0},e);d(r,e)}function c(r){if(o.rmSync)return o.rmSync(r,{recursive:!0,force:!0});d.sync(r)}return mn={remove:h(f),removeSync:c},mn}var gn,Ea;function Pf(){if(Ea)return gn;Ea=1;const o=Je().fromPromise,h=jt(),d=Ce,f=at(),c=Wr(),r=o(async function(t){let s;try{s=await h.readdir(t)}catch{return f.mkdirs(t)}return Promise.all(s.map(i=>c.remove(d.join(t,i))))});function e(n){let t;try{t=h.readdirSync(n)}catch{return f.mkdirsSync(n)}t.forEach(s=>{s=d.join(n,s),c.removeSync(s)})}return gn={emptyDirSync:e,emptydirSync:e,emptyDir:r,emptydir:r},gn}var vn,wa;function Df(){if(wa)return vn;wa=1;const o=Je().fromCallback,h=Ce,d=ze(),f=at();function c(e,n){function t(){d.writeFile(e,"",s=>{if(s)return n(s);n()})}d.stat(e,(s,i)=>{if(!s&&i.isFile())return n();const u=h.dirname(e);d.stat(u,(a,m)=>{if(a)return a.code==="ENOENT"?f.mkdirs(u,g=>{if(g)return n(g);t()}):n(a);m.isDirectory()?t():d.readdir(u,g=>{if(g)return n(g)})})})}function r(e){let n;try{n=d.statSync(e)}catch{}if(n&&n.isFile())return;const t=h.dirname(e);try{d.statSync(t).isDirectory()||d.readdirSync(t)}catch(s){if(s&&s.code==="ENOENT")f.mkdirsSync(t);else throw s}d.writeFileSync(e,"")}return vn={createFile:o(c),createFileSync:r},vn}var yn,_a;function If(){if(_a)return yn;_a=1;const o=Je().fromCallback,h=Ce,d=ze(),f=at(),c=Dt().pathExists,{areIdentical:r}=Ht();function e(t,s,i){function u(a,m){d.link(a,m,g=>{if(g)return i(g);i(null)})}d.lstat(s,(a,m)=>{d.lstat(t,(g,v)=>{if(g)return g.message=g.message.replace("lstat","ensureLink"),i(g);if(m&&r(v,m))return i(null);const p=h.dirname(s);c(p,(_,T)=>{if(_)return i(_);if(T)return u(t,s);f.mkdirs(p,O=>{if(O)return i(O);u(t,s)})})})})}function n(t,s){let i;try{i=d.lstatSync(s)}catch{}try{const m=d.lstatSync(t);if(i&&r(m,i))return}catch(m){throw m.message=m.message.replace("lstat","ensureLink"),m}const u=h.dirname(s);return d.existsSync(u)||f.mkdirsSync(u),d.linkSync(t,s)}return yn={createLink:o(e),createLinkSync:n},yn}var En,Sa;function Nf(){if(Sa)return En;Sa=1;const o=Ce,h=ze(),d=Dt().pathExists;function f(r,e,n){if(o.isAbsolute(r))return h.lstat(r,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:r,toDst:r}));{const t=o.dirname(e),s=o.join(t,r);return d(s,(i,u)=>i?n(i):u?n(null,{toCwd:s,toDst:r}):h.lstat(r,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),n(a)):n(null,{toCwd:r,toDst:o.relative(t,r)})))}}function c(r,e){let n;if(o.isAbsolute(r)){if(n=h.existsSync(r),!n)throw new Error("absolute srcpath does not exist");return{toCwd:r,toDst:r}}else{const t=o.dirname(e),s=o.join(t,r);if(n=h.existsSync(s),n)return{toCwd:s,toDst:r};if(n=h.existsSync(r),!n)throw new Error("relative srcpath does not exist");return{toCwd:r,toDst:o.relative(t,r)}}}return En={symlinkPaths:f,symlinkPathsSync:c},En}var wn,Aa;function Ff(){if(Aa)return wn;Aa=1;const o=ze();function h(f,c,r){if(r=typeof c=="function"?c:r,c=typeof c=="function"?!1:c,c)return r(null,c);o.lstat(f,(e,n)=>{if(e)return r(null,"file");c=n&&n.isDirectory()?"dir":"file",r(null,c)})}function d(f,c){let r;if(c)return c;try{r=o.lstatSync(f)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}return wn={symlinkType:h,symlinkTypeSync:d},wn}var _n,ba;function xf(){if(ba)return _n;ba=1;const o=Je().fromCallback,h=Ce,d=jt(),f=at(),c=f.mkdirs,r=f.mkdirsSync,e=Nf(),n=e.symlinkPaths,t=e.symlinkPathsSync,s=Ff(),i=s.symlinkType,u=s.symlinkTypeSync,a=Dt().pathExists,{areIdentical:m}=Ht();function g(_,T,O,P){P=typeof O=="function"?O:P,O=typeof O=="function"?!1:O,d.lstat(T,(U,R)=>{!U&&R.isSymbolicLink()?Promise.all([d.stat(_),d.stat(T)]).then(([S,b])=>{if(m(S,b))return P(null);v(_,T,O,P)}):v(_,T,O,P)})}function v(_,T,O,P){n(_,T,(U,R)=>{if(U)return P(U);_=R.toDst,i(R.toCwd,O,(S,b)=>{if(S)return P(S);const E=h.dirname(T);a(E,(M,$)=>{if(M)return P(M);if($)return d.symlink(_,T,b,P);c(E,L=>{if(L)return P(L);d.symlink(_,T,b,P)})})})})}function p(_,T,O){let P;try{P=d.lstatSync(T)}catch{}if(P&&P.isSymbolicLink()){const b=d.statSync(_),E=d.statSync(T);if(m(b,E))return}const U=t(_,T);_=U.toDst,O=u(U.toCwd,O);const R=h.dirname(T);return d.existsSync(R)||r(R),d.symlinkSync(_,T,O)}return _n={createSymlink:o(g),createSymlinkSync:p},_n}var Sn,Ra;function Lf(){if(Ra)return Sn;Ra=1;const{createFile:o,createFileSync:h}=Df(),{createLink:d,createLinkSync:f}=If(),{createSymlink:c,createSymlinkSync:r}=xf();return Sn={createFile:o,createFileSync:h,ensureFile:o,ensureFileSync:h,createLink:d,createLinkSync:f,ensureLink:d,ensureLinkSync:f,createSymlink:c,createSymlinkSync:r,ensureSymlink:c,ensureSymlinkSync:r},Sn}var An,Ta;function Io(){if(Ta)return An;Ta=1;function o(d,{EOL:f=`
`,finalEOL:c=!0,replacer:r=null,spaces:e}={}){const n=c?f:"";return JSON.stringify(d,r,e).replace(/\n/g,f)+n}function h(d){return Buffer.isBuffer(d)&&(d=d.toString("utf8")),d.replace(/^\uFEFF/,"")}return An={stringify:o,stripBom:h},An}var bn,Ca;function $f(){if(Ca)return bn;Ca=1;let o;try{o=ze()}catch{o=Xe}const h=Je(),{stringify:d,stripBom:f}=Io();async function c(u,a={}){typeof a=="string"&&(a={encoding:a});const m=a.fs||o,g="throws"in a?a.throws:!0;let v=await h.fromCallback(m.readFile)(u,a);v=f(v);let p;try{p=JSON.parse(v,a?a.reviver:null)}catch(_){if(g)throw _.message=`${u}: ${_.message}`,_;return null}return p}const r=h.fromPromise(c);function e(u,a={}){typeof a=="string"&&(a={encoding:a});const m=a.fs||o,g="throws"in a?a.throws:!0;try{let v=m.readFileSync(u,a);return v=f(v),JSON.parse(v,a.reviver)}catch(v){if(g)throw v.message=`${u}: ${v.message}`,v;return null}}async function n(u,a,m={}){const g=m.fs||o,v=d(a,m);await h.fromCallback(g.writeFile)(u,v,m)}const t=h.fromPromise(n);function s(u,a,m={}){const g=m.fs||o,v=d(a,m);return g.writeFileSync(u,v,m)}return bn={readFile:r,readFileSync:e,writeFile:t,writeFileSync:s},bn}var Rn,Oa;function Uf(){if(Oa)return Rn;Oa=1;const o=$f();return Rn={readJson:o.readFile,readJsonSync:o.readFileSync,writeJson:o.writeFile,writeJsonSync:o.writeFileSync},Rn}var Tn,Pa;function No(){if(Pa)return Tn;Pa=1;const o=Je().fromCallback,h=ze(),d=Ce,f=at(),c=Dt().pathExists;function r(n,t,s,i){typeof s=="function"&&(i=s,s="utf8");const u=d.dirname(n);c(u,(a,m)=>{if(a)return i(a);if(m)return h.writeFile(n,t,s,i);f.mkdirs(u,g=>{if(g)return i(g);h.writeFile(n,t,s,i)})})}function e(n,...t){const s=d.dirname(n);if(h.existsSync(s))return h.writeFileSync(n,...t);f.mkdirsSync(s),h.writeFileSync(n,...t)}return Tn={outputFile:o(r),outputFileSync:e},Tn}var Cn,Da;function qf(){if(Da)return Cn;Da=1;const{stringify:o}=Io(),{outputFile:h}=No();async function d(f,c,r={}){const e=o(c,r);await h(f,e,r)}return Cn=d,Cn}var On,Ia;function kf(){if(Ia)return On;Ia=1;const{stringify:o}=Io(),{outputFileSync:h}=No();function d(f,c,r){const e=o(c,r);h(f,e,r)}return On=d,On}var Pn,Na;function Mf(){if(Na)return Pn;Na=1;const o=Je().fromPromise,h=Uf();return h.outputJson=o(qf()),h.outputJsonSync=kf(),h.outputJSON=h.outputJson,h.outputJSONSync=h.outputJsonSync,h.writeJSON=h.writeJson,h.writeJSONSync=h.writeJsonSync,h.readJSON=h.readJson,h.readJSONSync=h.readJsonSync,Pn=h,Pn}var Dn,Fa;function Bf(){if(Fa)return Dn;Fa=1;const o=ze(),h=Ce,d=Do().copy,f=Wr().remove,c=at().mkdirp,r=Dt().pathExists,e=Ht();function n(a,m,g,v){typeof g=="function"&&(v=g,g={}),g=g||{};const p=g.overwrite||g.clobber||!1;e.checkPaths(a,m,"move",g,(_,T)=>{if(_)return v(_);const{srcStat:O,isChangingCase:P=!1}=T;e.checkParentPaths(a,O,m,"move",U=>{if(U)return v(U);if(t(m))return s(a,m,p,P,v);c(h.dirname(m),R=>R?v(R):s(a,m,p,P,v))})})}function t(a){const m=h.dirname(a);return h.parse(m).root===m}function s(a,m,g,v,p){if(v)return i(a,m,g,p);if(g)return f(m,_=>_?p(_):i(a,m,g,p));r(m,(_,T)=>_?p(_):T?p(new Error("dest already exists.")):i(a,m,g,p))}function i(a,m,g,v){o.rename(a,m,p=>p?p.code!=="EXDEV"?v(p):u(a,m,g,v):v())}function u(a,m,g,v){d(a,m,{overwrite:g,errorOnExist:!0},_=>_?v(_):f(a,v))}return Dn=n,Dn}var In,xa;function jf(){if(xa)return In;xa=1;const o=ze(),h=Ce,d=Do().copySync,f=Wr().removeSync,c=at().mkdirpSync,r=Ht();function e(u,a,m){m=m||{};const g=m.overwrite||m.clobber||!1,{srcStat:v,isChangingCase:p=!1}=r.checkPathsSync(u,a,"move",m);return r.checkParentPathsSync(u,v,a,"move"),n(a)||c(h.dirname(a)),t(u,a,g,p)}function n(u){const a=h.dirname(u);return h.parse(a).root===a}function t(u,a,m,g){if(g)return s(u,a,m);if(m)return f(a),s(u,a,m);if(o.existsSync(a))throw new Error("dest already exists.");return s(u,a,m)}function s(u,a,m){try{o.renameSync(u,a)}catch(g){if(g.code!=="EXDEV")throw g;return i(u,a,m)}}function i(u,a,m){return d(u,a,{overwrite:m,errorOnExist:!0}),f(u)}return In=e,In}var Nn,La;function Hf(){if(La)return Nn;La=1;const o=Je().fromCallback;return Nn={move:o(Bf()),moveSync:jf()},Nn}var Fn,$a;function yt(){return $a||($a=1,Fn={...jt(),...Do(),...Pf(),...Lf(),...Mf(),...at(),...Hf(),...No(),...Dt(),...Wr()}),Fn}var Yt={},Tt={},xn={},Ct={},Ua;function Fo(){if(Ua)return Ct;Ua=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.CancellationError=Ct.CancellationToken=void 0;const o=Gr;let h=class extends o.EventEmitter{get cancelled(){return this._cancelled||this._parent!=null&&this._parent.cancelled}set parent(c){this.removeParentCancelHandler(),this._parent=c,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}constructor(c){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,c!=null&&(this.parent=c)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(c){this.cancelled?c():this.once("cancel",c)}createPromise(c){if(this.cancelled)return Promise.reject(new d);const r=()=>{if(e!=null)try{this.removeListener("cancel",e),e=null}catch{}};let e=null;return new Promise((n,t)=>{let s=null;if(e=()=>{try{s!=null&&(s(),s=null)}finally{t(new d)}},this.cancelled){e();return}this.onCancel(e),c(n,t,i=>{s=i})}).then(n=>(r(),n)).catch(n=>{throw r(),n})}removeParentCancelHandler(){const c=this._parent;c!=null&&this.parentCancelHandler!=null&&(c.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}};Ct.CancellationToken=h;class d extends Error{constructor(){super("cancelled")}}return Ct.CancellationError=d,Ct}var Fr={},qa;function Vr(){if(qa)return Fr;qa=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.newError=o;function o(h,d){const f=new Error(h);return f.code=d,f}return Fr}var He={},xr={exports:{}},Lr={exports:{}},Ln,ka;function Gf(){if(ka)return Ln;ka=1;var o=1e3,h=o*60,d=h*60,f=d*24,c=f*7,r=f*365.25;Ln=function(i,u){u=u||{};var a=typeof i;if(a==="string"&&i.length>0)return e(i);if(a==="number"&&isFinite(i))return u.long?t(i):n(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))};function e(i){if(i=String(i),!(i.length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(u){var a=parseFloat(u[1]),m=(u[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return a*r;case"weeks":case"week":case"w":return a*c;case"days":case"day":case"d":return a*f;case"hours":case"hour":case"hrs":case"hr":case"h":return a*d;case"minutes":case"minute":case"mins":case"min":case"m":return a*h;case"seconds":case"second":case"secs":case"sec":case"s":return a*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function n(i){var u=Math.abs(i);return u>=f?Math.round(i/f)+"d":u>=d?Math.round(i/d)+"h":u>=h?Math.round(i/h)+"m":u>=o?Math.round(i/o)+"s":i+"ms"}function t(i){var u=Math.abs(i);return u>=f?s(i,u,f,"day"):u>=d?s(i,u,d,"hour"):u>=h?s(i,u,h,"minute"):u>=o?s(i,u,o,"second"):i+" ms"}function s(i,u,a,m){var g=u>=a*1.5;return Math.round(i/a)+" "+m+(g?"s":"")}return Ln}var $n,Ma;function qu(){if(Ma)return $n;Ma=1;function o(h){f.debug=f,f.default=f,f.coerce=s,f.disable=n,f.enable=r,f.enabled=t,f.humanize=Gf(),f.destroy=i,Object.keys(h).forEach(u=>{f[u]=h[u]}),f.names=[],f.skips=[],f.formatters={};function d(u){let a=0;for(let m=0;m<u.length;m++)a=(a<<5)-a+u.charCodeAt(m),a|=0;return f.colors[Math.abs(a)%f.colors.length]}f.selectColor=d;function f(u){let a,m=null,g,v;function p(..._){if(!p.enabled)return;const T=p,O=Number(new Date),P=O-(a||O);T.diff=P,T.prev=a,T.curr=O,a=O,_[0]=f.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let U=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(S,b)=>{if(S==="%%")return"%";U++;const E=f.formatters[b];if(typeof E=="function"){const M=_[U];S=E.call(T,M),_.splice(U,1),U--}return S}),f.formatArgs.call(T,_),(T.log||f.log).apply(T,_)}return p.namespace=u,p.useColors=f.useColors(),p.color=f.selectColor(u),p.extend=c,p.destroy=f.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(g!==f.namespaces&&(g=f.namespaces,v=f.enabled(u)),v),set:_=>{m=_}}),typeof f.init=="function"&&f.init(p),p}function c(u,a){const m=f(this.namespace+(typeof a>"u"?":":a)+u);return m.log=this.log,m}function r(u){f.save(u),f.namespaces=u,f.names=[],f.skips=[];const a=(typeof u=="string"?u:"").trim().replace(" ",",").split(",").filter(Boolean);for(const m of a)m[0]==="-"?f.skips.push(m.slice(1)):f.names.push(m)}function e(u,a){let m=0,g=0,v=-1,p=0;for(;m<u.length;)if(g<a.length&&(a[g]===u[m]||a[g]==="*"))a[g]==="*"?(v=g,p=m,g++):(m++,g++);else if(v!==-1)g=v+1,p++,m=p;else return!1;for(;g<a.length&&a[g]==="*";)g++;return g===a.length}function n(){const u=[...f.names,...f.skips.map(a=>"-"+a)].join(",");return f.enable(""),u}function t(u){for(const a of f.skips)if(e(u,a))return!1;for(const a of f.names)if(e(u,a))return!0;return!1}function s(u){return u instanceof Error?u.stack||u.message:u}function i(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return f.enable(f.load()),f}return $n=o,$n}var Ba;function Wf(){return Ba||(Ba=1,function(o,h){h.formatArgs=f,h.save=c,h.load=r,h.useColors=d,h.storage=e(),h.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),h.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function d(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function f(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;t.splice(1,0,s,"color: inherit");let i=0,u=0;t[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(i++,a==="%c"&&(u=i))}),t.splice(u,0,s)}h.log=console.debug||console.log||(()=>{});function c(t){try{t?h.storage.setItem("debug",t):h.storage.removeItem("debug")}catch{}}function r(){let t;try{t=h.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function e(){try{return localStorage}catch{}}o.exports=qu()(h);const{formatters:n}=o.exports;n.j=function(t){try{return JSON.stringify(t)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}}(Lr,Lr.exports)),Lr.exports}var $r={exports:{}},Un,ja;function Vf(){return ja||(ja=1,Un=(o,h=process.argv)=>{const d=o.startsWith("-")?"":o.length===1?"-":"--",f=h.indexOf(d+o),c=h.indexOf("--");return f!==-1&&(c===-1||f<c)}),Un}var qn,Ha;function zf(){if(Ha)return qn;Ha=1;const o=vt,h=xu,d=Vf(),{env:f}=process;let c;d("no-color")||d("no-colors")||d("color=false")||d("color=never")?c=0:(d("color")||d("colors")||d("color=true")||d("color=always"))&&(c=1),"FORCE_COLOR"in f&&(f.FORCE_COLOR==="true"?c=1:f.FORCE_COLOR==="false"?c=0:c=f.FORCE_COLOR.length===0?1:Math.min(parseInt(f.FORCE_COLOR,10),3));function r(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function e(t,s){if(c===0)return 0;if(d("color=16m")||d("color=full")||d("color=truecolor"))return 3;if(d("color=256"))return 2;if(t&&!s&&c===void 0)return 0;const i=c||0;if(f.TERM==="dumb")return i;if(process.platform==="win32"){const u=o.release().split(".");return Number(u[0])>=10&&Number(u[2])>=10586?Number(u[2])>=14931?3:2:1}if("CI"in f)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(u=>u in f)||f.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in f)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(f.TEAMCITY_VERSION)?1:0;if(f.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in f){const u=parseInt((f.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(f.TERM_PROGRAM){case"iTerm.app":return u>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(f.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(f.TERM)||"COLORTERM"in f?1:i}function n(t){const s=e(t,t&&t.isTTY);return r(s)}return qn={supportsColor:n,stdout:r(e(!0,h.isatty(1))),stderr:r(e(!0,h.isatty(2)))},qn}var Ga;function Yf(){return Ga||(Ga=1,function(o,h){const d=xu,f=Hr;h.init=i,h.log=n,h.formatArgs=r,h.save=t,h.load=s,h.useColors=c,h.destroy=f.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),h.colors=[6,2,3,4,5,1];try{const a=zf();a&&(a.stderr||a).level>=2&&(h.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}h.inspectOpts=Object.keys(process.env).filter(a=>/^debug_/i.test(a)).reduce((a,m)=>{const g=m.substring(6).toLowerCase().replace(/_([a-z])/g,(p,_)=>_.toUpperCase());let v=process.env[m];return/^(yes|on|true|enabled)$/i.test(v)?v=!0:/^(no|off|false|disabled)$/i.test(v)?v=!1:v==="null"?v=null:v=Number(v),a[g]=v,a},{});function c(){return"colors"in h.inspectOpts?!!h.inspectOpts.colors:d.isatty(process.stderr.fd)}function r(a){const{namespace:m,useColors:g}=this;if(g){const v=this.color,p="\x1B[3"+(v<8?v:"8;5;"+v),_=`  ${p};1m${m} \x1B[0m`;a[0]=_+a[0].split(`
`).join(`
`+_),a.push(p+"m+"+o.exports.humanize(this.diff)+"\x1B[0m")}else a[0]=e()+m+" "+a[0]}function e(){return h.inspectOpts.hideDate?"":new Date().toISOString()+" "}function n(...a){return process.stderr.write(f.formatWithOptions(h.inspectOpts,...a)+`
`)}function t(a){a?process.env.DEBUG=a:delete process.env.DEBUG}function s(){return process.env.DEBUG}function i(a){a.inspectOpts={};const m=Object.keys(h.inspectOpts);for(let g=0;g<m.length;g++)a.inspectOpts[m[g]]=h.inspectOpts[m[g]]}o.exports=qu()(h);const{formatters:u}=o.exports;u.o=function(a){return this.inspectOpts.colors=this.useColors,f.inspect(a,this.inspectOpts).split(`
`).map(m=>m.trim()).join(" ")},u.O=function(a){return this.inspectOpts.colors=this.useColors,f.inspect(a,this.inspectOpts)}}($r,$r.exports)),$r.exports}var Wa;function Xf(){return Wa||(Wa=1,typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?xr.exports=Wf():xr.exports=Yf()),xr.exports}var Xt={},Va;function ku(){if(Va)return Xt;Va=1,Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.ProgressCallbackTransform=void 0;const o=yr;let h=class extends o.Transform{constructor(f,c,r){super(),this.total=f,this.cancellationToken=c,this.onProgress=r,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(f,c,r){if(this.cancellationToken.cancelled){r(new Error("cancelled"),null);return}this.transferred+=f.length,this.delta+=f.length;const e=Date.now();e>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=e+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((e-this.start)/1e3))}),this.delta=0),r(null,f)}_flush(f){if(this.cancellationToken.cancelled){f(new Error("cancelled"));return}this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,f(null)}};return Xt.ProgressCallbackTransform=h,Xt}var za;function Jf(){if(za)return He;za=1,Object.defineProperty(He,"__esModule",{value:!0}),He.DigestTransform=He.HttpExecutor=He.HttpError=void 0,He.createHttpError=s,He.parseJson=a,He.configureRequestOptionsFromUrl=g,He.configureRequestUrl=v,He.safeGetHeader=T,He.configureRequestOptions=P,He.safeStringifyJson=U;const o=wr,h=Xf(),d=Xe,f=yr,c=Bt,r=Fo(),e=Vr(),n=ku(),t=(0,h.default)("electron-builder");function s(R,S=null){return new u(R.statusCode||-1,`${R.statusCode} ${R.statusMessage}`+(S==null?"":`
`+JSON.stringify(S,null,"  "))+`
Headers: `+U(R.headers),S)}const i=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]);class u extends Error{constructor(S,b=`HTTP error: ${i.get(S)||S}`,E=null){super(b),this.statusCode=S,this.description=E,this.name="HttpError",this.code=`HTTP_ERROR_${S}`}isServerError(){return this.statusCode>=500&&this.statusCode<=599}}He.HttpError=u;function a(R){return R.then(S=>S==null||S.length===0?null:JSON.parse(S))}class m{constructor(){this.maxRedirects=10}request(S,b=new r.CancellationToken,E){P(S);const M=E==null?void 0:JSON.stringify(E),$=M?Buffer.from(M):void 0;if($!=null){t(M);const{headers:L,...k}=S;S={method:"post",headers:{"Content-Type":"application/json","Content-Length":$.length,...L},...k}}return this.doApiRequest(S,b,L=>L.end($))}doApiRequest(S,b,E,M=0){return t.enabled&&t(`Request: ${U(S)}`),b.createPromise(($,L,k)=>{const N=this.createRequest(S,D=>{try{this.handleResponse(D,S,b,$,L,M,E)}catch(F){L(F)}});this.addErrorAndTimeoutHandlers(N,L,S.timeout),this.addRedirectHandlers(N,S,L,M,D=>{this.doApiRequest(D,b,E,M).then($).catch(L)}),E(N,L),k(()=>N.abort())})}addRedirectHandlers(S,b,E,M,$){}addErrorAndTimeoutHandlers(S,b,E=60*1e3){this.addTimeOutHandler(S,b,E),S.on("error",b),S.on("aborted",()=>{b(new Error("Request has been aborted by the server"))})}handleResponse(S,b,E,M,$,L,k){var N;if(t.enabled&&t(`Response: ${S.statusCode} ${S.statusMessage}, request options: ${U(b)}`),S.statusCode===404){$(s(S,`method: ${b.method||"GET"} url: ${b.protocol||"https:"}//${b.hostname}${b.port?`:${b.port}`:""}${b.path}

Please double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.
`));return}else if(S.statusCode===204){M();return}const D=(N=S.statusCode)!==null&&N!==void 0?N:0,F=D>=300&&D<400,q=T(S,"location");if(F&&q!=null){if(L>this.maxRedirects){$(this.createMaxRedirectError());return}this.doApiRequest(m.prepareRedirectUrlOptions(q,b),E,k,L).then(M).catch($);return}S.setEncoding("utf8");let K="";S.on("error",$),S.on("data",W=>K+=W),S.on("end",()=>{try{if(S.statusCode!=null&&S.statusCode>=400){const W=T(S,"content-type"),ne=W!=null&&(Array.isArray(W)?W.find(ce=>ce.includes("json"))!=null:W.includes("json"));$(s(S,`method: ${b.method||"GET"} url: ${b.protocol||"https:"}//${b.hostname}${b.port?`:${b.port}`:""}${b.path}

          Data:
          ${ne?JSON.stringify(JSON.parse(K)):K}
          `))}else M(K.length===0?null:K)}catch(W){$(W)}})}async downloadToBuffer(S,b){return await b.cancellationToken.createPromise((E,M,$)=>{const L=[],k={headers:b.headers||void 0,redirect:"manual"};v(S,k),P(k),this.doDownload(k,{destination:null,options:b,onCancel:$,callback:N=>{N==null?E(Buffer.concat(L)):M(N)},responseHandler:(N,D)=>{let F=0;N.on("data",q=>{if(F+=q.length,F>524288e3){D(new Error("Maximum allowed size is 500 MB"));return}L.push(q)}),N.on("end",()=>{D(null)})}},0)})}doDownload(S,b,E){const M=this.createRequest(S,$=>{if($.statusCode>=400){b.callback(new Error(`Cannot download "${S.protocol||"https:"}//${S.hostname}${S.path}", status ${$.statusCode}: ${$.statusMessage}`));return}$.on("error",b.callback);const L=T($,"location");if(L!=null){E<this.maxRedirects?this.doDownload(m.prepareRedirectUrlOptions(L,S),b,E++):b.callback(this.createMaxRedirectError());return}b.responseHandler==null?O(b,$):b.responseHandler($,b.callback)});this.addErrorAndTimeoutHandlers(M,b.callback,S.timeout),this.addRedirectHandlers(M,S,b.callback,E,$=>{this.doDownload($,b,E++)}),M.end()}createMaxRedirectError(){return new Error(`Too many redirects (> ${this.maxRedirects})`)}addTimeOutHandler(S,b,E){S.on("socket",M=>{M.setTimeout(E,()=>{S.abort(),b(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(S,b){const E=g(S,{...b}),M=E.headers;if(M!=null&&M.authorization){const $=new c.URL(S);($.hostname.endsWith(".amazonaws.com")||$.searchParams.has("X-Amz-Credential"))&&delete M.authorization}return E}static retryOnServerError(S,b=3){for(let E=0;;E++)try{return S()}catch(M){if(E<b&&(M instanceof u&&M.isServerError()||M.code==="EPIPE"))continue;throw M}}}He.HttpExecutor=m;function g(R,S){const b=P(S);return v(new c.URL(R),b),b}function v(R,S){S.protocol=R.protocol,S.hostname=R.hostname,R.port?S.port=R.port:S.port&&delete S.port,S.path=R.pathname+R.search}class p extends f.Transform{get actual(){return this._actual}constructor(S,b="sha512",E="base64"){super(),this.expected=S,this.algorithm=b,this.encoding=E,this._actual=null,this.isValidateOnEnd=!0,this.digester=(0,o.createHash)(b)}_transform(S,b,E){this.digester.update(S),E(null,S)}_flush(S){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(b){S(b);return}S(null)}validate(){if(this._actual==null)throw(0,e.newError)("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw(0,e.newError)(`${this.algorithm} checksum mismatch, expected ${this.expected}, got ${this._actual}`,"ERR_CHECKSUM_MISMATCH");return null}}He.DigestTransform=p;function _(R,S,b){return R!=null&&S!=null&&R!==S?(b(new Error(`checksum mismatch: expected ${S} but got ${R} (X-Checksum-Sha2 header)`)),!1):!0}function T(R,S){const b=R.headers[S];return b==null?null:Array.isArray(b)?b.length===0?null:b[b.length-1]:b}function O(R,S){if(!_(T(S,"X-Checksum-Sha2"),R.options.sha2,R.callback))return;const b=[];if(R.options.onProgress!=null){const L=T(S,"content-length");L!=null&&b.push(new n.ProgressCallbackTransform(parseInt(L,10),R.options.cancellationToken,R.options.onProgress))}const E=R.options.sha512;E!=null?b.push(new p(E,"sha512",E.length===128&&!E.includes("+")&&!E.includes("Z")&&!E.includes("=")?"hex":"base64")):R.options.sha2!=null&&b.push(new p(R.options.sha2,"sha256","hex"));const M=(0,d.createWriteStream)(R.destination);b.push(M);let $=S;for(const L of b)L.on("error",k=>{M.close(),R.options.cancellationToken.cancelled||R.callback(k)}),$=$.pipe(L);M.on("finish",()=>{M.close(R.callback)})}function P(R,S,b){b!=null&&(R.method=b),R.headers={...R.headers};const E=R.headers;return S!=null&&(E.authorization=S.startsWith("Basic")||S.startsWith("Bearer")?S:`token ${S}`),E["User-Agent"]==null&&(E["User-Agent"]="electron-builder"),(b==null||b==="GET"||E["Cache-Control"]==null)&&(E["Cache-Control"]="no-cache"),R.protocol==null&&process.versions.electron!=null&&(R.protocol="https:"),R}function U(R,S){return JSON.stringify(R,(b,E)=>b.endsWith("Authorization")||b.endsWith("authorization")||b.endsWith("Password")||b.endsWith("PASSWORD")||b.endsWith("Token")||b.includes("password")||b.includes("token")||S!=null&&S.has(b)?"<stripped sensitive data>":E,2)}return He}var Jt={},Ya;function Kf(){if(Ya)return Jt;Ya=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.MemoLazy=void 0;let o=class{constructor(f,c){this.selector=f,this.creator=c,this.selected=void 0,this._value=void 0}get hasValue(){return this._value!==void 0}get value(){const f=this.selector();if(this._value!==void 0&&h(this.selected,f))return this._value;this.selected=f;const c=this.creator(f);return this.value=c,c}set value(f){this._value=f}};Jt.MemoLazy=o;function h(d,f){if(typeof d=="object"&&d!==null&&(typeof f=="object"&&f!==null)){const e=Object.keys(d),n=Object.keys(f);return e.length===n.length&&e.every(t=>h(d[t],f[t]))}return d===f}return Jt}var Kt={},Xa;function Qf(){if(Xa)return Kt;Xa=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.githubUrl=o,Kt.getS3LikeProviderBaseUrl=h;function o(r,e="github.com"){return`${r.protocol||"https"}://${r.host||e}`}function h(r){const e=r.provider;if(e==="s3")return d(r);if(e==="spaces")return c(r);throw new Error(`Not supported provider: ${e}`)}function d(r){let e;if(r.accelerate==!0)e=`https://${r.bucket}.s3-accelerate.amazonaws.com`;else if(r.endpoint!=null)e=`${r.endpoint}/${r.bucket}`;else if(r.bucket.includes(".")){if(r.region==null)throw new Error(`Bucket name "${r.bucket}" includes a dot, but S3 region is missing`);r.region==="us-east-1"?e=`https://s3.amazonaws.com/${r.bucket}`:e=`https://s3-${r.region}.amazonaws.com/${r.bucket}`}else r.region==="cn-north-1"?e=`https://${r.bucket}.s3.${r.region}.amazonaws.com.cn`:e=`https://${r.bucket}.s3.amazonaws.com`;return f(e,r.path)}function f(r,e){return e!=null&&e.length>0&&(e.startsWith("/")||(r+="/"),r+=e),r}function c(r){if(r.name==null)throw new Error("name is missing");if(r.region==null)throw new Error("region is missing");return f(`https://${r.name}.${r.region}.digitaloceanspaces.com`,r.path)}return Kt}var Ur={},Ja;function Zf(){if(Ja)return Ur;Ja=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.retry=h;const o=Fo();async function h(d,f,c,r=0,e=0,n){var t;const s=new o.CancellationToken;try{return await d()}catch(i){if((!((t=n==null?void 0:n(i))!==null&&t!==void 0)||t)&&f>0&&!s.cancelled)return await new Promise(u=>setTimeout(u,c+r*e)),await h(d,f-1,c,r,e+1,n);throw i}}return Ur}var qr={},Ka;function ed(){if(Ka)return qr;Ka=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.parseDn=o;function o(h){let d=!1,f=null,c="",r=0;h=h.trim();const e=new Map;for(let n=0;n<=h.length;n++){if(n===h.length){f!==null&&e.set(f,c);break}const t=h[n];if(d){if(t==='"'){d=!1;continue}}else{if(t==='"'){d=!0;continue}if(t==="\\"){n++;const s=parseInt(h.slice(n,n+2),16);Number.isNaN(s)?c+=h[n]:(n++,c+=String.fromCharCode(s));continue}if(f===null&&t==="="){f=c,c="";continue}if(t===","||t===";"||t==="+"){f!==null&&e.set(f,c),f=null,c="";continue}}if(t===" "&&!d){if(c.length===0)continue;if(n>r){let s=n;for(;h[s]===" ";)s++;r=s}if(r>=h.length||h[r]===","||h[r]===";"||f===null&&h[r]==="="||f!==null&&h[r]==="+"){n=r-1;continue}}c+=t}return e}return qr}var Ot={},Qa;function td(){if(Qa)return Ot;Qa=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.nil=Ot.UUID=void 0;const o=wr,h=Vr(),d="options.name must be either a string or a Buffer",f=(0,o.randomBytes)(16);f[0]=f[0]|1;const c={},r=[];for(let u=0;u<256;u++){const a=(u+256).toString(16).substr(1);c[a]=u,r[u]=a}class e{constructor(a){this.ascii=null,this.binary=null;const m=e.check(a);if(!m)throw new Error("not a UUID");this.version=m.version,m.format==="ascii"?this.ascii=a:this.binary=a}static v5(a,m){return s(a,"sha1",80,m)}toString(){return this.ascii==null&&(this.ascii=i(this.binary)),this.ascii}inspect(){return`UUID v${this.version} ${this.toString()}`}static check(a,m=0){if(typeof a=="string")return a=a.toLowerCase(),/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(a)?a==="00000000-0000-0000-0000-000000000000"?{version:void 0,variant:"nil",format:"ascii"}:{version:(c[a[14]+a[15]]&240)>>4,variant:n((c[a[19]+a[20]]&224)>>5),format:"ascii"}:!1;if(Buffer.isBuffer(a)){if(a.length<m+16)return!1;let g=0;for(;g<16&&a[m+g]===0;g++);return g===16?{version:void 0,variant:"nil",format:"binary"}:{version:(a[m+6]&240)>>4,variant:n((a[m+8]&224)>>5),format:"binary"}}throw(0,h.newError)("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(a){const m=Buffer.allocUnsafe(16);let g=0;for(let v=0;v<16;v++)m[v]=c[a[g++]+a[g++]],(v===3||v===5||v===7||v===9)&&(g+=1);return m}}Ot.UUID=e,e.OID=e.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8");function n(u){switch(u){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var t;(function(u){u[u.ASCII=0]="ASCII",u[u.BINARY=1]="BINARY",u[u.OBJECT=2]="OBJECT"})(t||(t={}));function s(u,a,m,g,v=t.ASCII){const p=(0,o.createHash)(a);if(typeof u!="string"&&!Buffer.isBuffer(u))throw(0,h.newError)(d,"ERR_INVALID_UUID_NAME");p.update(g),p.update(u);const T=p.digest();let O;switch(v){case t.BINARY:T[6]=T[6]&15|m,T[8]=T[8]&63|128,O=T;break;case t.OBJECT:T[6]=T[6]&15|m,T[8]=T[8]&63|128,O=new e(T);break;default:O=r[T[0]]+r[T[1]]+r[T[2]]+r[T[3]]+"-"+r[T[4]]+r[T[5]]+"-"+r[T[6]&15|m]+r[T[7]]+"-"+r[T[8]&63|128]+r[T[9]]+"-"+r[T[10]]+r[T[11]]+r[T[12]]+r[T[13]]+r[T[14]]+r[T[15]];break}return O}function i(u){return r[u[0]]+r[u[1]]+r[u[2]]+r[u[3]]+"-"+r[u[4]]+r[u[5]]+"-"+r[u[6]]+r[u[7]]+"-"+r[u[8]]+r[u[9]]+"-"+r[u[10]]+r[u[11]]+r[u[12]]+r[u[13]]+r[u[14]]+r[u[15]]}return Ot.nil=new e("00000000-0000-0000-0000-000000000000"),Ot}var $t={},kn={},Za;function rd(){return Za||(Za=1,function(o){(function(h){h.parser=function(A,y){return new f(A,y)},h.SAXParser=f,h.SAXStream=i,h.createStream=s,h.MAX_BUFFER_LENGTH=64*1024;var d=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];h.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function f(A,y){if(!(this instanceof f))return new f(A,y);var j=this;r(j),j.q=j.c="",j.bufferCheckPosition=h.MAX_BUFFER_LENGTH,j.opt=y||{},j.opt.lowercase=j.opt.lowercase||j.opt.lowercasetags,j.looseCase=j.opt.lowercase?"toLowerCase":"toUpperCase",j.tags=[],j.closed=j.closedRoot=j.sawRoot=!1,j.tag=j.error=null,j.strict=!!A,j.noscript=!!(A||j.opt.noscript),j.state=E.BEGIN,j.strictEntities=j.opt.strictEntities,j.ENTITIES=j.strictEntities?Object.create(h.XML_ENTITIES):Object.create(h.ENTITIES),j.attribList=[],j.opt.xmlns&&(j.ns=Object.create(v)),j.opt.unquotedAttributeValues===void 0&&(j.opt.unquotedAttributeValues=!A),j.trackPosition=j.opt.position!==!1,j.trackPosition&&(j.position=j.line=j.column=0),$(j,"onready")}Object.create||(Object.create=function(A){function y(){}y.prototype=A;var j=new y;return j}),Object.keys||(Object.keys=function(A){var y=[];for(var j in A)A.hasOwnProperty(j)&&y.push(j);return y});function c(A){for(var y=Math.max(h.MAX_BUFFER_LENGTH,10),j=0,I=0,le=d.length;I<le;I++){var me=A[d[I]].length;if(me>y)switch(d[I]){case"textNode":k(A);break;case"cdata":L(A,"oncdata",A.cdata),A.cdata="";break;case"script":L(A,"onscript",A.script),A.script="";break;default:D(A,"Max buffer length exceeded: "+d[I])}j=Math.max(j,me)}var pe=h.MAX_BUFFER_LENGTH-j;A.bufferCheckPosition=pe+A.position}function r(A){for(var y=0,j=d.length;y<j;y++)A[d[y]]=""}function e(A){k(A),A.cdata!==""&&(L(A,"oncdata",A.cdata),A.cdata=""),A.script!==""&&(L(A,"onscript",A.script),A.script="")}f.prototype={end:function(){F(this)},write:ye,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){e(this)}};var n;try{n=require("stream").Stream}catch{n=function(){}}n||(n=function(){});var t=h.EVENTS.filter(function(A){return A!=="error"&&A!=="end"});function s(A,y){return new i(A,y)}function i(A,y){if(!(this instanceof i))return new i(A,y);n.apply(this),this._parser=new f(A,y),this.writable=!0,this.readable=!0;var j=this;this._parser.onend=function(){j.emit("end")},this._parser.onerror=function(I){j.emit("error",I),j._parser.error=null},this._decoder=null,t.forEach(function(I){Object.defineProperty(j,"on"+I,{get:function(){return j._parser["on"+I]},set:function(le){if(!le)return j.removeAllListeners(I),j._parser["on"+I]=le,le;j.on(I,le)},enumerable:!0,configurable:!1})})}i.prototype=Object.create(n.prototype,{constructor:{value:i}}),i.prototype.write=function(A){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(A)){if(!this._decoder){var y=yf.StringDecoder;this._decoder=new y("utf8")}A=this._decoder.write(A)}return this._parser.write(A.toString()),this.emit("data",A),!0},i.prototype.end=function(A){return A&&A.length&&this.write(A),this._parser.end(),!0},i.prototype.on=function(A,y){var j=this;return!j._parser["on"+A]&&t.indexOf(A)!==-1&&(j._parser["on"+A]=function(){var I=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);I.splice(0,0,A),j.emit.apply(j,I)}),n.prototype.on.call(j,A,y)};var u="[CDATA[",a="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",v={xml:m,xmlns:g},p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,O=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function P(A){return A===" "||A===`
`||A==="\r"||A==="	"}function U(A){return A==='"'||A==="'"}function R(A){return A===">"||P(A)}function S(A,y){return A.test(y)}function b(A,y){return!S(A,y)}var E=0;h.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},h.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},h.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(h.ENTITIES).forEach(function(A){var y=h.ENTITIES[A],j=typeof y=="number"?String.fromCharCode(y):y;h.ENTITIES[A]=j});for(var M in h.STATE)h.STATE[h.STATE[M]]=M;E=h.STATE;function $(A,y,j){A[y]&&A[y](j)}function L(A,y,j){A.textNode&&k(A),$(A,y,j)}function k(A){A.textNode=N(A.opt,A.textNode),A.textNode&&$(A,"ontext",A.textNode),A.textNode=""}function N(A,y){return A.trim&&(y=y.trim()),A.normalize&&(y=y.replace(/\s+/g," ")),y}function D(A,y){return k(A),A.trackPosition&&(y+=`
Line: `+A.line+`
Column: `+A.column+`
Char: `+A.c),y=new Error(y),A.error=y,$(A,"onerror",y),A}function F(A){return A.sawRoot&&!A.closedRoot&&q(A,"Unclosed root tag"),A.state!==E.BEGIN&&A.state!==E.BEGIN_WHITESPACE&&A.state!==E.TEXT&&D(A,"Unexpected end"),k(A),A.c="",A.closed=!0,$(A,"onend"),f.call(A,A.strict,A.opt),A}function q(A,y){if(typeof A!="object"||!(A instanceof f))throw new Error("bad call to strictFail");A.strict&&D(A,y)}function K(A){A.strict||(A.tagName=A.tagName[A.looseCase]());var y=A.tags[A.tags.length-1]||A,j=A.tag={name:A.tagName,attributes:{}};A.opt.xmlns&&(j.ns=y.ns),A.attribList.length=0,L(A,"onopentagstart",j)}function W(A,y){var j=A.indexOf(":"),I=j<0?["",A]:A.split(":"),le=I[0],me=I[1];return y&&A==="xmlns"&&(le="xmlns",me=""),{prefix:le,local:me}}function ne(A){if(A.strict||(A.attribName=A.attribName[A.looseCase]()),A.attribList.indexOf(A.attribName)!==-1||A.tag.attributes.hasOwnProperty(A.attribName)){A.attribName=A.attribValue="";return}if(A.opt.xmlns){var y=W(A.attribName,!0),j=y.prefix,I=y.local;if(j==="xmlns")if(I==="xml"&&A.attribValue!==m)q(A,"xml: prefix must be bound to "+m+`
Actual: `+A.attribValue);else if(I==="xmlns"&&A.attribValue!==g)q(A,"xmlns: prefix must be bound to "+g+`
Actual: `+A.attribValue);else{var le=A.tag,me=A.tags[A.tags.length-1]||A;le.ns===me.ns&&(le.ns=Object.create(me.ns)),le.ns[I]=A.attribValue}A.attribList.push([A.attribName,A.attribValue])}else A.tag.attributes[A.attribName]=A.attribValue,L(A,"onattribute",{name:A.attribName,value:A.attribValue});A.attribName=A.attribValue=""}function ce(A,y){if(A.opt.xmlns){var j=A.tag,I=W(A.tagName);j.prefix=I.prefix,j.local=I.local,j.uri=j.ns[I.prefix]||"",j.prefix&&!j.uri&&(q(A,"Unbound namespace prefix: "+JSON.stringify(A.tagName)),j.uri=I.prefix);var le=A.tags[A.tags.length-1]||A;j.ns&&le.ns!==j.ns&&Object.keys(j.ns).forEach(function(B){L(A,"onopennamespace",{prefix:B,uri:j.ns[B]})});for(var me=0,pe=A.attribList.length;me<pe;me++){var _e=A.attribList[me],Ee=_e[0],$e=_e[1],Oe=W(Ee,!0),Be=Oe.prefix,Et=Oe.local,st=Be===""?"":j.ns[Be]||"",l={name:Ee,value:$e,prefix:Be,local:Et,uri:st};Be&&Be!=="xmlns"&&!st&&(q(A,"Unbound namespace prefix: "+JSON.stringify(Be)),l.uri=Be),A.tag.attributes[Ee]=l,L(A,"onattribute",l)}A.attribList.length=0}A.tag.isSelfClosing=!!y,A.sawRoot=!0,A.tags.push(A.tag),L(A,"onopentag",A.tag),y||(!A.noscript&&A.tagName.toLowerCase()==="script"?A.state=E.SCRIPT:A.state=E.TEXT,A.tag=null,A.tagName=""),A.attribName=A.attribValue="",A.attribList.length=0}function ue(A){if(!A.tagName){q(A,"Weird empty close tag."),A.textNode+="</>",A.state=E.TEXT;return}if(A.script){if(A.tagName!=="script"){A.script+="</"+A.tagName+">",A.tagName="",A.state=E.SCRIPT;return}L(A,"onscript",A.script),A.script=""}var y=A.tags.length,j=A.tagName;A.strict||(j=j[A.looseCase]());for(var I=j;y--;){var le=A.tags[y];if(le.name!==I)q(A,"Unexpected close tag");else break}if(y<0){q(A,"Unmatched closing tag: "+A.tagName),A.textNode+="</"+A.tagName+">",A.state=E.TEXT;return}A.tagName=j;for(var me=A.tags.length;me-- >y;){var pe=A.tag=A.tags.pop();A.tagName=A.tag.name,L(A,"onclosetag",A.tagName);var _e={};for(var Ee in pe.ns)_e[Ee]=pe.ns[Ee];var $e=A.tags[A.tags.length-1]||A;A.opt.xmlns&&pe.ns!==$e.ns&&Object.keys(pe.ns).forEach(function(Oe){var Be=pe.ns[Oe];L(A,"onclosenamespace",{prefix:Oe,uri:Be})})}y===0&&(A.closedRoot=!0),A.tagName=A.attribValue=A.attribName="",A.attribList.length=0,A.state=E.TEXT}function ie(A){var y=A.entity,j=y.toLowerCase(),I,le="";return A.ENTITIES[y]?A.ENTITIES[y]:A.ENTITIES[j]?A.ENTITIES[j]:(y=j,y.charAt(0)==="#"&&(y.charAt(1)==="x"?(y=y.slice(2),I=parseInt(y,16),le=I.toString(16)):(y=y.slice(1),I=parseInt(y,10),le=I.toString(10))),y=y.replace(/^0+/,""),isNaN(I)||le.toLowerCase()!==y?(q(A,"Invalid character entity"),"&"+A.entity+";"):String.fromCodePoint(I))}function be(A,y){y==="<"?(A.state=E.OPEN_WAKA,A.startTagPosition=A.position):P(y)||(q(A,"Non-whitespace before first tag."),A.textNode=y,A.state=E.TEXT)}function J(A,y){var j="";return y<A.length&&(j=A.charAt(y)),j}function ye(A){var y=this;if(this.error)throw this.error;if(y.closed)return D(y,"Cannot write after close. Assign an onready handler.");if(A===null)return F(y);typeof A=="object"&&(A=A.toString());for(var j=0,I="";I=J(A,j++),y.c=I,!!I;)switch(y.trackPosition&&(y.position++,I===`
`?(y.line++,y.column=0):y.column++),y.state){case E.BEGIN:if(y.state=E.BEGIN_WHITESPACE,I==="\uFEFF")continue;be(y,I);continue;case E.BEGIN_WHITESPACE:be(y,I);continue;case E.TEXT:if(y.sawRoot&&!y.closedRoot){for(var le=j-1;I&&I!=="<"&&I!=="&";)I=J(A,j++),I&&y.trackPosition&&(y.position++,I===`
`?(y.line++,y.column=0):y.column++);y.textNode+=A.substring(le,j-1)}I==="<"&&!(y.sawRoot&&y.closedRoot&&!y.strict)?(y.state=E.OPEN_WAKA,y.startTagPosition=y.position):(!P(I)&&(!y.sawRoot||y.closedRoot)&&q(y,"Text data outside of root node."),I==="&"?y.state=E.TEXT_ENTITY:y.textNode+=I);continue;case E.SCRIPT:I==="<"?y.state=E.SCRIPT_ENDING:y.script+=I;continue;case E.SCRIPT_ENDING:I==="/"?y.state=E.CLOSE_TAG:(y.script+="<"+I,y.state=E.SCRIPT);continue;case E.OPEN_WAKA:if(I==="!")y.state=E.SGML_DECL,y.sgmlDecl="";else if(!P(I))if(S(p,I))y.state=E.OPEN_TAG,y.tagName=I;else if(I==="/")y.state=E.CLOSE_TAG,y.tagName="";else if(I==="?")y.state=E.PROC_INST,y.procInstName=y.procInstBody="";else{if(q(y,"Unencoded <"),y.startTagPosition+1<y.position){var me=y.position-y.startTagPosition;I=new Array(me).join(" ")+I}y.textNode+="<"+I,y.state=E.TEXT}continue;case E.SGML_DECL:if(y.sgmlDecl+I==="--"){y.state=E.COMMENT,y.comment="",y.sgmlDecl="";continue}y.doctype&&y.doctype!==!0&&y.sgmlDecl?(y.state=E.DOCTYPE_DTD,y.doctype+="<!"+y.sgmlDecl+I,y.sgmlDecl=""):(y.sgmlDecl+I).toUpperCase()===u?(L(y,"onopencdata"),y.state=E.CDATA,y.sgmlDecl="",y.cdata=""):(y.sgmlDecl+I).toUpperCase()===a?(y.state=E.DOCTYPE,(y.doctype||y.sawRoot)&&q(y,"Inappropriately located doctype declaration"),y.doctype="",y.sgmlDecl=""):I===">"?(L(y,"onsgmldeclaration",y.sgmlDecl),y.sgmlDecl="",y.state=E.TEXT):(U(I)&&(y.state=E.SGML_DECL_QUOTED),y.sgmlDecl+=I);continue;case E.SGML_DECL_QUOTED:I===y.q&&(y.state=E.SGML_DECL,y.q=""),y.sgmlDecl+=I;continue;case E.DOCTYPE:I===">"?(y.state=E.TEXT,L(y,"ondoctype",y.doctype),y.doctype=!0):(y.doctype+=I,I==="["?y.state=E.DOCTYPE_DTD:U(I)&&(y.state=E.DOCTYPE_QUOTED,y.q=I));continue;case E.DOCTYPE_QUOTED:y.doctype+=I,I===y.q&&(y.q="",y.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:I==="]"?(y.doctype+=I,y.state=E.DOCTYPE):I==="<"?(y.state=E.OPEN_WAKA,y.startTagPosition=y.position):U(I)?(y.doctype+=I,y.state=E.DOCTYPE_DTD_QUOTED,y.q=I):y.doctype+=I;continue;case E.DOCTYPE_DTD_QUOTED:y.doctype+=I,I===y.q&&(y.state=E.DOCTYPE_DTD,y.q="");continue;case E.COMMENT:I==="-"?y.state=E.COMMENT_ENDING:y.comment+=I;continue;case E.COMMENT_ENDING:I==="-"?(y.state=E.COMMENT_ENDED,y.comment=N(y.opt,y.comment),y.comment&&L(y,"oncomment",y.comment),y.comment=""):(y.comment+="-"+I,y.state=E.COMMENT);continue;case E.COMMENT_ENDED:I!==">"?(q(y,"Malformed comment"),y.comment+="--"+I,y.state=E.COMMENT):y.doctype&&y.doctype!==!0?y.state=E.DOCTYPE_DTD:y.state=E.TEXT;continue;case E.CDATA:I==="]"?y.state=E.CDATA_ENDING:y.cdata+=I;continue;case E.CDATA_ENDING:I==="]"?y.state=E.CDATA_ENDING_2:(y.cdata+="]"+I,y.state=E.CDATA);continue;case E.CDATA_ENDING_2:I===">"?(y.cdata&&L(y,"oncdata",y.cdata),L(y,"onclosecdata"),y.cdata="",y.state=E.TEXT):I==="]"?y.cdata+="]":(y.cdata+="]]"+I,y.state=E.CDATA);continue;case E.PROC_INST:I==="?"?y.state=E.PROC_INST_ENDING:P(I)?y.state=E.PROC_INST_BODY:y.procInstName+=I;continue;case E.PROC_INST_BODY:if(!y.procInstBody&&P(I))continue;I==="?"?y.state=E.PROC_INST_ENDING:y.procInstBody+=I;continue;case E.PROC_INST_ENDING:I===">"?(L(y,"onprocessinginstruction",{name:y.procInstName,body:y.procInstBody}),y.procInstName=y.procInstBody="",y.state=E.TEXT):(y.procInstBody+="?"+I,y.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:S(_,I)?y.tagName+=I:(K(y),I===">"?ce(y):I==="/"?y.state=E.OPEN_TAG_SLASH:(P(I)||q(y,"Invalid character in tag name"),y.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:I===">"?(ce(y,!0),ue(y)):(q(y,"Forward-slash in opening tag not followed by >"),y.state=E.ATTRIB);continue;case E.ATTRIB:if(P(I))continue;I===">"?ce(y):I==="/"?y.state=E.OPEN_TAG_SLASH:S(p,I)?(y.attribName=I,y.attribValue="",y.state=E.ATTRIB_NAME):q(y,"Invalid attribute name");continue;case E.ATTRIB_NAME:I==="="?y.state=E.ATTRIB_VALUE:I===">"?(q(y,"Attribute without value"),y.attribValue=y.attribName,ne(y),ce(y)):P(I)?y.state=E.ATTRIB_NAME_SAW_WHITE:S(_,I)?y.attribName+=I:q(y,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if(I==="=")y.state=E.ATTRIB_VALUE;else{if(P(I))continue;q(y,"Attribute without value"),y.tag.attributes[y.attribName]="",y.attribValue="",L(y,"onattribute",{name:y.attribName,value:""}),y.attribName="",I===">"?ce(y):S(p,I)?(y.attribName=I,y.state=E.ATTRIB_NAME):(q(y,"Invalid attribute name"),y.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(P(I))continue;U(I)?(y.q=I,y.state=E.ATTRIB_VALUE_QUOTED):(y.opt.unquotedAttributeValues||D(y,"Unquoted attribute value"),y.state=E.ATTRIB_VALUE_UNQUOTED,y.attribValue=I);continue;case E.ATTRIB_VALUE_QUOTED:if(I!==y.q){I==="&"?y.state=E.ATTRIB_VALUE_ENTITY_Q:y.attribValue+=I;continue}ne(y),y.q="",y.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:P(I)?y.state=E.ATTRIB:I===">"?ce(y):I==="/"?y.state=E.OPEN_TAG_SLASH:S(p,I)?(q(y,"No whitespace between attributes"),y.attribName=I,y.attribValue="",y.state=E.ATTRIB_NAME):q(y,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!R(I)){I==="&"?y.state=E.ATTRIB_VALUE_ENTITY_U:y.attribValue+=I;continue}ne(y),I===">"?ce(y):y.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(y.tagName)I===">"?ue(y):S(_,I)?y.tagName+=I:y.script?(y.script+="</"+y.tagName,y.tagName="",y.state=E.SCRIPT):(P(I)||q(y,"Invalid tagname in closing tag"),y.state=E.CLOSE_TAG_SAW_WHITE);else{if(P(I))continue;b(p,I)?y.script?(y.script+="</"+I,y.state=E.SCRIPT):q(y,"Invalid tagname in closing tag."):y.tagName=I}continue;case E.CLOSE_TAG_SAW_WHITE:if(P(I))continue;I===">"?ue(y):q(y,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var pe,_e;switch(y.state){case E.TEXT_ENTITY:pe=E.TEXT,_e="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:pe=E.ATTRIB_VALUE_QUOTED,_e="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:pe=E.ATTRIB_VALUE_UNQUOTED,_e="attribValue";break}if(I===";"){var Ee=ie(y);y.opt.unparsedEntities&&!Object.values(h.XML_ENTITIES).includes(Ee)?(y.entity="",y.state=pe,y.write(Ee)):(y[_e]+=Ee,y.entity="",y.state=pe)}else S(y.entity.length?O:T,I)?y.entity+=I:(q(y,"Invalid character in entity name"),y[_e]+="&"+y.entity+I,y.entity="",y.state=pe);continue;default:throw new Error(y,"Unknown state: "+y.state)}return y.position>=y.bufferCheckPosition&&c(y),y}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var A=String.fromCharCode,y=Math.floor,j=function(){var I=16384,le=[],me,pe,_e=-1,Ee=arguments.length;if(!Ee)return"";for(var $e="";++_e<Ee;){var Oe=Number(arguments[_e]);if(!isFinite(Oe)||Oe<0||Oe>1114111||y(Oe)!==Oe)throw RangeError("Invalid code point: "+Oe);Oe<=65535?le.push(Oe):(Oe-=65536,me=(Oe>>10)+55296,pe=Oe%1024+56320,le.push(me,pe)),(_e+1===Ee||le.length>I)&&($e+=A.apply(null,le),le.length=0)}return $e};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:j,configurable:!0,writable:!0}):String.fromCodePoint=j}()})(o)}(kn)),kn}var es;function nd(){if(es)return $t;es=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.XElement=void 0,$t.parseXml=e;const o=rd(),h=Vr();class d{constructor(t){if(this.name=t,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!t)throw(0,h.newError)("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!c(t))throw(0,h.newError)(`Invalid element name: ${t}`,"ERR_XML_ELEMENT_INVALID_NAME")}attribute(t){const s=this.attributes===null?null:this.attributes[t];if(s==null)throw(0,h.newError)(`No attribute "${t}"`,"ERR_XML_MISSED_ATTRIBUTE");return s}removeAttribute(t){this.attributes!==null&&delete this.attributes[t]}element(t,s=!1,i=null){const u=this.elementOrNull(t,s);if(u===null)throw(0,h.newError)(i||`No element "${t}"`,"ERR_XML_MISSED_ELEMENT");return u}elementOrNull(t,s=!1){if(this.elements===null)return null;for(const i of this.elements)if(r(i,t,s))return i;return null}getElements(t,s=!1){return this.elements===null?[]:this.elements.filter(i=>r(i,t,s))}elementValueOrEmpty(t,s=!1){const i=this.elementOrNull(t,s);return i===null?"":i.value}}$t.XElement=d;const f=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function c(n){return f.test(n)}function r(n,t,s){const i=n.name;return i===t||s===!0&&i.length===t.length&&i.toLowerCase()===t.toLowerCase()}function e(n){let t=null;const s=o.parser(!0,{}),i=[];return s.onopentag=u=>{const a=new d(u.name);if(a.attributes=u.attributes,t===null)t=a;else{const m=i[i.length-1];m.elements==null&&(m.elements=[]),m.elements.push(a)}i.push(a)},s.onclosetag=()=>{i.pop()},s.ontext=u=>{i.length>0&&(i[i.length-1].value=u)},s.oncdata=u=>{const a=i[i.length-1];a.value=u,a.isCData=!0},s.onerror=u=>{throw u},s.write(n),t}return $t}var ts;function Me(){return ts||(ts=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.CURRENT_APP_PACKAGE_FILE_NAME=o.CURRENT_APP_INSTALLER_FILE_NAME=o.XElement=o.parseXml=o.UUID=o.parseDn=o.retry=o.githubUrl=o.getS3LikeProviderBaseUrl=o.ProgressCallbackTransform=o.MemoLazy=o.safeStringifyJson=o.safeGetHeader=o.parseJson=o.HttpExecutor=o.HttpError=o.DigestTransform=o.createHttpError=o.configureRequestUrl=o.configureRequestOptionsFromUrl=o.configureRequestOptions=o.newError=o.CancellationToken=o.CancellationError=void 0,o.asArray=u;var h=Fo();Object.defineProperty(o,"CancellationError",{enumerable:!0,get:function(){return h.CancellationError}}),Object.defineProperty(o,"CancellationToken",{enumerable:!0,get:function(){return h.CancellationToken}});var d=Vr();Object.defineProperty(o,"newError",{enumerable:!0,get:function(){return d.newError}});var f=Jf();Object.defineProperty(o,"configureRequestOptions",{enumerable:!0,get:function(){return f.configureRequestOptions}}),Object.defineProperty(o,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return f.configureRequestOptionsFromUrl}}),Object.defineProperty(o,"configureRequestUrl",{enumerable:!0,get:function(){return f.configureRequestUrl}}),Object.defineProperty(o,"createHttpError",{enumerable:!0,get:function(){return f.createHttpError}}),Object.defineProperty(o,"DigestTransform",{enumerable:!0,get:function(){return f.DigestTransform}}),Object.defineProperty(o,"HttpError",{enumerable:!0,get:function(){return f.HttpError}}),Object.defineProperty(o,"HttpExecutor",{enumerable:!0,get:function(){return f.HttpExecutor}}),Object.defineProperty(o,"parseJson",{enumerable:!0,get:function(){return f.parseJson}}),Object.defineProperty(o,"safeGetHeader",{enumerable:!0,get:function(){return f.safeGetHeader}}),Object.defineProperty(o,"safeStringifyJson",{enumerable:!0,get:function(){return f.safeStringifyJson}});var c=Kf();Object.defineProperty(o,"MemoLazy",{enumerable:!0,get:function(){return c.MemoLazy}});var r=ku();Object.defineProperty(o,"ProgressCallbackTransform",{enumerable:!0,get:function(){return r.ProgressCallbackTransform}});var e=Qf();Object.defineProperty(o,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return e.getS3LikeProviderBaseUrl}}),Object.defineProperty(o,"githubUrl",{enumerable:!0,get:function(){return e.githubUrl}});var n=Zf();Object.defineProperty(o,"retry",{enumerable:!0,get:function(){return n.retry}});var t=ed();Object.defineProperty(o,"parseDn",{enumerable:!0,get:function(){return t.parseDn}});var s=td();Object.defineProperty(o,"UUID",{enumerable:!0,get:function(){return s.UUID}});var i=nd();Object.defineProperty(o,"parseXml",{enumerable:!0,get:function(){return i.parseXml}}),Object.defineProperty(o,"XElement",{enumerable:!0,get:function(){return i.XElement}}),o.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe",o.CURRENT_APP_PACKAGE_FILE_NAME="package.7z";function u(a){return a==null?[]:Array.isArray(a)?a:[a]}}(xn)),xn}var Ge={},kr={},mt={},rs;function _r(){if(rs)return mt;rs=1;function o(e){return typeof e>"u"||e===null}function h(e){return typeof e=="object"&&e!==null}function d(e){return Array.isArray(e)?e:o(e)?[]:[e]}function f(e,n){var t,s,i,u;if(n)for(u=Object.keys(n),t=0,s=u.length;t<s;t+=1)i=u[t],e[i]=n[i];return e}function c(e,n){var t="",s;for(s=0;s<n;s+=1)t+=e;return t}function r(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}return mt.isNothing=o,mt.isObject=h,mt.toArray=d,mt.repeat=c,mt.isNegativeZero=r,mt.extend=f,mt}var Mn,ns;function Sr(){if(ns)return Mn;ns=1;function o(d,f){var c="",r=d.reason||"(unknown reason)";return d.mark?(d.mark.name&&(c+='in "'+d.mark.name+'" '),c+="("+(d.mark.line+1)+":"+(d.mark.column+1)+")",!f&&d.mark.snippet&&(c+=`

`+d.mark.snippet),r+" "+c):r}function h(d,f){Error.call(this),this.name="YAMLException",this.reason=d,this.mark=f,this.message=o(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}return h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.toString=function(f){return this.name+": "+o(this,f)},Mn=h,Mn}var Bn,is;function id(){if(is)return Bn;is=1;var o=_r();function h(c,r,e,n,t){var s="",i="",u=Math.floor(t/2)-1;return n-r>u&&(s=" ... ",r=n-u+s.length),e-n>u&&(i=" ...",e=n+u-i.length),{str:s+c.slice(r,e).replace(/\t/g,"→")+i,pos:n-r+s.length}}function d(c,r){return o.repeat(" ",r-c.length)+c}function f(c,r){if(r=Object.create(r||null),!c.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var e=/\r?\n|\r|\0/g,n=[0],t=[],s,i=-1;s=e.exec(c.buffer);)t.push(s.index),n.push(s.index+s[0].length),c.position<=s.index&&i<0&&(i=n.length-2);i<0&&(i=n.length-1);var u="",a,m,g=Math.min(c.line+r.linesAfter,t.length).toString().length,v=r.maxLength-(r.indent+g+3);for(a=1;a<=r.linesBefore&&!(i-a<0);a++)m=h(c.buffer,n[i-a],t[i-a],c.position-(n[i]-n[i-a]),v),u=o.repeat(" ",r.indent)+d((c.line-a+1).toString(),g)+" | "+m.str+`
`+u;for(m=h(c.buffer,n[i],t[i],c.position,v),u+=o.repeat(" ",r.indent)+d((c.line+1).toString(),g)+" | "+m.str+`
`,u+=o.repeat("-",r.indent+g+3+m.pos)+`^
`,a=1;a<=r.linesAfter&&!(i+a>=t.length);a++)m=h(c.buffer,n[i+a],t[i+a],c.position-(n[i]-n[i+a]),v),u+=o.repeat(" ",r.indent)+d((c.line+a+1).toString(),g)+" | "+m.str+`
`;return u.replace(/\n$/,"")}return Bn=f,Bn}var jn,os;function We(){if(os)return jn;os=1;var o=Sr(),h=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],d=["scalar","sequence","mapping"];function f(r){var e={};return r!==null&&Object.keys(r).forEach(function(n){r[n].forEach(function(t){e[String(t)]=n})}),e}function c(r,e){if(e=e||{},Object.keys(e).forEach(function(n){if(h.indexOf(n)===-1)throw new o('Unknown option "'+n+'" is met in definition of "'+r+'" YAML type.')}),this.options=e,this.tag=r,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=f(e.styleAliases||null),d.indexOf(this.kind)===-1)throw new o('Unknown kind "'+this.kind+'" is specified for "'+r+'" YAML type.')}return jn=c,jn}var Hn,as;function Mu(){if(as)return Hn;as=1;var o=Sr(),h=We();function d(r,e){var n=[];return r[e].forEach(function(t){var s=n.length;n.forEach(function(i,u){i.tag===t.tag&&i.kind===t.kind&&i.multi===t.multi&&(s=u)}),n[s]=t}),n}function f(){var r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function t(s){s.multi?(r.multi[s.kind].push(s),r.multi.fallback.push(s)):r[s.kind][s.tag]=r.fallback[s.tag]=s}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(t);return r}function c(r){return this.extend(r)}return c.prototype.extend=function(e){var n=[],t=[];if(e instanceof h)t.push(e);else if(Array.isArray(e))t=t.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(t=t.concat(e.explicit));else throw new o("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(i){if(!(i instanceof h))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&i.loadKind!=="scalar")throw new o("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new o("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),t.forEach(function(i){if(!(i instanceof h))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var s=Object.create(c.prototype);return s.implicit=(this.implicit||[]).concat(n),s.explicit=(this.explicit||[]).concat(t),s.compiledImplicit=d(s,"implicit"),s.compiledExplicit=d(s,"explicit"),s.compiledTypeMap=f(s.compiledImplicit,s.compiledExplicit),s},Hn=c,Hn}var Gn,ss;function Bu(){if(ss)return Gn;ss=1;var o=We();return Gn=new o("tag:yaml.org,2002:str",{kind:"scalar",construct:function(h){return h!==null?h:""}}),Gn}var Wn,ls;function ju(){if(ls)return Wn;ls=1;var o=We();return Wn=new o("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(h){return h!==null?h:[]}}),Wn}var Vn,us;function Hu(){if(us)return Vn;us=1;var o=We();return Vn=new o("tag:yaml.org,2002:map",{kind:"mapping",construct:function(h){return h!==null?h:{}}}),Vn}var zn,cs;function Gu(){if(cs)return zn;cs=1;var o=Mu();return zn=new o({explicit:[Bu(),ju(),Hu()]}),zn}var Yn,fs;function Wu(){if(fs)return Yn;fs=1;var o=We();function h(c){if(c===null)return!0;var r=c.length;return r===1&&c==="~"||r===4&&(c==="null"||c==="Null"||c==="NULL")}function d(){return null}function f(c){return c===null}return Yn=new o("tag:yaml.org,2002:null",{kind:"scalar",resolve:h,construct:d,predicate:f,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),Yn}var Xn,ds;function Vu(){if(ds)return Xn;ds=1;var o=We();function h(c){if(c===null)return!1;var r=c.length;return r===4&&(c==="true"||c==="True"||c==="TRUE")||r===5&&(c==="false"||c==="False"||c==="FALSE")}function d(c){return c==="true"||c==="True"||c==="TRUE"}function f(c){return Object.prototype.toString.call(c)==="[object Boolean]"}return Xn=new o("tag:yaml.org,2002:bool",{kind:"scalar",resolve:h,construct:d,predicate:f,represent:{lowercase:function(c){return c?"true":"false"},uppercase:function(c){return c?"TRUE":"FALSE"},camelcase:function(c){return c?"True":"False"}},defaultStyle:"lowercase"}),Xn}var Jn,hs;function zu(){if(hs)return Jn;hs=1;var o=_r(),h=We();function d(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function f(t){return 48<=t&&t<=55}function c(t){return 48<=t&&t<=57}function r(t){if(t===null)return!1;var s=t.length,i=0,u=!1,a;if(!s)return!1;if(a=t[i],(a==="-"||a==="+")&&(a=t[++i]),a==="0"){if(i+1===s)return!0;if(a=t[++i],a==="b"){for(i++;i<s;i++)if(a=t[i],a!=="_"){if(a!=="0"&&a!=="1")return!1;u=!0}return u&&a!=="_"}if(a==="x"){for(i++;i<s;i++)if(a=t[i],a!=="_"){if(!d(t.charCodeAt(i)))return!1;u=!0}return u&&a!=="_"}if(a==="o"){for(i++;i<s;i++)if(a=t[i],a!=="_"){if(!f(t.charCodeAt(i)))return!1;u=!0}return u&&a!=="_"}}if(a==="_")return!1;for(;i<s;i++)if(a=t[i],a!=="_"){if(!c(t.charCodeAt(i)))return!1;u=!0}return!(!u||a==="_")}function e(t){var s=t,i=1,u;if(s.indexOf("_")!==-1&&(s=s.replace(/_/g,"")),u=s[0],(u==="-"||u==="+")&&(u==="-"&&(i=-1),s=s.slice(1),u=s[0]),s==="0")return 0;if(u==="0"){if(s[1]==="b")return i*parseInt(s.slice(2),2);if(s[1]==="x")return i*parseInt(s.slice(2),16);if(s[1]==="o")return i*parseInt(s.slice(2),8)}return i*parseInt(s,10)}function n(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!o.isNegativeZero(t)}return Jn=new h("tag:yaml.org,2002:int",{kind:"scalar",resolve:r,construct:e,predicate:n,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Jn}var Kn,ps;function Yu(){if(ps)return Kn;ps=1;var o=_r(),h=We(),d=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function f(t){return!(t===null||!d.test(t)||t[t.length-1]==="_")}function c(t){var s,i;return s=t.replace(/_/g,"").toLowerCase(),i=s[0]==="-"?-1:1,"+-".indexOf(s[0])>=0&&(s=s.slice(1)),s===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:s===".nan"?NaN:i*parseFloat(s,10)}var r=/^[-+]?[0-9]+e/;function e(t,s){var i;if(isNaN(t))switch(s){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(s){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(s){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(o.isNegativeZero(t))return"-0.0";return i=t.toString(10),r.test(i)?i.replace("e",".e"):i}function n(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||o.isNegativeZero(t))}return Kn=new h("tag:yaml.org,2002:float",{kind:"scalar",resolve:f,construct:c,predicate:n,represent:e,defaultStyle:"lowercase"}),Kn}var Qn,ms;function Xu(){return ms||(ms=1,Qn=Gu().extend({implicit:[Wu(),Vu(),zu(),Yu()]})),Qn}var Zn,gs;function Ju(){return gs||(gs=1,Zn=Xu()),Zn}var ei,vs;function Ku(){if(vs)return ei;vs=1;var o=We(),h=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),d=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function f(e){return e===null?!1:h.exec(e)!==null||d.exec(e)!==null}function c(e){var n,t,s,i,u,a,m,g=0,v=null,p,_,T;if(n=h.exec(e),n===null&&(n=d.exec(e)),n===null)throw new Error("Date resolve error");if(t=+n[1],s=+n[2]-1,i=+n[3],!n[4])return new Date(Date.UTC(t,s,i));if(u=+n[4],a=+n[5],m=+n[6],n[7]){for(g=n[7].slice(0,3);g.length<3;)g+="0";g=+g}return n[9]&&(p=+n[10],_=+(n[11]||0),v=(p*60+_)*6e4,n[9]==="-"&&(v=-v)),T=new Date(Date.UTC(t,s,i,u,a,m,g)),v&&T.setTime(T.getTime()-v),T}function r(e){return e.toISOString()}return ei=new o("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:f,construct:c,instanceOf:Date,represent:r}),ei}var ti,ys;function Qu(){if(ys)return ti;ys=1;var o=We();function h(d){return d==="<<"||d===null}return ti=new o("tag:yaml.org,2002:merge",{kind:"scalar",resolve:h}),ti}var ri,Es;function Zu(){if(Es)return ri;Es=1;var o=We(),h=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function d(e){if(e===null)return!1;var n,t,s=0,i=e.length,u=h;for(t=0;t<i;t++)if(n=u.indexOf(e.charAt(t)),!(n>64)){if(n<0)return!1;s+=6}return s%8===0}function f(e){var n,t,s=e.replace(/[\r\n=]/g,""),i=s.length,u=h,a=0,m=[];for(n=0;n<i;n++)n%4===0&&n&&(m.push(a>>16&255),m.push(a>>8&255),m.push(a&255)),a=a<<6|u.indexOf(s.charAt(n));return t=i%4*6,t===0?(m.push(a>>16&255),m.push(a>>8&255),m.push(a&255)):t===18?(m.push(a>>10&255),m.push(a>>2&255)):t===12&&m.push(a>>4&255),new Uint8Array(m)}function c(e){var n="",t=0,s,i,u=e.length,a=h;for(s=0;s<u;s++)s%3===0&&s&&(n+=a[t>>18&63],n+=a[t>>12&63],n+=a[t>>6&63],n+=a[t&63]),t=(t<<8)+e[s];return i=u%3,i===0?(n+=a[t>>18&63],n+=a[t>>12&63],n+=a[t>>6&63],n+=a[t&63]):i===2?(n+=a[t>>10&63],n+=a[t>>4&63],n+=a[t<<2&63],n+=a[64]):i===1&&(n+=a[t>>2&63],n+=a[t<<4&63],n+=a[64],n+=a[64]),n}function r(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}return ri=new o("tag:yaml.org,2002:binary",{kind:"scalar",resolve:d,construct:f,predicate:r,represent:c}),ri}var ni,ws;function ec(){if(ws)return ni;ws=1;var o=We(),h=Object.prototype.hasOwnProperty,d=Object.prototype.toString;function f(r){if(r===null)return!0;var e=[],n,t,s,i,u,a=r;for(n=0,t=a.length;n<t;n+=1){if(s=a[n],u=!1,d.call(s)!=="[object Object]")return!1;for(i in s)if(h.call(s,i))if(!u)u=!0;else return!1;if(!u)return!1;if(e.indexOf(i)===-1)e.push(i);else return!1}return!0}function c(r){return r!==null?r:[]}return ni=new o("tag:yaml.org,2002:omap",{kind:"sequence",resolve:f,construct:c}),ni}var ii,_s;function tc(){if(_s)return ii;_s=1;var o=We(),h=Object.prototype.toString;function d(c){if(c===null)return!0;var r,e,n,t,s,i=c;for(s=new Array(i.length),r=0,e=i.length;r<e;r+=1){if(n=i[r],h.call(n)!=="[object Object]"||(t=Object.keys(n),t.length!==1))return!1;s[r]=[t[0],n[t[0]]]}return!0}function f(c){if(c===null)return[];var r,e,n,t,s,i=c;for(s=new Array(i.length),r=0,e=i.length;r<e;r+=1)n=i[r],t=Object.keys(n),s[r]=[t[0],n[t[0]]];return s}return ii=new o("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:d,construct:f}),ii}var oi,Ss;function rc(){if(Ss)return oi;Ss=1;var o=We(),h=Object.prototype.hasOwnProperty;function d(c){if(c===null)return!0;var r,e=c;for(r in e)if(h.call(e,r)&&e[r]!==null)return!1;return!0}function f(c){return c!==null?c:{}}return oi=new o("tag:yaml.org,2002:set",{kind:"mapping",resolve:d,construct:f}),oi}var ai,As;function xo(){return As||(As=1,ai=Ju().extend({implicit:[Ku(),Qu()],explicit:[Zu(),ec(),tc(),rc()]})),ai}var bs;function od(){if(bs)return kr;bs=1;var o=_r(),h=Sr(),d=id(),f=xo(),c=Object.prototype.hasOwnProperty,r=1,e=2,n=3,t=4,s=1,i=2,u=3,a=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/[\x85\u2028\u2029]/,g=/[,\[\]\{\}]/,v=/^(?:!|!!|![a-z\-]+!)$/i,p=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _(l){return Object.prototype.toString.call(l)}function T(l){return l===10||l===13}function O(l){return l===9||l===32}function P(l){return l===9||l===32||l===10||l===13}function U(l){return l===44||l===91||l===93||l===123||l===125}function R(l){var B;return 48<=l&&l<=57?l-48:(B=l|32,97<=B&&B<=102?B-97+10:-1)}function S(l){return l===120?2:l===117?4:l===85?8:0}function b(l){return 48<=l&&l<=57?l-48:-1}function E(l){return l===48?"\0":l===97?"\x07":l===98?"\b":l===116||l===9?"	":l===110?`
`:l===118?"\v":l===102?"\f":l===114?"\r":l===101?"\x1B":l===32?" ":l===34?'"':l===47?"/":l===92?"\\":l===78?"":l===95?" ":l===76?"\u2028":l===80?"\u2029":""}function M(l){return l<=65535?String.fromCharCode(l):String.fromCharCode((l-65536>>10)+55296,(l-65536&1023)+56320)}for(var $=new Array(256),L=new Array(256),k=0;k<256;k++)$[k]=E(k)?1:0,L[k]=E(k);function N(l,B){this.input=l,this.filename=B.filename||null,this.schema=B.schema||f,this.onWarning=B.onWarning||null,this.legacy=B.legacy||!1,this.json=B.json||!1,this.listener=B.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=l.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function D(l,B){var G={name:l.filename,buffer:l.input.slice(0,-1),position:l.position,line:l.line,column:l.position-l.lineStart};return G.snippet=d(G),new h(B,G)}function F(l,B){throw D(l,B)}function q(l,B){l.onWarning&&l.onWarning.call(null,D(l,B))}var K={YAML:function(B,G,re){var V,te,Z;B.version!==null&&F(B,"duplication of %YAML directive"),re.length!==1&&F(B,"YAML directive accepts exactly one argument"),V=/^([0-9]+)\.([0-9]+)$/.exec(re[0]),V===null&&F(B,"ill-formed argument of the YAML directive"),te=parseInt(V[1],10),Z=parseInt(V[2],10),te!==1&&F(B,"unacceptable YAML version of the document"),B.version=re[0],B.checkLineBreaks=Z<2,Z!==1&&Z!==2&&q(B,"unsupported YAML version of the document")},TAG:function(B,G,re){var V,te;re.length!==2&&F(B,"TAG directive accepts exactly two arguments"),V=re[0],te=re[1],v.test(V)||F(B,"ill-formed tag handle (first argument) of the TAG directive"),c.call(B.tagMap,V)&&F(B,'there is a previously declared suffix for "'+V+'" tag handle'),p.test(te)||F(B,"ill-formed tag prefix (second argument) of the TAG directive");try{te=decodeURIComponent(te)}catch{F(B,"tag prefix is malformed: "+te)}B.tagMap[V]=te}};function W(l,B,G,re){var V,te,Z,oe;if(B<G){if(oe=l.input.slice(B,G),re)for(V=0,te=oe.length;V<te;V+=1)Z=oe.charCodeAt(V),Z===9||32<=Z&&Z<=1114111||F(l,"expected valid JSON character");else a.test(oe)&&F(l,"the stream contains non-printable characters");l.result+=oe}}function ne(l,B,G,re){var V,te,Z,oe;for(o.isObject(G)||F(l,"cannot merge mappings; the provided source object is unacceptable"),V=Object.keys(G),Z=0,oe=V.length;Z<oe;Z+=1)te=V[Z],c.call(B,te)||(B[te]=G[te],re[te]=!0)}function ce(l,B,G,re,V,te,Z,oe,ge){var ve,Re;if(Array.isArray(V))for(V=Array.prototype.slice.call(V),ve=0,Re=V.length;ve<Re;ve+=1)Array.isArray(V[ve])&&F(l,"nested arrays are not supported inside keys"),typeof V=="object"&&_(V[ve])==="[object Object]"&&(V[ve]="[object Object]");if(typeof V=="object"&&_(V)==="[object Object]"&&(V="[object Object]"),V=String(V),B===null&&(B={}),re==="tag:yaml.org,2002:merge")if(Array.isArray(te))for(ve=0,Re=te.length;ve<Re;ve+=1)ne(l,B,te[ve],G);else ne(l,B,te,G);else!l.json&&!c.call(G,V)&&c.call(B,V)&&(l.line=Z||l.line,l.lineStart=oe||l.lineStart,l.position=ge||l.position,F(l,"duplicated mapping key")),V==="__proto__"?Object.defineProperty(B,V,{configurable:!0,enumerable:!0,writable:!0,value:te}):B[V]=te,delete G[V];return B}function ue(l){var B;B=l.input.charCodeAt(l.position),B===10?l.position++:B===13?(l.position++,l.input.charCodeAt(l.position)===10&&l.position++):F(l,"a line break is expected"),l.line+=1,l.lineStart=l.position,l.firstTabInLine=-1}function ie(l,B,G){for(var re=0,V=l.input.charCodeAt(l.position);V!==0;){for(;O(V);)V===9&&l.firstTabInLine===-1&&(l.firstTabInLine=l.position),V=l.input.charCodeAt(++l.position);if(B&&V===35)do V=l.input.charCodeAt(++l.position);while(V!==10&&V!==13&&V!==0);if(T(V))for(ue(l),V=l.input.charCodeAt(l.position),re++,l.lineIndent=0;V===32;)l.lineIndent++,V=l.input.charCodeAt(++l.position);else break}return G!==-1&&re!==0&&l.lineIndent<G&&q(l,"deficient indentation"),re}function be(l){var B=l.position,G;return G=l.input.charCodeAt(B),!!((G===45||G===46)&&G===l.input.charCodeAt(B+1)&&G===l.input.charCodeAt(B+2)&&(B+=3,G=l.input.charCodeAt(B),G===0||P(G)))}function J(l,B){B===1?l.result+=" ":B>1&&(l.result+=o.repeat(`
`,B-1))}function ye(l,B,G){var re,V,te,Z,oe,ge,ve,Re,de=l.kind,Ue=l.result,w;if(w=l.input.charCodeAt(l.position),P(w)||U(w)||w===35||w===38||w===42||w===33||w===124||w===62||w===39||w===34||w===37||w===64||w===96||(w===63||w===45)&&(V=l.input.charCodeAt(l.position+1),P(V)||G&&U(V)))return!1;for(l.kind="scalar",l.result="",te=Z=l.position,oe=!1;w!==0;){if(w===58){if(V=l.input.charCodeAt(l.position+1),P(V)||G&&U(V))break}else if(w===35){if(re=l.input.charCodeAt(l.position-1),P(re))break}else{if(l.position===l.lineStart&&be(l)||G&&U(w))break;if(T(w))if(ge=l.line,ve=l.lineStart,Re=l.lineIndent,ie(l,!1,-1),l.lineIndent>=B){oe=!0,w=l.input.charCodeAt(l.position);continue}else{l.position=Z,l.line=ge,l.lineStart=ve,l.lineIndent=Re;break}}oe&&(W(l,te,Z,!1),J(l,l.line-ge),te=Z=l.position,oe=!1),O(w)||(Z=l.position+1),w=l.input.charCodeAt(++l.position)}return W(l,te,Z,!1),l.result?!0:(l.kind=de,l.result=Ue,!1)}function A(l,B){var G,re,V;if(G=l.input.charCodeAt(l.position),G!==39)return!1;for(l.kind="scalar",l.result="",l.position++,re=V=l.position;(G=l.input.charCodeAt(l.position))!==0;)if(G===39)if(W(l,re,l.position,!0),G=l.input.charCodeAt(++l.position),G===39)re=l.position,l.position++,V=l.position;else return!0;else T(G)?(W(l,re,V,!0),J(l,ie(l,!1,B)),re=V=l.position):l.position===l.lineStart&&be(l)?F(l,"unexpected end of the document within a single quoted scalar"):(l.position++,V=l.position);F(l,"unexpected end of the stream within a single quoted scalar")}function y(l,B){var G,re,V,te,Z,oe;if(oe=l.input.charCodeAt(l.position),oe!==34)return!1;for(l.kind="scalar",l.result="",l.position++,G=re=l.position;(oe=l.input.charCodeAt(l.position))!==0;){if(oe===34)return W(l,G,l.position,!0),l.position++,!0;if(oe===92){if(W(l,G,l.position,!0),oe=l.input.charCodeAt(++l.position),T(oe))ie(l,!1,B);else if(oe<256&&$[oe])l.result+=L[oe],l.position++;else if((Z=S(oe))>0){for(V=Z,te=0;V>0;V--)oe=l.input.charCodeAt(++l.position),(Z=R(oe))>=0?te=(te<<4)+Z:F(l,"expected hexadecimal character");l.result+=M(te),l.position++}else F(l,"unknown escape sequence");G=re=l.position}else T(oe)?(W(l,G,re,!0),J(l,ie(l,!1,B)),G=re=l.position):l.position===l.lineStart&&be(l)?F(l,"unexpected end of the document within a double quoted scalar"):(l.position++,re=l.position)}F(l,"unexpected end of the stream within a double quoted scalar")}function j(l,B){var G=!0,re,V,te,Z=l.tag,oe,ge=l.anchor,ve,Re,de,Ue,w,H=Object.create(null),X,z,Q,ee;if(ee=l.input.charCodeAt(l.position),ee===91)Re=93,w=!1,oe=[];else if(ee===123)Re=125,w=!0,oe={};else return!1;for(l.anchor!==null&&(l.anchorMap[l.anchor]=oe),ee=l.input.charCodeAt(++l.position);ee!==0;){if(ie(l,!0,B),ee=l.input.charCodeAt(l.position),ee===Re)return l.position++,l.tag=Z,l.anchor=ge,l.kind=w?"mapping":"sequence",l.result=oe,!0;G?ee===44&&F(l,"expected the node content, but found ','"):F(l,"missed comma between flow collection entries"),z=X=Q=null,de=Ue=!1,ee===63&&(ve=l.input.charCodeAt(l.position+1),P(ve)&&(de=Ue=!0,l.position++,ie(l,!0,B))),re=l.line,V=l.lineStart,te=l.position,$e(l,B,r,!1,!0),z=l.tag,X=l.result,ie(l,!0,B),ee=l.input.charCodeAt(l.position),(Ue||l.line===re)&&ee===58&&(de=!0,ee=l.input.charCodeAt(++l.position),ie(l,!0,B),$e(l,B,r,!1,!0),Q=l.result),w?ce(l,oe,H,z,X,Q,re,V,te):de?oe.push(ce(l,null,H,z,X,Q,re,V,te)):oe.push(X),ie(l,!0,B),ee=l.input.charCodeAt(l.position),ee===44?(G=!0,ee=l.input.charCodeAt(++l.position)):G=!1}F(l,"unexpected end of the stream within a flow collection")}function I(l,B){var G,re,V=s,te=!1,Z=!1,oe=B,ge=0,ve=!1,Re,de;if(de=l.input.charCodeAt(l.position),de===124)re=!1;else if(de===62)re=!0;else return!1;for(l.kind="scalar",l.result="";de!==0;)if(de=l.input.charCodeAt(++l.position),de===43||de===45)s===V?V=de===43?u:i:F(l,"repeat of a chomping mode identifier");else if((Re=b(de))>=0)Re===0?F(l,"bad explicit indentation width of a block scalar; it cannot be less than one"):Z?F(l,"repeat of an indentation width identifier"):(oe=B+Re-1,Z=!0);else break;if(O(de)){do de=l.input.charCodeAt(++l.position);while(O(de));if(de===35)do de=l.input.charCodeAt(++l.position);while(!T(de)&&de!==0)}for(;de!==0;){for(ue(l),l.lineIndent=0,de=l.input.charCodeAt(l.position);(!Z||l.lineIndent<oe)&&de===32;)l.lineIndent++,de=l.input.charCodeAt(++l.position);if(!Z&&l.lineIndent>oe&&(oe=l.lineIndent),T(de)){ge++;continue}if(l.lineIndent<oe){V===u?l.result+=o.repeat(`
`,te?1+ge:ge):V===s&&te&&(l.result+=`
`);break}for(re?O(de)?(ve=!0,l.result+=o.repeat(`
`,te?1+ge:ge)):ve?(ve=!1,l.result+=o.repeat(`
`,ge+1)):ge===0?te&&(l.result+=" "):l.result+=o.repeat(`
`,ge):l.result+=o.repeat(`
`,te?1+ge:ge),te=!0,Z=!0,ge=0,G=l.position;!T(de)&&de!==0;)de=l.input.charCodeAt(++l.position);W(l,G,l.position,!1)}return!0}function le(l,B){var G,re=l.tag,V=l.anchor,te=[],Z,oe=!1,ge;if(l.firstTabInLine!==-1)return!1;for(l.anchor!==null&&(l.anchorMap[l.anchor]=te),ge=l.input.charCodeAt(l.position);ge!==0&&(l.firstTabInLine!==-1&&(l.position=l.firstTabInLine,F(l,"tab characters must not be used in indentation")),!(ge!==45||(Z=l.input.charCodeAt(l.position+1),!P(Z))));){if(oe=!0,l.position++,ie(l,!0,-1)&&l.lineIndent<=B){te.push(null),ge=l.input.charCodeAt(l.position);continue}if(G=l.line,$e(l,B,n,!1,!0),te.push(l.result),ie(l,!0,-1),ge=l.input.charCodeAt(l.position),(l.line===G||l.lineIndent>B)&&ge!==0)F(l,"bad indentation of a sequence entry");else if(l.lineIndent<B)break}return oe?(l.tag=re,l.anchor=V,l.kind="sequence",l.result=te,!0):!1}function me(l,B,G){var re,V,te,Z,oe,ge,ve=l.tag,Re=l.anchor,de={},Ue=Object.create(null),w=null,H=null,X=null,z=!1,Q=!1,ee;if(l.firstTabInLine!==-1)return!1;for(l.anchor!==null&&(l.anchorMap[l.anchor]=de),ee=l.input.charCodeAt(l.position);ee!==0;){if(!z&&l.firstTabInLine!==-1&&(l.position=l.firstTabInLine,F(l,"tab characters must not be used in indentation")),re=l.input.charCodeAt(l.position+1),te=l.line,(ee===63||ee===58)&&P(re))ee===63?(z&&(ce(l,de,Ue,w,H,null,Z,oe,ge),w=H=X=null),Q=!0,z=!0,V=!0):z?(z=!1,V=!0):F(l,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),l.position+=1,ee=re;else{if(Z=l.line,oe=l.lineStart,ge=l.position,!$e(l,G,e,!1,!0))break;if(l.line===te){for(ee=l.input.charCodeAt(l.position);O(ee);)ee=l.input.charCodeAt(++l.position);if(ee===58)ee=l.input.charCodeAt(++l.position),P(ee)||F(l,"a whitespace character is expected after the key-value separator within a block mapping"),z&&(ce(l,de,Ue,w,H,null,Z,oe,ge),w=H=X=null),Q=!0,z=!1,V=!1,w=l.tag,H=l.result;else if(Q)F(l,"can not read an implicit mapping pair; a colon is missed");else return l.tag=ve,l.anchor=Re,!0}else if(Q)F(l,"can not read a block mapping entry; a multiline key may not be an implicit key");else return l.tag=ve,l.anchor=Re,!0}if((l.line===te||l.lineIndent>B)&&(z&&(Z=l.line,oe=l.lineStart,ge=l.position),$e(l,B,t,!0,V)&&(z?H=l.result:X=l.result),z||(ce(l,de,Ue,w,H,X,Z,oe,ge),w=H=X=null),ie(l,!0,-1),ee=l.input.charCodeAt(l.position)),(l.line===te||l.lineIndent>B)&&ee!==0)F(l,"bad indentation of a mapping entry");else if(l.lineIndent<B)break}return z&&ce(l,de,Ue,w,H,null,Z,oe,ge),Q&&(l.tag=ve,l.anchor=Re,l.kind="mapping",l.result=de),Q}function pe(l){var B,G=!1,re=!1,V,te,Z;if(Z=l.input.charCodeAt(l.position),Z!==33)return!1;if(l.tag!==null&&F(l,"duplication of a tag property"),Z=l.input.charCodeAt(++l.position),Z===60?(G=!0,Z=l.input.charCodeAt(++l.position)):Z===33?(re=!0,V="!!",Z=l.input.charCodeAt(++l.position)):V="!",B=l.position,G){do Z=l.input.charCodeAt(++l.position);while(Z!==0&&Z!==62);l.position<l.length?(te=l.input.slice(B,l.position),Z=l.input.charCodeAt(++l.position)):F(l,"unexpected end of the stream within a verbatim tag")}else{for(;Z!==0&&!P(Z);)Z===33&&(re?F(l,"tag suffix cannot contain exclamation marks"):(V=l.input.slice(B-1,l.position+1),v.test(V)||F(l,"named tag handle cannot contain such characters"),re=!0,B=l.position+1)),Z=l.input.charCodeAt(++l.position);te=l.input.slice(B,l.position),g.test(te)&&F(l,"tag suffix cannot contain flow indicator characters")}te&&!p.test(te)&&F(l,"tag name cannot contain such characters: "+te);try{te=decodeURIComponent(te)}catch{F(l,"tag name is malformed: "+te)}return G?l.tag=te:c.call(l.tagMap,V)?l.tag=l.tagMap[V]+te:V==="!"?l.tag="!"+te:V==="!!"?l.tag="tag:yaml.org,2002:"+te:F(l,'undeclared tag handle "'+V+'"'),!0}function _e(l){var B,G;if(G=l.input.charCodeAt(l.position),G!==38)return!1;for(l.anchor!==null&&F(l,"duplication of an anchor property"),G=l.input.charCodeAt(++l.position),B=l.position;G!==0&&!P(G)&&!U(G);)G=l.input.charCodeAt(++l.position);return l.position===B&&F(l,"name of an anchor node must contain at least one character"),l.anchor=l.input.slice(B,l.position),!0}function Ee(l){var B,G,re;if(re=l.input.charCodeAt(l.position),re!==42)return!1;for(re=l.input.charCodeAt(++l.position),B=l.position;re!==0&&!P(re)&&!U(re);)re=l.input.charCodeAt(++l.position);return l.position===B&&F(l,"name of an alias node must contain at least one character"),G=l.input.slice(B,l.position),c.call(l.anchorMap,G)||F(l,'unidentified alias "'+G+'"'),l.result=l.anchorMap[G],ie(l,!0,-1),!0}function $e(l,B,G,re,V){var te,Z,oe,ge=1,ve=!1,Re=!1,de,Ue,w,H,X,z;if(l.listener!==null&&l.listener("open",l),l.tag=null,l.anchor=null,l.kind=null,l.result=null,te=Z=oe=t===G||n===G,re&&ie(l,!0,-1)&&(ve=!0,l.lineIndent>B?ge=1:l.lineIndent===B?ge=0:l.lineIndent<B&&(ge=-1)),ge===1)for(;pe(l)||_e(l);)ie(l,!0,-1)?(ve=!0,oe=te,l.lineIndent>B?ge=1:l.lineIndent===B?ge=0:l.lineIndent<B&&(ge=-1)):oe=!1;if(oe&&(oe=ve||V),(ge===1||t===G)&&(r===G||e===G?X=B:X=B+1,z=l.position-l.lineStart,ge===1?oe&&(le(l,z)||me(l,z,X))||j(l,X)?Re=!0:(Z&&I(l,X)||A(l,X)||y(l,X)?Re=!0:Ee(l)?(Re=!0,(l.tag!==null||l.anchor!==null)&&F(l,"alias node should not have any properties")):ye(l,X,r===G)&&(Re=!0,l.tag===null&&(l.tag="?")),l.anchor!==null&&(l.anchorMap[l.anchor]=l.result)):ge===0&&(Re=oe&&le(l,z))),l.tag===null)l.anchor!==null&&(l.anchorMap[l.anchor]=l.result);else if(l.tag==="?"){for(l.result!==null&&l.kind!=="scalar"&&F(l,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+l.kind+'"'),de=0,Ue=l.implicitTypes.length;de<Ue;de+=1)if(H=l.implicitTypes[de],H.resolve(l.result)){l.result=H.construct(l.result),l.tag=H.tag,l.anchor!==null&&(l.anchorMap[l.anchor]=l.result);break}}else if(l.tag!=="!"){if(c.call(l.typeMap[l.kind||"fallback"],l.tag))H=l.typeMap[l.kind||"fallback"][l.tag];else for(H=null,w=l.typeMap.multi[l.kind||"fallback"],de=0,Ue=w.length;de<Ue;de+=1)if(l.tag.slice(0,w[de].tag.length)===w[de].tag){H=w[de];break}H||F(l,"unknown tag !<"+l.tag+">"),l.result!==null&&H.kind!==l.kind&&F(l,"unacceptable node kind for !<"+l.tag+'> tag; it should be "'+H.kind+'", not "'+l.kind+'"'),H.resolve(l.result,l.tag)?(l.result=H.construct(l.result,l.tag),l.anchor!==null&&(l.anchorMap[l.anchor]=l.result)):F(l,"cannot resolve a node with !<"+l.tag+"> explicit tag")}return l.listener!==null&&l.listener("close",l),l.tag!==null||l.anchor!==null||Re}function Oe(l){var B=l.position,G,re,V,te=!1,Z;for(l.version=null,l.checkLineBreaks=l.legacy,l.tagMap=Object.create(null),l.anchorMap=Object.create(null);(Z=l.input.charCodeAt(l.position))!==0&&(ie(l,!0,-1),Z=l.input.charCodeAt(l.position),!(l.lineIndent>0||Z!==37));){for(te=!0,Z=l.input.charCodeAt(++l.position),G=l.position;Z!==0&&!P(Z);)Z=l.input.charCodeAt(++l.position);for(re=l.input.slice(G,l.position),V=[],re.length<1&&F(l,"directive name must not be less than one character in length");Z!==0;){for(;O(Z);)Z=l.input.charCodeAt(++l.position);if(Z===35){do Z=l.input.charCodeAt(++l.position);while(Z!==0&&!T(Z));break}if(T(Z))break;for(G=l.position;Z!==0&&!P(Z);)Z=l.input.charCodeAt(++l.position);V.push(l.input.slice(G,l.position))}Z!==0&&ue(l),c.call(K,re)?K[re](l,re,V):q(l,'unknown document directive "'+re+'"')}if(ie(l,!0,-1),l.lineIndent===0&&l.input.charCodeAt(l.position)===45&&l.input.charCodeAt(l.position+1)===45&&l.input.charCodeAt(l.position+2)===45?(l.position+=3,ie(l,!0,-1)):te&&F(l,"directives end mark is expected"),$e(l,l.lineIndent-1,t,!1,!0),ie(l,!0,-1),l.checkLineBreaks&&m.test(l.input.slice(B,l.position))&&q(l,"non-ASCII line breaks are interpreted as content"),l.documents.push(l.result),l.position===l.lineStart&&be(l)){l.input.charCodeAt(l.position)===46&&(l.position+=3,ie(l,!0,-1));return}if(l.position<l.length-1)F(l,"end of the stream or a document separator is expected");else return}function Be(l,B){l=String(l),B=B||{},l.length!==0&&(l.charCodeAt(l.length-1)!==10&&l.charCodeAt(l.length-1)!==13&&(l+=`
`),l.charCodeAt(0)===65279&&(l=l.slice(1)));var G=new N(l,B),re=l.indexOf("\0");for(re!==-1&&(G.position=re,F(G,"null byte is not allowed in input")),G.input+="\0";G.input.charCodeAt(G.position)===32;)G.lineIndent+=1,G.position+=1;for(;G.position<G.length-1;)Oe(G);return G.documents}function Et(l,B,G){B!==null&&typeof B=="object"&&typeof G>"u"&&(G=B,B=null);var re=Be(l,G);if(typeof B!="function")return re;for(var V=0,te=re.length;V<te;V+=1)B(re[V])}function st(l,B){var G=Be(l,B);if(G.length!==0){if(G.length===1)return G[0];throw new h("expected a single document in the stream, but found more")}}return kr.loadAll=Et,kr.load=st,kr}var si={},Rs;function ad(){if(Rs)return si;Rs=1;var o=_r(),h=Sr(),d=xo(),f=Object.prototype.toString,c=Object.prototype.hasOwnProperty,r=65279,e=9,n=10,t=13,s=32,i=33,u=34,a=35,m=37,g=38,v=39,p=42,_=44,T=45,O=58,P=61,U=62,R=63,S=64,b=91,E=93,M=96,$=123,L=124,k=125,N={};N[0]="\\0",N[7]="\\a",N[8]="\\b",N[9]="\\t",N[10]="\\n",N[11]="\\v",N[12]="\\f",N[13]="\\r",N[27]="\\e",N[34]='\\"',N[92]="\\\\",N[133]="\\N",N[160]="\\_",N[8232]="\\L",N[8233]="\\P";var D=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],F=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function q(w,H){var X,z,Q,ee,fe,ae,he;if(H===null)return{};for(X={},z=Object.keys(H),Q=0,ee=z.length;Q<ee;Q+=1)fe=z[Q],ae=String(H[fe]),fe.slice(0,2)==="!!"&&(fe="tag:yaml.org,2002:"+fe.slice(2)),he=w.compiledTypeMap.fallback[fe],he&&c.call(he.styleAliases,ae)&&(ae=he.styleAliases[ae]),X[fe]=ae;return X}function K(w){var H,X,z;if(H=w.toString(16).toUpperCase(),w<=255)X="x",z=2;else if(w<=65535)X="u",z=4;else if(w<=4294967295)X="U",z=8;else throw new h("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+X+o.repeat("0",z-H.length)+H}var W=1,ne=2;function ce(w){this.schema=w.schema||d,this.indent=Math.max(1,w.indent||2),this.noArrayIndent=w.noArrayIndent||!1,this.skipInvalid=w.skipInvalid||!1,this.flowLevel=o.isNothing(w.flowLevel)?-1:w.flowLevel,this.styleMap=q(this.schema,w.styles||null),this.sortKeys=w.sortKeys||!1,this.lineWidth=w.lineWidth||80,this.noRefs=w.noRefs||!1,this.noCompatMode=w.noCompatMode||!1,this.condenseFlow=w.condenseFlow||!1,this.quotingType=w.quotingType==='"'?ne:W,this.forceQuotes=w.forceQuotes||!1,this.replacer=typeof w.replacer=="function"?w.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function ue(w,H){for(var X=o.repeat(" ",H),z=0,Q=-1,ee="",fe,ae=w.length;z<ae;)Q=w.indexOf(`
`,z),Q===-1?(fe=w.slice(z),z=ae):(fe=w.slice(z,Q+1),z=Q+1),fe.length&&fe!==`
`&&(ee+=X),ee+=fe;return ee}function ie(w,H){return`
`+o.repeat(" ",w.indent*H)}function be(w,H){var X,z,Q;for(X=0,z=w.implicitTypes.length;X<z;X+=1)if(Q=w.implicitTypes[X],Q.resolve(H))return!0;return!1}function J(w){return w===s||w===e}function ye(w){return 32<=w&&w<=126||161<=w&&w<=55295&&w!==8232&&w!==8233||57344<=w&&w<=65533&&w!==r||65536<=w&&w<=1114111}function A(w){return ye(w)&&w!==r&&w!==t&&w!==n}function y(w,H,X){var z=A(w),Q=z&&!J(w);return(X?z:z&&w!==_&&w!==b&&w!==E&&w!==$&&w!==k)&&w!==a&&!(H===O&&!Q)||A(H)&&!J(H)&&w===a||H===O&&Q}function j(w){return ye(w)&&w!==r&&!J(w)&&w!==T&&w!==R&&w!==O&&w!==_&&w!==b&&w!==E&&w!==$&&w!==k&&w!==a&&w!==g&&w!==p&&w!==i&&w!==L&&w!==P&&w!==U&&w!==v&&w!==u&&w!==m&&w!==S&&w!==M}function I(w){return!J(w)&&w!==O}function le(w,H){var X=w.charCodeAt(H),z;return X>=55296&&X<=56319&&H+1<w.length&&(z=w.charCodeAt(H+1),z>=56320&&z<=57343)?(X-55296)*1024+z-56320+65536:X}function me(w){var H=/^\n* /;return H.test(w)}var pe=1,_e=2,Ee=3,$e=4,Oe=5;function Be(w,H,X,z,Q,ee,fe,ae){var he,we=0,Pe=null,xe=!1,Te=!1,xt=z!==-1,et=-1,wt=j(le(w,0))&&I(le(w,w.length-1));if(H||fe)for(he=0;he<w.length;we>=65536?he+=2:he++){if(we=le(w,he),!ye(we))return Oe;wt=wt&&y(we,Pe,ae),Pe=we}else{for(he=0;he<w.length;we>=65536?he+=2:he++){if(we=le(w,he),we===n)xe=!0,xt&&(Te=Te||he-et-1>z&&w[et+1]!==" ",et=he);else if(!ye(we))return Oe;wt=wt&&y(we,Pe,ae),Pe=we}Te=Te||xt&&he-et-1>z&&w[et+1]!==" "}return!xe&&!Te?wt&&!fe&&!Q(w)?pe:ee===ne?Oe:_e:X>9&&me(w)?Oe:fe?ee===ne?Oe:_e:Te?$e:Ee}function Et(w,H,X,z,Q){w.dump=function(){if(H.length===0)return w.quotingType===ne?'""':"''";if(!w.noCompatMode&&(D.indexOf(H)!==-1||F.test(H)))return w.quotingType===ne?'"'+H+'"':"'"+H+"'";var ee=w.indent*Math.max(1,X),fe=w.lineWidth===-1?-1:Math.max(Math.min(w.lineWidth,40),w.lineWidth-ee),ae=z||w.flowLevel>-1&&X>=w.flowLevel;function he(we){return be(w,we)}switch(Be(H,ae,w.indent,fe,he,w.quotingType,w.forceQuotes&&!z,Q)){case pe:return H;case _e:return"'"+H.replace(/'/g,"''")+"'";case Ee:return"|"+st(H,w.indent)+l(ue(H,ee));case $e:return">"+st(H,w.indent)+l(ue(B(H,fe),ee));case Oe:return'"'+re(H)+'"';default:throw new h("impossible error: invalid scalar style")}}()}function st(w,H){var X=me(w)?String(H):"",z=w[w.length-1]===`
`,Q=z&&(w[w.length-2]===`
`||w===`
`),ee=Q?"+":z?"":"-";return X+ee+`
`}function l(w){return w[w.length-1]===`
`?w.slice(0,-1):w}function B(w,H){for(var X=/(\n+)([^\n]*)/g,z=function(){var we=w.indexOf(`
`);return we=we!==-1?we:w.length,X.lastIndex=we,G(w.slice(0,we),H)}(),Q=w[0]===`
`||w[0]===" ",ee,fe;fe=X.exec(w);){var ae=fe[1],he=fe[2];ee=he[0]===" ",z+=ae+(!Q&&!ee&&he!==""?`
`:"")+G(he,H),Q=ee}return z}function G(w,H){if(w===""||w[0]===" ")return w;for(var X=/ [^ ]/g,z,Q=0,ee,fe=0,ae=0,he="";z=X.exec(w);)ae=z.index,ae-Q>H&&(ee=fe>Q?fe:ae,he+=`
`+w.slice(Q,ee),Q=ee+1),fe=ae;return he+=`
`,w.length-Q>H&&fe>Q?he+=w.slice(Q,fe)+`
`+w.slice(fe+1):he+=w.slice(Q),he.slice(1)}function re(w){for(var H="",X=0,z,Q=0;Q<w.length;X>=65536?Q+=2:Q++)X=le(w,Q),z=N[X],!z&&ye(X)?(H+=w[Q],X>=65536&&(H+=w[Q+1])):H+=z||K(X);return H}function V(w,H,X){var z="",Q=w.tag,ee,fe,ae;for(ee=0,fe=X.length;ee<fe;ee+=1)ae=X[ee],w.replacer&&(ae=w.replacer.call(X,String(ee),ae)),(ve(w,H,ae,!1,!1)||typeof ae>"u"&&ve(w,H,null,!1,!1))&&(z!==""&&(z+=","+(w.condenseFlow?"":" ")),z+=w.dump);w.tag=Q,w.dump="["+z+"]"}function te(w,H,X,z){var Q="",ee=w.tag,fe,ae,he;for(fe=0,ae=X.length;fe<ae;fe+=1)he=X[fe],w.replacer&&(he=w.replacer.call(X,String(fe),he)),(ve(w,H+1,he,!0,!0,!1,!0)||typeof he>"u"&&ve(w,H+1,null,!0,!0,!1,!0))&&((!z||Q!=="")&&(Q+=ie(w,H)),w.dump&&n===w.dump.charCodeAt(0)?Q+="-":Q+="- ",Q+=w.dump);w.tag=ee,w.dump=Q||"[]"}function Z(w,H,X){var z="",Q=w.tag,ee=Object.keys(X),fe,ae,he,we,Pe;for(fe=0,ae=ee.length;fe<ae;fe+=1)Pe="",z!==""&&(Pe+=", "),w.condenseFlow&&(Pe+='"'),he=ee[fe],we=X[he],w.replacer&&(we=w.replacer.call(X,he,we)),ve(w,H,he,!1,!1)&&(w.dump.length>1024&&(Pe+="? "),Pe+=w.dump+(w.condenseFlow?'"':"")+":"+(w.condenseFlow?"":" "),ve(w,H,we,!1,!1)&&(Pe+=w.dump,z+=Pe));w.tag=Q,w.dump="{"+z+"}"}function oe(w,H,X,z){var Q="",ee=w.tag,fe=Object.keys(X),ae,he,we,Pe,xe,Te;if(w.sortKeys===!0)fe.sort();else if(typeof w.sortKeys=="function")fe.sort(w.sortKeys);else if(w.sortKeys)throw new h("sortKeys must be a boolean or a function");for(ae=0,he=fe.length;ae<he;ae+=1)Te="",(!z||Q!=="")&&(Te+=ie(w,H)),we=fe[ae],Pe=X[we],w.replacer&&(Pe=w.replacer.call(X,we,Pe)),ve(w,H+1,we,!0,!0,!0)&&(xe=w.tag!==null&&w.tag!=="?"||w.dump&&w.dump.length>1024,xe&&(w.dump&&n===w.dump.charCodeAt(0)?Te+="?":Te+="? "),Te+=w.dump,xe&&(Te+=ie(w,H)),ve(w,H+1,Pe,!0,xe)&&(w.dump&&n===w.dump.charCodeAt(0)?Te+=":":Te+=": ",Te+=w.dump,Q+=Te));w.tag=ee,w.dump=Q||"{}"}function ge(w,H,X){var z,Q,ee,fe,ae,he;for(Q=X?w.explicitTypes:w.implicitTypes,ee=0,fe=Q.length;ee<fe;ee+=1)if(ae=Q[ee],(ae.instanceOf||ae.predicate)&&(!ae.instanceOf||typeof H=="object"&&H instanceof ae.instanceOf)&&(!ae.predicate||ae.predicate(H))){if(X?ae.multi&&ae.representName?w.tag=ae.representName(H):w.tag=ae.tag:w.tag="?",ae.represent){if(he=w.styleMap[ae.tag]||ae.defaultStyle,f.call(ae.represent)==="[object Function]")z=ae.represent(H,he);else if(c.call(ae.represent,he))z=ae.represent[he](H,he);else throw new h("!<"+ae.tag+'> tag resolver accepts not "'+he+'" style');w.dump=z}return!0}return!1}function ve(w,H,X,z,Q,ee,fe){w.tag=null,w.dump=X,ge(w,X,!1)||ge(w,X,!0);var ae=f.call(w.dump),he=z,we;z&&(z=w.flowLevel<0||w.flowLevel>H);var Pe=ae==="[object Object]"||ae==="[object Array]",xe,Te;if(Pe&&(xe=w.duplicates.indexOf(X),Te=xe!==-1),(w.tag!==null&&w.tag!=="?"||Te||w.indent!==2&&H>0)&&(Q=!1),Te&&w.usedDuplicates[xe])w.dump="*ref_"+xe;else{if(Pe&&Te&&!w.usedDuplicates[xe]&&(w.usedDuplicates[xe]=!0),ae==="[object Object]")z&&Object.keys(w.dump).length!==0?(oe(w,H,w.dump,Q),Te&&(w.dump="&ref_"+xe+w.dump)):(Z(w,H,w.dump),Te&&(w.dump="&ref_"+xe+" "+w.dump));else if(ae==="[object Array]")z&&w.dump.length!==0?(w.noArrayIndent&&!fe&&H>0?te(w,H-1,w.dump,Q):te(w,H,w.dump,Q),Te&&(w.dump="&ref_"+xe+w.dump)):(V(w,H,w.dump),Te&&(w.dump="&ref_"+xe+" "+w.dump));else if(ae==="[object String]")w.tag!=="?"&&Et(w,w.dump,H,ee,he);else{if(ae==="[object Undefined]")return!1;if(w.skipInvalid)return!1;throw new h("unacceptable kind of an object to dump "+ae)}w.tag!==null&&w.tag!=="?"&&(we=encodeURI(w.tag[0]==="!"?w.tag.slice(1):w.tag).replace(/!/g,"%21"),w.tag[0]==="!"?we="!"+we:we.slice(0,18)==="tag:yaml.org,2002:"?we="!!"+we.slice(18):we="!<"+we+">",w.dump=we+" "+w.dump)}return!0}function Re(w,H){var X=[],z=[],Q,ee;for(de(w,X,z),Q=0,ee=z.length;Q<ee;Q+=1)H.duplicates.push(X[z[Q]]);H.usedDuplicates=new Array(ee)}function de(w,H,X){var z,Q,ee;if(w!==null&&typeof w=="object")if(Q=H.indexOf(w),Q!==-1)X.indexOf(Q)===-1&&X.push(Q);else if(H.push(w),Array.isArray(w))for(Q=0,ee=w.length;Q<ee;Q+=1)de(w[Q],H,X);else for(z=Object.keys(w),Q=0,ee=z.length;Q<ee;Q+=1)de(w[z[Q]],H,X)}function Ue(w,H){H=H||{};var X=new ce(H);X.noRefs||Re(w,X);var z=w;return X.replacer&&(z=X.replacer.call({"":z},"",z)),ve(X,0,z,!0,!0)?X.dump+`
`:""}return si.dump=Ue,si}var Ts;function Lo(){if(Ts)return Ge;Ts=1;var o=od(),h=ad();function d(f,c){return function(){throw new Error("Function yaml."+f+" is removed in js-yaml 4. Use yaml."+c+" instead, which is now safe by default.")}}return Ge.Type=We(),Ge.Schema=Mu(),Ge.FAILSAFE_SCHEMA=Gu(),Ge.JSON_SCHEMA=Xu(),Ge.CORE_SCHEMA=Ju(),Ge.DEFAULT_SCHEMA=xo(),Ge.load=o.load,Ge.loadAll=o.loadAll,Ge.dump=h.dump,Ge.YAMLException=Sr(),Ge.types={binary:Zu(),float:Yu(),map:Hu(),null:Wu(),pairs:tc(),set:rc(),timestamp:Ku(),bool:Vu(),int:zu(),merge:Qu(),omap:ec(),seq:ju(),str:Bu()},Ge.safeLoad=d("safeLoad","load"),Ge.safeLoadAll=d("safeLoadAll","loadAll"),Ge.safeDump=d("safeDump","dump"),Ge}var Qt={},Cs;function sd(){if(Cs)return Qt;Cs=1,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.Lazy=void 0;class o{constructor(d){this._value=null,this.creator=d}get hasValue(){return this.creator==null}get value(){if(this.creator==null)return this._value;const d=this.creator();return this.value=d,d}set value(d){this._value=d,this.creator=null}}return Qt.Lazy=o,Qt}var Mr={exports:{}},li,Os;function zr(){if(Os)return li;Os=1;const o="2.0.0",h=256,d=Number.MAX_SAFE_INTEGER||9007199254740991,f=16,c=h-6;return li={MAX_LENGTH:h,MAX_SAFE_COMPONENT_LENGTH:f,MAX_SAFE_BUILD_LENGTH:c,MAX_SAFE_INTEGER:d,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:o,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},li}var ui,Ps;function Yr(){return Ps||(Ps=1,ui=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...h)=>console.error("SEMVER",...h):()=>{}),ui}var Ds;function Ar(){return Ds||(Ds=1,function(o,h){const{MAX_SAFE_COMPONENT_LENGTH:d,MAX_SAFE_BUILD_LENGTH:f,MAX_LENGTH:c}=zr(),r=Yr();h=o.exports={};const e=h.re=[],n=h.safeRe=[],t=h.src=[],s=h.safeSrc=[],i=h.t={};let u=0;const a="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",c],[a,f]],g=p=>{for(const[_,T]of m)p=p.split(`${_}*`).join(`${_}{0,${T}}`).split(`${_}+`).join(`${_}{1,${T}}`);return p},v=(p,_,T)=>{const O=g(_),P=u++;r(p,P,_),i[p]=P,t[P]=_,s[P]=O,e[P]=new RegExp(_,T?"g":void 0),n[P]=new RegExp(O,T?"g":void 0)};v("NUMERICIDENTIFIER","0|[1-9]\\d*"),v("NUMERICIDENTIFIERLOOSE","\\d+"),v("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${a}*`),v("MAINVERSION",`(${t[i.NUMERICIDENTIFIER]})\\.(${t[i.NUMERICIDENTIFIER]})\\.(${t[i.NUMERICIDENTIFIER]})`),v("MAINVERSIONLOOSE",`(${t[i.NUMERICIDENTIFIERLOOSE]})\\.(${t[i.NUMERICIDENTIFIERLOOSE]})\\.(${t[i.NUMERICIDENTIFIERLOOSE]})`),v("PRERELEASEIDENTIFIER",`(?:${t[i.NUMERICIDENTIFIER]}|${t[i.NONNUMERICIDENTIFIER]})`),v("PRERELEASEIDENTIFIERLOOSE",`(?:${t[i.NUMERICIDENTIFIERLOOSE]}|${t[i.NONNUMERICIDENTIFIER]})`),v("PRERELEASE",`(?:-(${t[i.PRERELEASEIDENTIFIER]}(?:\\.${t[i.PRERELEASEIDENTIFIER]})*))`),v("PRERELEASELOOSE",`(?:-?(${t[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${t[i.PRERELEASEIDENTIFIERLOOSE]})*))`),v("BUILDIDENTIFIER",`${a}+`),v("BUILD",`(?:\\+(${t[i.BUILDIDENTIFIER]}(?:\\.${t[i.BUILDIDENTIFIER]})*))`),v("FULLPLAIN",`v?${t[i.MAINVERSION]}${t[i.PRERELEASE]}?${t[i.BUILD]}?`),v("FULL",`^${t[i.FULLPLAIN]}$`),v("LOOSEPLAIN",`[v=\\s]*${t[i.MAINVERSIONLOOSE]}${t[i.PRERELEASELOOSE]}?${t[i.BUILD]}?`),v("LOOSE",`^${t[i.LOOSEPLAIN]}$`),v("GTLT","((?:<|>)?=?)"),v("XRANGEIDENTIFIERLOOSE",`${t[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),v("XRANGEIDENTIFIER",`${t[i.NUMERICIDENTIFIER]}|x|X|\\*`),v("XRANGEPLAIN",`[v=\\s]*(${t[i.XRANGEIDENTIFIER]})(?:\\.(${t[i.XRANGEIDENTIFIER]})(?:\\.(${t[i.XRANGEIDENTIFIER]})(?:${t[i.PRERELEASE]})?${t[i.BUILD]}?)?)?`),v("XRANGEPLAINLOOSE",`[v=\\s]*(${t[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${t[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${t[i.XRANGEIDENTIFIERLOOSE]})(?:${t[i.PRERELEASELOOSE]})?${t[i.BUILD]}?)?)?`),v("XRANGE",`^${t[i.GTLT]}\\s*${t[i.XRANGEPLAIN]}$`),v("XRANGELOOSE",`^${t[i.GTLT]}\\s*${t[i.XRANGEPLAINLOOSE]}$`),v("COERCEPLAIN",`(^|[^\\d])(\\d{1,${d}})(?:\\.(\\d{1,${d}}))?(?:\\.(\\d{1,${d}}))?`),v("COERCE",`${t[i.COERCEPLAIN]}(?:$|[^\\d])`),v("COERCEFULL",t[i.COERCEPLAIN]+`(?:${t[i.PRERELEASE]})?(?:${t[i.BUILD]})?(?:$|[^\\d])`),v("COERCERTL",t[i.COERCE],!0),v("COERCERTLFULL",t[i.COERCEFULL],!0),v("LONETILDE","(?:~>?)"),v("TILDETRIM",`(\\s*)${t[i.LONETILDE]}\\s+`,!0),h.tildeTrimReplace="$1~",v("TILDE",`^${t[i.LONETILDE]}${t[i.XRANGEPLAIN]}$`),v("TILDELOOSE",`^${t[i.LONETILDE]}${t[i.XRANGEPLAINLOOSE]}$`),v("LONECARET","(?:\\^)"),v("CARETTRIM",`(\\s*)${t[i.LONECARET]}\\s+`,!0),h.caretTrimReplace="$1^",v("CARET",`^${t[i.LONECARET]}${t[i.XRANGEPLAIN]}$`),v("CARETLOOSE",`^${t[i.LONECARET]}${t[i.XRANGEPLAINLOOSE]}$`),v("COMPARATORLOOSE",`^${t[i.GTLT]}\\s*(${t[i.LOOSEPLAIN]})$|^$`),v("COMPARATOR",`^${t[i.GTLT]}\\s*(${t[i.FULLPLAIN]})$|^$`),v("COMPARATORTRIM",`(\\s*)${t[i.GTLT]}\\s*(${t[i.LOOSEPLAIN]}|${t[i.XRANGEPLAIN]})`,!0),h.comparatorTrimReplace="$1$2$3",v("HYPHENRANGE",`^\\s*(${t[i.XRANGEPLAIN]})\\s+-\\s+(${t[i.XRANGEPLAIN]})\\s*$`),v("HYPHENRANGELOOSE",`^\\s*(${t[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${t[i.XRANGEPLAINLOOSE]})\\s*$`),v("STAR","(<|>)?=?\\s*\\*"),v("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),v("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Mr,Mr.exports)),Mr.exports}var ci,Is;function $o(){if(Is)return ci;Is=1;const o=Object.freeze({loose:!0}),h=Object.freeze({});return ci=f=>f?typeof f!="object"?o:f:h,ci}var fi,Ns;function nc(){if(Ns)return fi;Ns=1;const o=/^[0-9]+$/,h=(f,c)=>{const r=o.test(f),e=o.test(c);return r&&e&&(f=+f,c=+c),f===c?0:r&&!e?-1:e&&!r?1:f<c?-1:1};return fi={compareIdentifiers:h,rcompareIdentifiers:(f,c)=>h(c,f)},fi}var di,Fs;function Ve(){if(Fs)return di;Fs=1;const o=Yr(),{MAX_LENGTH:h,MAX_SAFE_INTEGER:d}=zr(),{safeRe:f,safeSrc:c,t:r}=Ar(),e=$o(),{compareIdentifiers:n}=nc();class t{constructor(i,u){if(u=e(u),i instanceof t){if(i.loose===!!u.loose&&i.includePrerelease===!!u.includePrerelease)return i;i=i.version}else if(typeof i!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof i}".`);if(i.length>h)throw new TypeError(`version is longer than ${h} characters`);o("SemVer",i,u),this.options=u,this.loose=!!u.loose,this.includePrerelease=!!u.includePrerelease;const a=i.trim().match(u.loose?f[r.LOOSE]:f[r.FULL]);if(!a)throw new TypeError(`Invalid Version: ${i}`);if(this.raw=i,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>d||this.major<0)throw new TypeError("Invalid major version");if(this.minor>d||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>d||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map(m=>{if(/^[0-9]+$/.test(m)){const g=+m;if(g>=0&&g<d)return g}return m}):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(i){if(o("SemVer.compare",this.version,this.options,i),!(i instanceof t)){if(typeof i=="string"&&i===this.version)return 0;i=new t(i,this.options)}return i.version===this.version?0:this.compareMain(i)||this.comparePre(i)}compareMain(i){return i instanceof t||(i=new t(i,this.options)),n(this.major,i.major)||n(this.minor,i.minor)||n(this.patch,i.patch)}comparePre(i){if(i instanceof t||(i=new t(i,this.options)),this.prerelease.length&&!i.prerelease.length)return-1;if(!this.prerelease.length&&i.prerelease.length)return 1;if(!this.prerelease.length&&!i.prerelease.length)return 0;let u=0;do{const a=this.prerelease[u],m=i.prerelease[u];if(o("prerelease compare",u,a,m),a===void 0&&m===void 0)return 0;if(m===void 0)return 1;if(a===void 0)return-1;if(a===m)continue;return n(a,m)}while(++u)}compareBuild(i){i instanceof t||(i=new t(i,this.options));let u=0;do{const a=this.build[u],m=i.build[u];if(o("build compare",u,a,m),a===void 0&&m===void 0)return 0;if(m===void 0)return 1;if(a===void 0)return-1;if(a===m)continue;return n(a,m)}while(++u)}inc(i,u,a){if(i.startsWith("pre")){if(!u&&a===!1)throw new Error("invalid increment argument: identifier is empty");if(u){const m=new RegExp(`^${this.options.loose?c[r.PRERELEASELOOSE]:c[r.PRERELEASE]}$`),g=`-${u}`.match(m);if(!g||g[1]!==u)throw new Error(`invalid identifier: ${u}`)}}switch(i){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",u,a);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",u,a);break;case"prepatch":this.prerelease.length=0,this.inc("patch",u,a),this.inc("pre",u,a);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",u,a),this.inc("pre",u,a);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const m=Number(a)?1:0;if(this.prerelease.length===0)this.prerelease=[m];else{let g=this.prerelease.length;for(;--g>=0;)typeof this.prerelease[g]=="number"&&(this.prerelease[g]++,g=-2);if(g===-1){if(u===this.prerelease.join(".")&&a===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(m)}}if(u){let g=[u,m];a===!1&&(g=[u]),n(this.prerelease[0],u)===0?isNaN(this.prerelease[1])&&(this.prerelease=g):this.prerelease=g}break}default:throw new Error(`invalid increment argument: ${i}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return di=t,di}var hi,xs;function Gt(){if(xs)return hi;xs=1;const o=Ve();return hi=(d,f,c=!1)=>{if(d instanceof o)return d;try{return new o(d,f)}catch(r){if(!c)return null;throw r}},hi}var pi,Ls;function ld(){if(Ls)return pi;Ls=1;const o=Gt();return pi=(d,f)=>{const c=o(d,f);return c?c.version:null},pi}var mi,$s;function ud(){if($s)return mi;$s=1;const o=Gt();return mi=(d,f)=>{const c=o(d.trim().replace(/^[=v]+/,""),f);return c?c.version:null},mi}var gi,Us;function cd(){if(Us)return gi;Us=1;const o=Ve();return gi=(d,f,c,r,e)=>{typeof c=="string"&&(e=r,r=c,c=void 0);try{return new o(d instanceof o?d.version:d,c).inc(f,r,e).version}catch{return null}},gi}var vi,qs;function fd(){if(qs)return vi;qs=1;const o=Gt();return vi=(d,f)=>{const c=o(d,null,!0),r=o(f,null,!0),e=c.compare(r);if(e===0)return null;const n=e>0,t=n?c:r,s=n?r:c,i=!!t.prerelease.length;if(!!s.prerelease.length&&!i){if(!s.patch&&!s.minor)return"major";if(s.compareMain(t)===0)return s.minor&&!s.patch?"minor":"patch"}const a=i?"pre":"";return c.major!==r.major?a+"major":c.minor!==r.minor?a+"minor":c.patch!==r.patch?a+"patch":"prerelease"},vi}var yi,ks;function dd(){if(ks)return yi;ks=1;const o=Ve();return yi=(d,f)=>new o(d,f).major,yi}var Ei,Ms;function hd(){if(Ms)return Ei;Ms=1;const o=Ve();return Ei=(d,f)=>new o(d,f).minor,Ei}var wi,Bs;function pd(){if(Bs)return wi;Bs=1;const o=Ve();return wi=(d,f)=>new o(d,f).patch,wi}var _i,js;function md(){if(js)return _i;js=1;const o=Gt();return _i=(d,f)=>{const c=o(d,f);return c&&c.prerelease.length?c.prerelease:null},_i}var Si,Hs;function it(){if(Hs)return Si;Hs=1;const o=Ve();return Si=(d,f,c)=>new o(d,c).compare(new o(f,c)),Si}var Ai,Gs;function gd(){if(Gs)return Ai;Gs=1;const o=it();return Ai=(d,f,c)=>o(f,d,c),Ai}var bi,Ws;function vd(){if(Ws)return bi;Ws=1;const o=it();return bi=(d,f)=>o(d,f,!0),bi}var Ri,Vs;function Uo(){if(Vs)return Ri;Vs=1;const o=Ve();return Ri=(d,f,c)=>{const r=new o(d,c),e=new o(f,c);return r.compare(e)||r.compareBuild(e)},Ri}var Ti,zs;function yd(){if(zs)return Ti;zs=1;const o=Uo();return Ti=(d,f)=>d.sort((c,r)=>o(c,r,f)),Ti}var Ci,Ys;function Ed(){if(Ys)return Ci;Ys=1;const o=Uo();return Ci=(d,f)=>d.sort((c,r)=>o(r,c,f)),Ci}var Oi,Xs;function Xr(){if(Xs)return Oi;Xs=1;const o=it();return Oi=(d,f,c)=>o(d,f,c)>0,Oi}var Pi,Js;function qo(){if(Js)return Pi;Js=1;const o=it();return Pi=(d,f,c)=>o(d,f,c)<0,Pi}var Di,Ks;function ic(){if(Ks)return Di;Ks=1;const o=it();return Di=(d,f,c)=>o(d,f,c)===0,Di}var Ii,Qs;function oc(){if(Qs)return Ii;Qs=1;const o=it();return Ii=(d,f,c)=>o(d,f,c)!==0,Ii}var Ni,Zs;function ko(){if(Zs)return Ni;Zs=1;const o=it();return Ni=(d,f,c)=>o(d,f,c)>=0,Ni}var Fi,el;function Mo(){if(el)return Fi;el=1;const o=it();return Fi=(d,f,c)=>o(d,f,c)<=0,Fi}var xi,tl;function ac(){if(tl)return xi;tl=1;const o=ic(),h=oc(),d=Xr(),f=ko(),c=qo(),r=Mo();return xi=(n,t,s,i)=>{switch(t){case"===":return typeof n=="object"&&(n=n.version),typeof s=="object"&&(s=s.version),n===s;case"!==":return typeof n=="object"&&(n=n.version),typeof s=="object"&&(s=s.version),n!==s;case"":case"=":case"==":return o(n,s,i);case"!=":return h(n,s,i);case">":return d(n,s,i);case">=":return f(n,s,i);case"<":return c(n,s,i);case"<=":return r(n,s,i);default:throw new TypeError(`Invalid operator: ${t}`)}},xi}var Li,rl;function wd(){if(rl)return Li;rl=1;const o=Ve(),h=Gt(),{safeRe:d,t:f}=Ar();return Li=(r,e)=>{if(r instanceof o)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let n=null;if(!e.rtl)n=r.match(e.includePrerelease?d[f.COERCEFULL]:d[f.COERCE]);else{const m=e.includePrerelease?d[f.COERCERTLFULL]:d[f.COERCERTL];let g;for(;(g=m.exec(r))&&(!n||n.index+n[0].length!==r.length);)(!n||g.index+g[0].length!==n.index+n[0].length)&&(n=g),m.lastIndex=g.index+g[1].length+g[2].length;m.lastIndex=-1}if(n===null)return null;const t=n[2],s=n[3]||"0",i=n[4]||"0",u=e.includePrerelease&&n[5]?`-${n[5]}`:"",a=e.includePrerelease&&n[6]?`+${n[6]}`:"";return h(`${t}.${s}.${i}${u}${a}`,e)},Li}var $i,nl;function _d(){if(nl)return $i;nl=1;class o{constructor(){this.max=1e3,this.map=new Map}get(d){const f=this.map.get(d);if(f!==void 0)return this.map.delete(d),this.map.set(d,f),f}delete(d){return this.map.delete(d)}set(d,f){if(!this.delete(d)&&f!==void 0){if(this.map.size>=this.max){const r=this.map.keys().next().value;this.delete(r)}this.map.set(d,f)}return this}}return $i=o,$i}var Ui,il;function ot(){if(il)return Ui;il=1;const o=/\s+/g;class h{constructor(D,F){if(F=c(F),D instanceof h)return D.loose===!!F.loose&&D.includePrerelease===!!F.includePrerelease?D:new h(D.raw,F);if(D instanceof r)return this.raw=D.value,this.set=[[D]],this.formatted=void 0,this;if(this.options=F,this.loose=!!F.loose,this.includePrerelease=!!F.includePrerelease,this.raw=D.trim().replace(o," "),this.set=this.raw.split("||").map(q=>this.parseRange(q.trim())).filter(q=>q.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const q=this.set[0];if(this.set=this.set.filter(K=>!v(K[0])),this.set.length===0)this.set=[q];else if(this.set.length>1){for(const K of this.set)if(K.length===1&&p(K[0])){this.set=[K];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let D=0;D<this.set.length;D++){D>0&&(this.formatted+="||");const F=this.set[D];for(let q=0;q<F.length;q++)q>0&&(this.formatted+=" "),this.formatted+=F[q].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(D){const q=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+D,K=f.get(q);if(K)return K;const W=this.options.loose,ne=W?t[s.HYPHENRANGELOOSE]:t[s.HYPHENRANGE];D=D.replace(ne,L(this.options.includePrerelease)),e("hyphen replace",D),D=D.replace(t[s.COMPARATORTRIM],i),e("comparator trim",D),D=D.replace(t[s.TILDETRIM],u),e("tilde trim",D),D=D.replace(t[s.CARETTRIM],a),e("caret trim",D);let ce=D.split(" ").map(J=>T(J,this.options)).join(" ").split(/\s+/).map(J=>$(J,this.options));W&&(ce=ce.filter(J=>(e("loose invalid filter",J,this.options),!!J.match(t[s.COMPARATORLOOSE])))),e("range list",ce);const ue=new Map,ie=ce.map(J=>new r(J,this.options));for(const J of ie){if(v(J))return[J];ue.set(J.value,J)}ue.size>1&&ue.has("")&&ue.delete("");const be=[...ue.values()];return f.set(q,be),be}intersects(D,F){if(!(D instanceof h))throw new TypeError("a Range is required");return this.set.some(q=>_(q,F)&&D.set.some(K=>_(K,F)&&q.every(W=>K.every(ne=>W.intersects(ne,F)))))}test(D){if(!D)return!1;if(typeof D=="string")try{D=new n(D,this.options)}catch{return!1}for(let F=0;F<this.set.length;F++)if(k(this.set[F],D,this.options))return!0;return!1}}Ui=h;const d=_d(),f=new d,c=$o(),r=Jr(),e=Yr(),n=Ve(),{safeRe:t,t:s,comparatorTrimReplace:i,tildeTrimReplace:u,caretTrimReplace:a}=Ar(),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=zr(),v=N=>N.value==="<0.0.0-0",p=N=>N.value==="",_=(N,D)=>{let F=!0;const q=N.slice();let K=q.pop();for(;F&&q.length;)F=q.every(W=>K.intersects(W,D)),K=q.pop();return F},T=(N,D)=>(e("comp",N,D),N=R(N,D),e("caret",N),N=P(N,D),e("tildes",N),N=b(N,D),e("xrange",N),N=M(N,D),e("stars",N),N),O=N=>!N||N.toLowerCase()==="x"||N==="*",P=(N,D)=>N.trim().split(/\s+/).map(F=>U(F,D)).join(" "),U=(N,D)=>{const F=D.loose?t[s.TILDELOOSE]:t[s.TILDE];return N.replace(F,(q,K,W,ne,ce)=>{e("tilde",N,q,K,W,ne,ce);let ue;return O(K)?ue="":O(W)?ue=`>=${K}.0.0 <${+K+1}.0.0-0`:O(ne)?ue=`>=${K}.${W}.0 <${K}.${+W+1}.0-0`:ce?(e("replaceTilde pr",ce),ue=`>=${K}.${W}.${ne}-${ce} <${K}.${+W+1}.0-0`):ue=`>=${K}.${W}.${ne} <${K}.${+W+1}.0-0`,e("tilde return",ue),ue})},R=(N,D)=>N.trim().split(/\s+/).map(F=>S(F,D)).join(" "),S=(N,D)=>{e("caret",N,D);const F=D.loose?t[s.CARETLOOSE]:t[s.CARET],q=D.includePrerelease?"-0":"";return N.replace(F,(K,W,ne,ce,ue)=>{e("caret",N,K,W,ne,ce,ue);let ie;return O(W)?ie="":O(ne)?ie=`>=${W}.0.0${q} <${+W+1}.0.0-0`:O(ce)?W==="0"?ie=`>=${W}.${ne}.0${q} <${W}.${+ne+1}.0-0`:ie=`>=${W}.${ne}.0${q} <${+W+1}.0.0-0`:ue?(e("replaceCaret pr",ue),W==="0"?ne==="0"?ie=`>=${W}.${ne}.${ce}-${ue} <${W}.${ne}.${+ce+1}-0`:ie=`>=${W}.${ne}.${ce}-${ue} <${W}.${+ne+1}.0-0`:ie=`>=${W}.${ne}.${ce}-${ue} <${+W+1}.0.0-0`):(e("no pr"),W==="0"?ne==="0"?ie=`>=${W}.${ne}.${ce}${q} <${W}.${ne}.${+ce+1}-0`:ie=`>=${W}.${ne}.${ce}${q} <${W}.${+ne+1}.0-0`:ie=`>=${W}.${ne}.${ce} <${+W+1}.0.0-0`),e("caret return",ie),ie})},b=(N,D)=>(e("replaceXRanges",N,D),N.split(/\s+/).map(F=>E(F,D)).join(" ")),E=(N,D)=>{N=N.trim();const F=D.loose?t[s.XRANGELOOSE]:t[s.XRANGE];return N.replace(F,(q,K,W,ne,ce,ue)=>{e("xRange",N,q,K,W,ne,ce,ue);const ie=O(W),be=ie||O(ne),J=be||O(ce),ye=J;return K==="="&&ye&&(K=""),ue=D.includePrerelease?"-0":"",ie?K===">"||K==="<"?q="<0.0.0-0":q="*":K&&ye?(be&&(ne=0),ce=0,K===">"?(K=">=",be?(W=+W+1,ne=0,ce=0):(ne=+ne+1,ce=0)):K==="<="&&(K="<",be?W=+W+1:ne=+ne+1),K==="<"&&(ue="-0"),q=`${K+W}.${ne}.${ce}${ue}`):be?q=`>=${W}.0.0${ue} <${+W+1}.0.0-0`:J&&(q=`>=${W}.${ne}.0${ue} <${W}.${+ne+1}.0-0`),e("xRange return",q),q})},M=(N,D)=>(e("replaceStars",N,D),N.trim().replace(t[s.STAR],"")),$=(N,D)=>(e("replaceGTE0",N,D),N.trim().replace(t[D.includePrerelease?s.GTE0PRE:s.GTE0],"")),L=N=>(D,F,q,K,W,ne,ce,ue,ie,be,J,ye)=>(O(q)?F="":O(K)?F=`>=${q}.0.0${N?"-0":""}`:O(W)?F=`>=${q}.${K}.0${N?"-0":""}`:ne?F=`>=${F}`:F=`>=${F}${N?"-0":""}`,O(ie)?ue="":O(be)?ue=`<${+ie+1}.0.0-0`:O(J)?ue=`<${ie}.${+be+1}.0-0`:ye?ue=`<=${ie}.${be}.${J}-${ye}`:N?ue=`<${ie}.${be}.${+J+1}-0`:ue=`<=${ue}`,`${F} ${ue}`.trim()),k=(N,D,F)=>{for(let q=0;q<N.length;q++)if(!N[q].test(D))return!1;if(D.prerelease.length&&!F.includePrerelease){for(let q=0;q<N.length;q++)if(e(N[q].semver),N[q].semver!==r.ANY&&N[q].semver.prerelease.length>0){const K=N[q].semver;if(K.major===D.major&&K.minor===D.minor&&K.patch===D.patch)return!0}return!1}return!0};return Ui}var qi,ol;function Jr(){if(ol)return qi;ol=1;const o=Symbol("SemVer ANY");class h{static get ANY(){return o}constructor(i,u){if(u=d(u),i instanceof h){if(i.loose===!!u.loose)return i;i=i.value}i=i.trim().split(/\s+/).join(" "),e("comparator",i,u),this.options=u,this.loose=!!u.loose,this.parse(i),this.semver===o?this.value="":this.value=this.operator+this.semver.version,e("comp",this)}parse(i){const u=this.options.loose?f[c.COMPARATORLOOSE]:f[c.COMPARATOR],a=i.match(u);if(!a)throw new TypeError(`Invalid comparator: ${i}`);this.operator=a[1]!==void 0?a[1]:"",this.operator==="="&&(this.operator=""),a[2]?this.semver=new n(a[2],this.options.loose):this.semver=o}toString(){return this.value}test(i){if(e("Comparator.test",i,this.options.loose),this.semver===o||i===o)return!0;if(typeof i=="string")try{i=new n(i,this.options)}catch{return!1}return r(i,this.operator,this.semver,this.options)}intersects(i,u){if(!(i instanceof h))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new t(i.value,u).test(this.value):i.operator===""?i.value===""?!0:new t(this.value,u).test(i.semver):(u=d(u),u.includePrerelease&&(this.value==="<0.0.0-0"||i.value==="<0.0.0-0")||!u.includePrerelease&&(this.value.startsWith("<0.0.0")||i.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&i.operator.startsWith(">")||this.operator.startsWith("<")&&i.operator.startsWith("<")||this.semver.version===i.semver.version&&this.operator.includes("=")&&i.operator.includes("=")||r(this.semver,"<",i.semver,u)&&this.operator.startsWith(">")&&i.operator.startsWith("<")||r(this.semver,">",i.semver,u)&&this.operator.startsWith("<")&&i.operator.startsWith(">")))}}qi=h;const d=$o(),{safeRe:f,t:c}=Ar(),r=ac(),e=Yr(),n=Ve(),t=ot();return qi}var ki,al;function Kr(){if(al)return ki;al=1;const o=ot();return ki=(d,f,c)=>{try{f=new o(f,c)}catch{return!1}return f.test(d)},ki}var Mi,sl;function Sd(){if(sl)return Mi;sl=1;const o=ot();return Mi=(d,f)=>new o(d,f).set.map(c=>c.map(r=>r.value).join(" ").trim().split(" ")),Mi}var Bi,ll;function Ad(){if(ll)return Bi;ll=1;const o=Ve(),h=ot();return Bi=(f,c,r)=>{let e=null,n=null,t=null;try{t=new h(c,r)}catch{return null}return f.forEach(s=>{t.test(s)&&(!e||n.compare(s)===-1)&&(e=s,n=new o(e,r))}),e},Bi}var ji,ul;function bd(){if(ul)return ji;ul=1;const o=Ve(),h=ot();return ji=(f,c,r)=>{let e=null,n=null,t=null;try{t=new h(c,r)}catch{return null}return f.forEach(s=>{t.test(s)&&(!e||n.compare(s)===1)&&(e=s,n=new o(e,r))}),e},ji}var Hi,cl;function Rd(){if(cl)return Hi;cl=1;const o=Ve(),h=ot(),d=Xr();return Hi=(c,r)=>{c=new h(c,r);let e=new o("0.0.0");if(c.test(e)||(e=new o("0.0.0-0"),c.test(e)))return e;e=null;for(let n=0;n<c.set.length;++n){const t=c.set[n];let s=null;t.forEach(i=>{const u=new o(i.semver.version);switch(i.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!s||d(u,s))&&(s=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),s&&(!e||d(e,s))&&(e=s)}return e&&c.test(e)?e:null},Hi}var Gi,fl;function Td(){if(fl)return Gi;fl=1;const o=ot();return Gi=(d,f)=>{try{return new o(d,f).range||"*"}catch{return null}},Gi}var Wi,dl;function Bo(){if(dl)return Wi;dl=1;const o=Ve(),h=Jr(),{ANY:d}=h,f=ot(),c=Kr(),r=Xr(),e=qo(),n=Mo(),t=ko();return Wi=(i,u,a,m)=>{i=new o(i,m),u=new f(u,m);let g,v,p,_,T;switch(a){case">":g=r,v=n,p=e,_=">",T=">=";break;case"<":g=e,v=t,p=r,_="<",T="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(c(i,u,m))return!1;for(let O=0;O<u.set.length;++O){const P=u.set[O];let U=null,R=null;if(P.forEach(S=>{S.semver===d&&(S=new h(">=0.0.0")),U=U||S,R=R||S,g(S.semver,U.semver,m)?U=S:p(S.semver,R.semver,m)&&(R=S)}),U.operator===_||U.operator===T||(!R.operator||R.operator===_)&&v(i,R.semver))return!1;if(R.operator===T&&p(i,R.semver))return!1}return!0},Wi}var Vi,hl;function Cd(){if(hl)return Vi;hl=1;const o=Bo();return Vi=(d,f,c)=>o(d,f,">",c),Vi}var zi,pl;function Od(){if(pl)return zi;pl=1;const o=Bo();return zi=(d,f,c)=>o(d,f,"<",c),zi}var Yi,ml;function Pd(){if(ml)return Yi;ml=1;const o=ot();return Yi=(d,f,c)=>(d=new o(d,c),f=new o(f,c),d.intersects(f,c)),Yi}var Xi,gl;function Dd(){if(gl)return Xi;gl=1;const o=Kr(),h=it();return Xi=(d,f,c)=>{const r=[];let e=null,n=null;const t=d.sort((a,m)=>h(a,m,c));for(const a of t)o(a,f,c)?(n=a,e||(e=a)):(n&&r.push([e,n]),n=null,e=null);e&&r.push([e,null]);const s=[];for(const[a,m]of r)a===m?s.push(a):!m&&a===t[0]?s.push("*"):m?a===t[0]?s.push(`<=${m}`):s.push(`${a} - ${m}`):s.push(`>=${a}`);const i=s.join(" || "),u=typeof f.raw=="string"?f.raw:String(f);return i.length<u.length?i:f},Xi}var Ji,vl;function Id(){if(vl)return Ji;vl=1;const o=ot(),h=Jr(),{ANY:d}=h,f=Kr(),c=it(),r=(u,a,m={})=>{if(u===a)return!0;u=new o(u,m),a=new o(a,m);let g=!1;e:for(const v of u.set){for(const p of a.set){const _=t(v,p,m);if(g=g||_!==null,_)continue e}if(g)return!1}return!0},e=[new h(">=0.0.0-0")],n=[new h(">=0.0.0")],t=(u,a,m)=>{if(u===a)return!0;if(u.length===1&&u[0].semver===d){if(a.length===1&&a[0].semver===d)return!0;m.includePrerelease?u=e:u=n}if(a.length===1&&a[0].semver===d){if(m.includePrerelease)return!0;a=n}const g=new Set;let v,p;for(const b of u)b.operator===">"||b.operator===">="?v=s(v,b,m):b.operator==="<"||b.operator==="<="?p=i(p,b,m):g.add(b.semver);if(g.size>1)return null;let _;if(v&&p){if(_=c(v.semver,p.semver,m),_>0)return null;if(_===0&&(v.operator!==">="||p.operator!=="<="))return null}for(const b of g){if(v&&!f(b,String(v),m)||p&&!f(b,String(p),m))return null;for(const E of a)if(!f(b,String(E),m))return!1;return!0}let T,O,P,U,R=p&&!m.includePrerelease&&p.semver.prerelease.length?p.semver:!1,S=v&&!m.includePrerelease&&v.semver.prerelease.length?v.semver:!1;R&&R.prerelease.length===1&&p.operator==="<"&&R.prerelease[0]===0&&(R=!1);for(const b of a){if(U=U||b.operator===">"||b.operator===">=",P=P||b.operator==="<"||b.operator==="<=",v){if(S&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===S.major&&b.semver.minor===S.minor&&b.semver.patch===S.patch&&(S=!1),b.operator===">"||b.operator===">="){if(T=s(v,b,m),T===b&&T!==v)return!1}else if(v.operator===">="&&!f(v.semver,String(b),m))return!1}if(p){if(R&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===R.major&&b.semver.minor===R.minor&&b.semver.patch===R.patch&&(R=!1),b.operator==="<"||b.operator==="<="){if(O=i(p,b,m),O===b&&O!==p)return!1}else if(p.operator==="<="&&!f(p.semver,String(b),m))return!1}if(!b.operator&&(p||v)&&_!==0)return!1}return!(v&&P&&!p&&_!==0||p&&U&&!v&&_!==0||S||R)},s=(u,a,m)=>{if(!u)return a;const g=c(u.semver,a.semver,m);return g>0?u:g<0||a.operator===">"&&u.operator===">="?a:u},i=(u,a,m)=>{if(!u)return a;const g=c(u.semver,a.semver,m);return g<0?u:g>0||a.operator==="<"&&u.operator==="<="?a:u};return Ji=r,Ji}var Ki,yl;function sc(){if(yl)return Ki;yl=1;const o=Ar(),h=zr(),d=Ve(),f=nc(),c=Gt(),r=ld(),e=ud(),n=cd(),t=fd(),s=dd(),i=hd(),u=pd(),a=md(),m=it(),g=gd(),v=vd(),p=Uo(),_=yd(),T=Ed(),O=Xr(),P=qo(),U=ic(),R=oc(),S=ko(),b=Mo(),E=ac(),M=wd(),$=Jr(),L=ot(),k=Kr(),N=Sd(),D=Ad(),F=bd(),q=Rd(),K=Td(),W=Bo(),ne=Cd(),ce=Od(),ue=Pd(),ie=Dd(),be=Id();return Ki={parse:c,valid:r,clean:e,inc:n,diff:t,major:s,minor:i,patch:u,prerelease:a,compare:m,rcompare:g,compareLoose:v,compareBuild:p,sort:_,rsort:T,gt:O,lt:P,eq:U,neq:R,gte:S,lte:b,cmp:E,coerce:M,Comparator:$,Range:L,satisfies:k,toComparators:N,maxSatisfying:D,minSatisfying:F,minVersion:q,validRange:K,outside:W,gtr:ne,ltr:ce,intersects:ue,simplifyRange:ie,subset:be,SemVer:d,re:o.re,src:o.src,tokens:o.t,SEMVER_SPEC_VERSION:h.SEMVER_SPEC_VERSION,RELEASE_TYPES:h.RELEASE_TYPES,compareIdentifiers:f.compareIdentifiers,rcompareIdentifiers:f.rcompareIdentifiers},Ki}var Ut={},vr={exports:{}};vr.exports;var El;function Nd(){return El||(El=1,function(o,h){var d=200,f="__lodash_hash_undefined__",c=1,r=2,e=9007199254740991,n="[object Arguments]",t="[object Array]",s="[object AsyncFunction]",i="[object Boolean]",u="[object Date]",a="[object Error]",m="[object Function]",g="[object GeneratorFunction]",v="[object Map]",p="[object Number]",_="[object Null]",T="[object Object]",O="[object Promise]",P="[object Proxy]",U="[object RegExp]",R="[object Set]",S="[object String]",b="[object Symbol]",E="[object Undefined]",M="[object WeakMap]",$="[object ArrayBuffer]",L="[object DataView]",k="[object Float32Array]",N="[object Float64Array]",D="[object Int8Array]",F="[object Int16Array]",q="[object Int32Array]",K="[object Uint8Array]",W="[object Uint8ClampedArray]",ne="[object Uint16Array]",ce="[object Uint32Array]",ue=/[\\^$.*+?()[\]{}|]/g,ie=/^\[object .+?Constructor\]$/,be=/^(?:0|[1-9]\d*)$/,J={};J[k]=J[N]=J[D]=J[F]=J[q]=J[K]=J[W]=J[ne]=J[ce]=!0,J[n]=J[t]=J[$]=J[i]=J[L]=J[u]=J[a]=J[m]=J[v]=J[p]=J[T]=J[U]=J[R]=J[S]=J[M]=!1;var ye=typeof nt=="object"&&nt&&nt.Object===Object&&nt,A=typeof self=="object"&&self&&self.Object===Object&&self,y=ye||A||Function("return this")(),j=h&&!h.nodeType&&h,I=j&&!0&&o&&!o.nodeType&&o,le=I&&I.exports===j,me=le&&ye.process,pe=function(){try{return me&&me.binding&&me.binding("util")}catch{}}(),_e=pe&&pe.isTypedArray;function Ee(C,x){for(var Y=-1,se=C==null?0:C.length,Ie=0,Se=[];++Y<se;){var Le=C[Y];x(Le,Y,C)&&(Se[Ie++]=Le)}return Se}function $e(C,x){for(var Y=-1,se=x.length,Ie=C.length;++Y<se;)C[Ie+Y]=x[Y];return C}function Oe(C,x){for(var Y=-1,se=C==null?0:C.length;++Y<se;)if(x(C[Y],Y,C))return!0;return!1}function Be(C,x){for(var Y=-1,se=Array(C);++Y<C;)se[Y]=x(Y);return se}function Et(C){return function(x){return C(x)}}function st(C,x){return C.has(x)}function l(C,x){return C==null?void 0:C[x]}function B(C){var x=-1,Y=Array(C.size);return C.forEach(function(se,Ie){Y[++x]=[Ie,se]}),Y}function G(C,x){return function(Y){return C(x(Y))}}function re(C){var x=-1,Y=Array(C.size);return C.forEach(function(se){Y[++x]=se}),Y}var V=Array.prototype,te=Function.prototype,Z=Object.prototype,oe=y["__core-js_shared__"],ge=te.toString,ve=Z.hasOwnProperty,Re=function(){var C=/[^.]+$/.exec(oe&&oe.keys&&oe.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}(),de=Z.toString,Ue=RegExp("^"+ge.call(ve).replace(ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=le?y.Buffer:void 0,H=y.Symbol,X=y.Uint8Array,z=Z.propertyIsEnumerable,Q=V.splice,ee=H?H.toStringTag:void 0,fe=Object.getOwnPropertySymbols,ae=w?w.isBuffer:void 0,he=G(Object.keys,Object),we=Lt(y,"DataView"),Pe=Lt(y,"Map"),xe=Lt(y,"Promise"),Te=Lt(y,"Set"),xt=Lt(y,"WeakMap"),et=Lt(Object,"create"),wt=At(we),_c=At(Pe),Sc=At(xe),Ac=At(Te),bc=At(xt),Wo=H?H.prototype:void 0,Zr=Wo?Wo.valueOf:void 0;function _t(C){var x=-1,Y=C==null?0:C.length;for(this.clear();++x<Y;){var se=C[x];this.set(se[0],se[1])}}function Rc(){this.__data__=et?et(null):{},this.size=0}function Tc(C){var x=this.has(C)&&delete this.__data__[C];return this.size-=x?1:0,x}function Cc(C){var x=this.__data__;if(et){var Y=x[C];return Y===f?void 0:Y}return ve.call(x,C)?x[C]:void 0}function Oc(C){var x=this.__data__;return et?x[C]!==void 0:ve.call(x,C)}function Pc(C,x){var Y=this.__data__;return this.size+=this.has(C)?0:1,Y[C]=et&&x===void 0?f:x,this}_t.prototype.clear=Rc,_t.prototype.delete=Tc,_t.prototype.get=Cc,_t.prototype.has=Oc,_t.prototype.set=Pc;function lt(C){var x=-1,Y=C==null?0:C.length;for(this.clear();++x<Y;){var se=C[x];this.set(se[0],se[1])}}function Dc(){this.__data__=[],this.size=0}function Ic(C){var x=this.__data__,Y=Rr(x,C);if(Y<0)return!1;var se=x.length-1;return Y==se?x.pop():Q.call(x,Y,1),--this.size,!0}function Nc(C){var x=this.__data__,Y=Rr(x,C);return Y<0?void 0:x[Y][1]}function Fc(C){return Rr(this.__data__,C)>-1}function xc(C,x){var Y=this.__data__,se=Rr(Y,C);return se<0?(++this.size,Y.push([C,x])):Y[se][1]=x,this}lt.prototype.clear=Dc,lt.prototype.delete=Ic,lt.prototype.get=Nc,lt.prototype.has=Fc,lt.prototype.set=xc;function St(C){var x=-1,Y=C==null?0:C.length;for(this.clear();++x<Y;){var se=C[x];this.set(se[0],se[1])}}function Lc(){this.size=0,this.__data__={hash:new _t,map:new(Pe||lt),string:new _t}}function $c(C){var x=Tr(this,C).delete(C);return this.size-=x?1:0,x}function Uc(C){return Tr(this,C).get(C)}function qc(C){return Tr(this,C).has(C)}function kc(C,x){var Y=Tr(this,C),se=Y.size;return Y.set(C,x),this.size+=Y.size==se?0:1,this}St.prototype.clear=Lc,St.prototype.delete=$c,St.prototype.get=Uc,St.prototype.has=qc,St.prototype.set=kc;function br(C){var x=-1,Y=C==null?0:C.length;for(this.__data__=new St;++x<Y;)this.add(C[x])}function Mc(C){return this.__data__.set(C,f),this}function Bc(C){return this.__data__.has(C)}br.prototype.add=br.prototype.push=Mc,br.prototype.has=Bc;function dt(C){var x=this.__data__=new lt(C);this.size=x.size}function jc(){this.__data__=new lt,this.size=0}function Hc(C){var x=this.__data__,Y=x.delete(C);return this.size=x.size,Y}function Gc(C){return this.__data__.get(C)}function Wc(C){return this.__data__.has(C)}function Vc(C,x){var Y=this.__data__;if(Y instanceof lt){var se=Y.__data__;if(!Pe||se.length<d-1)return se.push([C,x]),this.size=++Y.size,this;Y=this.__data__=new St(se)}return Y.set(C,x),this.size=Y.size,this}dt.prototype.clear=jc,dt.prototype.delete=Hc,dt.prototype.get=Gc,dt.prototype.has=Wc,dt.prototype.set=Vc;function zc(C,x){var Y=Cr(C),se=!Y&&uf(C),Ie=!Y&&!se&&en(C),Se=!Y&&!se&&!Ie&&ea(C),Le=Y||se||Ie||Se,qe=Le?Be(C.length,String):[],ke=qe.length;for(var Ne in C)ve.call(C,Ne)&&!(Le&&(Ne=="length"||Ie&&(Ne=="offset"||Ne=="parent")||Se&&(Ne=="buffer"||Ne=="byteLength"||Ne=="byteOffset")||nf(Ne,ke)))&&qe.push(Ne);return qe}function Rr(C,x){for(var Y=C.length;Y--;)if(Jo(C[Y][0],x))return Y;return-1}function Yc(C,x,Y){var se=x(C);return Cr(C)?se:$e(se,Y(C))}function Vt(C){return C==null?C===void 0?E:_:ee&&ee in Object(C)?tf(C):lf(C)}function Vo(C){return zt(C)&&Vt(C)==n}function zo(C,x,Y,se,Ie){return C===x?!0:C==null||x==null||!zt(C)&&!zt(x)?C!==C&&x!==x:Xc(C,x,Y,se,zo,Ie)}function Xc(C,x,Y,se,Ie,Se){var Le=Cr(C),qe=Cr(x),ke=Le?t:ht(C),Ne=qe?t:ht(x);ke=ke==n?T:ke,Ne=Ne==n?T:Ne;var Ye=ke==T,tt=Ne==T,je=ke==Ne;if(je&&en(C)){if(!en(x))return!1;Le=!0,Ye=!1}if(je&&!Ye)return Se||(Se=new dt),Le||ea(C)?Yo(C,x,Y,se,Ie,Se):Zc(C,x,ke,Y,se,Ie,Se);if(!(Y&c)){var Ke=Ye&&ve.call(C,"__wrapped__"),Qe=tt&&ve.call(x,"__wrapped__");if(Ke||Qe){var pt=Ke?C.value():C,ut=Qe?x.value():x;return Se||(Se=new dt),Ie(pt,ut,Y,se,Se)}}return je?(Se||(Se=new dt),ef(C,x,Y,se,Ie,Se)):!1}function Jc(C){if(!Zo(C)||af(C))return!1;var x=Ko(C)?Ue:ie;return x.test(At(C))}function Kc(C){return zt(C)&&Qo(C.length)&&!!J[Vt(C)]}function Qc(C){if(!sf(C))return he(C);var x=[];for(var Y in Object(C))ve.call(C,Y)&&Y!="constructor"&&x.push(Y);return x}function Yo(C,x,Y,se,Ie,Se){var Le=Y&c,qe=C.length,ke=x.length;if(qe!=ke&&!(Le&&ke>qe))return!1;var Ne=Se.get(C);if(Ne&&Se.get(x))return Ne==x;var Ye=-1,tt=!0,je=Y&r?new br:void 0;for(Se.set(C,x),Se.set(x,C);++Ye<qe;){var Ke=C[Ye],Qe=x[Ye];if(se)var pt=Le?se(Qe,Ke,Ye,x,C,Se):se(Ke,Qe,Ye,C,x,Se);if(pt!==void 0){if(pt)continue;tt=!1;break}if(je){if(!Oe(x,function(ut,bt){if(!st(je,bt)&&(Ke===ut||Ie(Ke,ut,Y,se,Se)))return je.push(bt)})){tt=!1;break}}else if(!(Ke===Qe||Ie(Ke,Qe,Y,se,Se))){tt=!1;break}}return Se.delete(C),Se.delete(x),tt}function Zc(C,x,Y,se,Ie,Se,Le){switch(Y){case L:if(C.byteLength!=x.byteLength||C.byteOffset!=x.byteOffset)return!1;C=C.buffer,x=x.buffer;case $:return!(C.byteLength!=x.byteLength||!Se(new X(C),new X(x)));case i:case u:case p:return Jo(+C,+x);case a:return C.name==x.name&&C.message==x.message;case U:case S:return C==x+"";case v:var qe=B;case R:var ke=se&c;if(qe||(qe=re),C.size!=x.size&&!ke)return!1;var Ne=Le.get(C);if(Ne)return Ne==x;se|=r,Le.set(C,x);var Ye=Yo(qe(C),qe(x),se,Ie,Se,Le);return Le.delete(C),Ye;case b:if(Zr)return Zr.call(C)==Zr.call(x)}return!1}function ef(C,x,Y,se,Ie,Se){var Le=Y&c,qe=Xo(C),ke=qe.length,Ne=Xo(x),Ye=Ne.length;if(ke!=Ye&&!Le)return!1;for(var tt=ke;tt--;){var je=qe[tt];if(!(Le?je in x:ve.call(x,je)))return!1}var Ke=Se.get(C);if(Ke&&Se.get(x))return Ke==x;var Qe=!0;Se.set(C,x),Se.set(x,C);for(var pt=Le;++tt<ke;){je=qe[tt];var ut=C[je],bt=x[je];if(se)var ta=Le?se(bt,ut,je,x,C,Se):se(ut,bt,je,C,x,Se);if(!(ta===void 0?ut===bt||Ie(ut,bt,Y,se,Se):ta)){Qe=!1;break}pt||(pt=je=="constructor")}if(Qe&&!pt){var Or=C.constructor,Pr=x.constructor;Or!=Pr&&"constructor"in C&&"constructor"in x&&!(typeof Or=="function"&&Or instanceof Or&&typeof Pr=="function"&&Pr instanceof Pr)&&(Qe=!1)}return Se.delete(C),Se.delete(x),Qe}function Xo(C){return Yc(C,df,rf)}function Tr(C,x){var Y=C.__data__;return of(x)?Y[typeof x=="string"?"string":"hash"]:Y.map}function Lt(C,x){var Y=l(C,x);return Jc(Y)?Y:void 0}function tf(C){var x=ve.call(C,ee),Y=C[ee];try{C[ee]=void 0;var se=!0}catch{}var Ie=de.call(C);return se&&(x?C[ee]=Y:delete C[ee]),Ie}var rf=fe?function(C){return C==null?[]:(C=Object(C),Ee(fe(C),function(x){return z.call(C,x)}))}:hf,ht=Vt;(we&&ht(new we(new ArrayBuffer(1)))!=L||Pe&&ht(new Pe)!=v||xe&&ht(xe.resolve())!=O||Te&&ht(new Te)!=R||xt&&ht(new xt)!=M)&&(ht=function(C){var x=Vt(C),Y=x==T?C.constructor:void 0,se=Y?At(Y):"";if(se)switch(se){case wt:return L;case _c:return v;case Sc:return O;case Ac:return R;case bc:return M}return x});function nf(C,x){return x=x??e,!!x&&(typeof C=="number"||be.test(C))&&C>-1&&C%1==0&&C<x}function of(C){var x=typeof C;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?C!=="__proto__":C===null}function af(C){return!!Re&&Re in C}function sf(C){var x=C&&C.constructor,Y=typeof x=="function"&&x.prototype||Z;return C===Y}function lf(C){return de.call(C)}function At(C){if(C!=null){try{return ge.call(C)}catch{}try{return C+""}catch{}}return""}function Jo(C,x){return C===x||C!==C&&x!==x}var uf=Vo(function(){return arguments}())?Vo:function(C){return zt(C)&&ve.call(C,"callee")&&!z.call(C,"callee")},Cr=Array.isArray;function cf(C){return C!=null&&Qo(C.length)&&!Ko(C)}var en=ae||pf;function ff(C,x){return zo(C,x)}function Ko(C){if(!Zo(C))return!1;var x=Vt(C);return x==m||x==g||x==s||x==P}function Qo(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=e}function Zo(C){var x=typeof C;return C!=null&&(x=="object"||x=="function")}function zt(C){return C!=null&&typeof C=="object"}var ea=_e?Et(_e):Kc;function df(C){return cf(C)?zc(C):Qc(C)}function hf(){return[]}function pf(){return!1}o.exports=ff}(vr,vr.exports)),vr.exports}var wl;function Fd(){if(wl)return Ut;wl=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.DownloadedUpdateHelper=void 0,Ut.createTempUpdateFile=n;const o=wr,h=Xe,d=Nd(),f=yt(),c=Ce;let r=class{constructor(s){this.cacheDir=s,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return c.join(this.cacheDir,"pending")}async validateDownloadedPath(s,i,u,a){if(this.versionInfo!=null&&this.file===s&&this.fileInfo!=null)return d(this.versionInfo,i)&&d(this.fileInfo.info,u.info)&&await(0,f.pathExists)(s)?s:null;const m=await this.getValidCachedUpdateFile(u,a);return m===null?null:(a.info(`Update has already been downloaded to ${s}).`),this._file=m,m)}async setDownloadedFile(s,i,u,a,m,g){this._file=s,this._packageFile=i,this.versionInfo=u,this.fileInfo=a,this._downloadedFileInfo={fileName:m,sha512:a.info.sha512,isAdminRightsRequired:a.info.isAdminRightsRequired===!0},g&&await(0,f.outputJson)(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await(0,f.emptyDir)(this.cacheDirForPendingUpdate)}catch{}}async getValidCachedUpdateFile(s,i){const u=this.getUpdateInfoFile();if(!await(0,f.pathExists)(u))return null;let m;try{m=await(0,f.readJson)(u)}catch(_){let T="No cached update info available";return _.code!=="ENOENT"&&(await this.cleanCacheDirForPendingUpdate(),T+=` (error on read: ${_.message})`),i.info(T),null}if(!((m==null?void 0:m.fileName)!==null))return i.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(s.info.sha512!==m.sha512)return i.info(`Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${m.sha512}, expected: ${s.info.sha512}. Directory for cached update will be cleaned`),await this.cleanCacheDirForPendingUpdate(),null;const v=c.join(this.cacheDirForPendingUpdate,m.fileName);if(!await(0,f.pathExists)(v))return i.info("Cached update file doesn't exist"),null;const p=await e(v);return s.info.sha512!==p?(i.warn(`Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${p}, expected: ${s.info.sha512}`),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=m,v)}getUpdateInfoFile(){return c.join(this.cacheDirForPendingUpdate,"update-info.json")}};Ut.DownloadedUpdateHelper=r;function e(t,s="sha512",i="base64",u){return new Promise((a,m)=>{const g=(0,o.createHash)(s);g.on("error",m).setEncoding(i),(0,h.createReadStream)(t,{...u,highWaterMark:1024*1024}).on("error",m).on("end",()=>{g.end(),a(g.read())}).pipe(g,{end:!1})})}async function n(t,s,i){let u=0,a=c.join(s,t);for(let m=0;m<3;m++)try{return await(0,f.unlink)(a),a}catch(g){if(g.code==="ENOENT")return a;i.warn(`Error on remove temp update file: ${g}`),a=c.join(s,`${u++}-${t}`)}return a}return Ut}var Zt={},Br={},_l;function xd(){if(_l)return Br;_l=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.getAppCacheDir=d;const o=Ce,h=vt;function d(){const f=(0,h.homedir)();let c;return process.platform==="win32"?c=process.env.LOCALAPPDATA||o.join(f,"AppData","Local"):process.platform==="darwin"?c=o.join(f,"Library","Caches"):c=process.env.XDG_CACHE_HOME||o.join(f,".cache"),c}return Br}var Sl;function Ld(){if(Sl)return Zt;Sl=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.ElectronAppAdapter=void 0;const o=Ce,h=xd();let d=class{constructor(c=Fe.app){this.app=c}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return this.app.isPackaged===!0}get appUpdateConfigPath(){return this.isPackaged?o.join(process.resourcesPath,"app-update.yml"):o.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return(0,h.getAppCacheDir)()}quit(){this.app.quit()}relaunch(){this.app.relaunch()}onQuit(c){this.app.once("quit",(r,e)=>c(e))}};return Zt.ElectronAppAdapter=d,Zt}var Qi={},Al;function $d(){return Al||(Al=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.ElectronHttpExecutor=o.NET_SESSION_NAME=void 0,o.getNetSession=d;const h=Me();o.NET_SESSION_NAME="electron-updater";function d(){return Fe.session.fromPartition(o.NET_SESSION_NAME,{cache:!1})}class f extends h.HttpExecutor{constructor(r){super(),this.proxyLoginCallback=r,this.cachedSession=null}async download(r,e,n){return await n.cancellationToken.createPromise((t,s,i)=>{const u={headers:n.headers||void 0,redirect:"manual"};(0,h.configureRequestUrl)(r,u),(0,h.configureRequestOptions)(u),this.doDownload(u,{destination:e,options:n,onCancel:i,callback:a=>{a==null?t(e):s(a)},responseHandler:null},0)})}createRequest(r,e){r.headers&&r.headers.Host&&(r.host=r.headers.Host,delete r.headers.Host),this.cachedSession==null&&(this.cachedSession=d());const n=Fe.net.request({...r,session:this.cachedSession});return n.on("response",e),this.proxyLoginCallback!=null&&n.on("login",this.proxyLoginCallback),n}addRedirectHandlers(r,e,n,t,s){r.on("redirect",(i,u,a)=>{r.abort(),t>this.maxRedirects?n(this.createMaxRedirectError()):s(h.HttpExecutor.prepareRedirectUrlOptions(a,e))})}}o.ElectronHttpExecutor=f}(Qi)),Qi}var er={},Pt={},Zi,bl;function Ud(){if(bl)return Zi;bl=1;var o="[object Symbol]",h=/[\\^$.*+?()[\]{}|]/g,d=RegExp(h.source),f=typeof nt=="object"&&nt&&nt.Object===Object&&nt,c=typeof self=="object"&&self&&self.Object===Object&&self,r=f||c||Function("return this")(),e=Object.prototype,n=e.toString,t=r.Symbol,s=t?t.prototype:void 0,i=s?s.toString:void 0;function u(p){if(typeof p=="string")return p;if(m(p))return i?i.call(p):"";var _=p+"";return _=="0"&&1/p==-1/0?"-0":_}function a(p){return!!p&&typeof p=="object"}function m(p){return typeof p=="symbol"||a(p)&&n.call(p)==o}function g(p){return p==null?"":u(p)}function v(p){return p=g(p),p&&d.test(p)?p.replace(h,"\\$&"):p}return Zi=v,Zi}var Rl;function It(){if(Rl)return Pt;Rl=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.newBaseUrl=d,Pt.newUrlFromBase=f,Pt.getChannelFilename=c,Pt.blockmapFiles=r;const o=Bt,h=Ud();function d(e){const n=new o.URL(e);return n.pathname.endsWith("/")||(n.pathname+="/"),n}function f(e,n,t=!1){const s=new o.URL(e,n),i=n.search;return i!=null&&i.length!==0?s.search=i:t&&(s.search=`noCache=${Date.now().toString(32)}`),s}function c(e){return`${e}.yml`}function r(e,n,t){const s=f(`${e.pathname}.blockmap`,e);return[f(`${e.pathname.replace(new RegExp(h(t),"g"),n)}.blockmap`,e),s]}return Pt}var ct={},Tl;function Ze(){if(Tl)return ct;Tl=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.Provider=void 0,ct.findFile=c,ct.parseUpdateInfo=r,ct.getFileList=e,ct.resolveFiles=n;const o=Me(),h=Lo(),d=It();let f=class{constructor(s){this.runtimeOptions=s,this.requestHeaders=null,this.executor=s.executor}get isUseMultipleRangeRequest(){return this.runtimeOptions.isUseMultipleRangeRequest!==!1}getChannelFilePrefix(){if(this.runtimeOptions.platform==="linux"){const s=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+(s==="x64"?"":`-${s}`)}else return this.runtimeOptions.platform==="darwin"?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(s){return`${s}${this.getChannelFilePrefix()}`}get fileExtraDownloadHeaders(){return null}setRequestHeaders(s){this.requestHeaders=s}httpRequest(s,i,u){return this.executor.request(this.createRequestOptions(s,i),u)}createRequestOptions(s,i){const u={};return this.requestHeaders==null?i!=null&&(u.headers=i):u.headers=i==null?this.requestHeaders:{...this.requestHeaders,...i},(0,o.configureRequestUrl)(s,u),u}};ct.Provider=f;function c(t,s,i){if(t.length===0)throw(0,o.newError)("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");const u=t.find(a=>a.url.pathname.toLowerCase().endsWith(`.${s}`));return u??(i==null?t[0]:t.find(a=>!i.some(m=>a.url.pathname.toLowerCase().endsWith(`.${m}`))))}function r(t,s,i){if(t==null)throw(0,o.newError)(`Cannot parse update info from ${s} in the latest release artifacts (${i}): rawData: null`,"ERR_UPDATER_INVALID_UPDATE_INFO");let u;try{u=(0,h.load)(t)}catch(a){throw(0,o.newError)(`Cannot parse update info from ${s} in the latest release artifacts (${i}): ${a.stack||a.message}, rawData: ${t}`,"ERR_UPDATER_INVALID_UPDATE_INFO")}return u}function e(t){const s=t.files;if(s!=null&&s.length>0)return s;if(t.path!=null)return[{url:t.path,sha2:t.sha2,sha512:t.sha512}];throw(0,o.newError)(`No files provided: ${(0,o.safeStringifyJson)(t)}`,"ERR_UPDATER_NO_FILES_PROVIDED")}function n(t,s,i=u=>u){const a=e(t).map(v=>{if(v.sha2==null&&v.sha512==null)throw(0,o.newError)(`Update info doesn't contain nor sha256 neither sha512 checksum: ${(0,o.safeStringifyJson)(v)}`,"ERR_UPDATER_NO_CHECKSUM");return{url:(0,d.newUrlFromBase)(i(v.url),s),info:v}}),m=t.packages,g=m==null?null:m[process.arch]||m.ia32;return g!=null&&(a[0].packageInfo={...g,path:(0,d.newUrlFromBase)(i(g.path),s).href}),a}return ct}var Cl;function lc(){if(Cl)return er;Cl=1,Object.defineProperty(er,"__esModule",{value:!0}),er.GenericProvider=void 0;const o=Me(),h=It(),d=Ze();let f=class extends d.Provider{constructor(r,e,n){super(n),this.configuration=r,this.updater=e,this.baseUrl=(0,h.newBaseUrl)(this.configuration.url)}get channel(){const r=this.updater.channel||this.configuration.channel;return r==null?this.getDefaultChannelName():this.getCustomChannelName(r)}async getLatestVersion(){const r=(0,h.getChannelFilename)(this.channel),e=(0,h.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);for(let n=0;;n++)try{return(0,d.parseUpdateInfo)(await this.httpRequest(e),r,e)}catch(t){if(t instanceof o.HttpError&&t.statusCode===404)throw(0,o.newError)(`Cannot find channel "${r}" update info: ${t.stack||t.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if(t.code==="ECONNREFUSED"&&n<3){await new Promise((s,i)=>{try{setTimeout(s,1e3*n)}catch(u){i(u)}});continue}throw t}}resolveFiles(r){return(0,d.resolveFiles)(r,this.baseUrl)}};return er.GenericProvider=f,er}var tr={},rr={},Ol;function qd(){if(Ol)return rr;Ol=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.BitbucketProvider=void 0;const o=Me(),h=It(),d=Ze();let f=class extends d.Provider{constructor(r,e,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=r,this.updater=e;const{owner:t,slug:s}=r;this.baseUrl=(0,h.newBaseUrl)(`https://api.bitbucket.org/2.0/repositories/${t}/${s}/downloads`)}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){const r=new o.CancellationToken,e=(0,h.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,h.newUrlFromBase)(e,this.baseUrl,this.updater.isAddNoCacheQuery);try{const t=await this.httpRequest(n,void 0,r);return(0,d.parseUpdateInfo)(t,e,n)}catch(t){throw(0,o.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${t.stack||t.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(r){return(0,d.resolveFiles)(r,this.baseUrl)}toString(){const{owner:r,slug:e}=this.configuration;return`Bitbucket (owner: ${r}, slug: ${e}, channel: ${this.channel})`}};return rr.BitbucketProvider=f,rr}var gt={},Pl;function uc(){if(Pl)return gt;Pl=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.GitHubProvider=gt.BaseGitHubProvider=void 0,gt.computeReleaseNotes=s;const o=Me(),h=sc(),d=Bt,f=It(),c=Ze(),r=/\/tag\/([^/]+)$/;class e extends c.Provider{constructor(u,a,m){super({...m,isUseMultipleRangeRequest:!1}),this.options=u,this.baseUrl=(0,f.newBaseUrl)((0,o.githubUrl)(u,a));const g=a==="github.com"?"api.github.com":a;this.baseApiUrl=(0,f.newBaseUrl)((0,o.githubUrl)(u,g))}computeGithubBasePath(u){const a=this.options.host;return a&&!["github.com","api.github.com"].includes(a)?`/api/v3${u}`:u}}gt.BaseGitHubProvider=e;let n=class extends e{constructor(u,a,m){super(u,"github.com",m),this.options=u,this.updater=a}get channel(){const u=this.updater.channel||this.options.channel;return u==null?this.getDefaultChannelName():this.getCustomChannelName(u)}async getLatestVersion(){var u,a,m,g,v;const p=new o.CancellationToken,_=await this.httpRequest((0,f.newUrlFromBase)(`${this.basePath}.atom`,this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},p),T=(0,o.parseXml)(_);let O=T.element("entry",!1,"No published versions on GitHub"),P=null;try{if(this.updater.allowPrerelease){const M=((u=this.updater)===null||u===void 0?void 0:u.channel)||((a=h.prerelease(this.updater.currentVersion))===null||a===void 0?void 0:a[0])||null;if(M===null)P=r.exec(O.element("link").attribute("href"))[1];else for(const $ of T.getElements("entry")){const L=r.exec($.element("link").attribute("href"));if(L===null)continue;const k=L[1],N=((m=h.prerelease(k))===null||m===void 0?void 0:m[0])||null,D=!M||["alpha","beta"].includes(M),F=N!==null&&!["alpha","beta"].includes(String(N));if(D&&!F&&!(M==="beta"&&N==="alpha")){P=k;break}if(N&&N===M){P=k;break}}}else{P=await this.getLatestTagName(p);for(const M of T.getElements("entry"))if(r.exec(M.element("link").attribute("href"))[1]===P){O=M;break}}}catch(M){throw(0,o.newError)(`Cannot parse releases feed: ${M.stack||M.message},
XML:
${_}`,"ERR_UPDATER_INVALID_RELEASE_FEED")}if(P==null)throw(0,o.newError)("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");let U,R="",S="";const b=async M=>{R=(0,f.getChannelFilename)(M),S=(0,f.newUrlFromBase)(this.getBaseDownloadPath(String(P),R),this.baseUrl);const $=this.createRequestOptions(S);try{return await this.executor.request($,p)}catch(L){throw L instanceof o.HttpError&&L.statusCode===404?(0,o.newError)(`Cannot find ${R} in the latest release artifacts (${S}): ${L.stack||L.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):L}};try{let M=this.channel;this.updater.allowPrerelease&&(!((g=h.prerelease(P))===null||g===void 0)&&g[0])&&(M=this.getCustomChannelName(String((v=h.prerelease(P))===null||v===void 0?void 0:v[0]))),U=await b(M)}catch(M){if(this.updater.allowPrerelease)U=await b(this.getDefaultChannelName());else throw M}const E=(0,c.parseUpdateInfo)(U,R,S);return E.releaseName==null&&(E.releaseName=O.elementValueOrEmpty("title")),E.releaseNotes==null&&(E.releaseNotes=s(this.updater.currentVersion,this.updater.fullChangelog,T,O)),{tag:P,...E}}async getLatestTagName(u){const a=this.options,m=a.host==null||a.host==="github.com"?(0,f.newUrlFromBase)(`${this.basePath}/latest`,this.baseUrl):new d.URL(`${this.computeGithubBasePath(`/repos/${a.owner}/${a.repo}/releases`)}/latest`,this.baseApiUrl);try{const g=await this.httpRequest(m,{Accept:"application/json"},u);return g==null?null:JSON.parse(g).tag_name}catch(g){throw(0,o.newError)(`Unable to find latest version on GitHub (${m}), please ensure a production release exists: ${g.stack||g.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return`/${this.options.owner}/${this.options.repo}/releases`}resolveFiles(u){return(0,c.resolveFiles)(u,this.baseUrl,a=>this.getBaseDownloadPath(u.tag,a.replace(/ /g,"-")))}getBaseDownloadPath(u,a){return`${this.basePath}/download/${u}/${a}`}};gt.GitHubProvider=n;function t(i){const u=i.elementValueOrEmpty("content");return u==="No content."?"":u}function s(i,u,a,m){if(!u)return t(m);const g=[];for(const v of a.getElements("entry")){const p=/\/tag\/v?([^/]+)$/.exec(v.element("link").attribute("href"))[1];h.lt(i,p)&&g.push({version:p,note:t(v)})}return g.sort((v,p)=>h.rcompare(v.version,p.version))}return gt}var nr={},Dl;function kd(){if(Dl)return nr;Dl=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.KeygenProvider=void 0;const o=Me(),h=It(),d=Ze();let f=class extends d.Provider{constructor(r,e,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=r,this.updater=e,this.defaultHostname="api.keygen.sh";const t=this.configuration.host||this.defaultHostname;this.baseUrl=(0,h.newBaseUrl)(`https://${t}/v1/accounts/${this.configuration.account}/artifacts?product=${this.configuration.product}`)}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){const r=new o.CancellationToken,e=(0,h.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,h.newUrlFromBase)(e,this.baseUrl,this.updater.isAddNoCacheQuery);try{const t=await this.httpRequest(n,{Accept:"application/vnd.api+json","Keygen-Version":"1.1"},r);return(0,d.parseUpdateInfo)(t,e,n)}catch(t){throw(0,o.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${t.stack||t.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(r){return(0,d.resolveFiles)(r,this.baseUrl)}toString(){const{account:r,product:e,platform:n}=this.configuration;return`Keygen (account: ${r}, product: ${e}, platform: ${n}, channel: ${this.channel})`}};return nr.KeygenProvider=f,nr}var ir={},Il;function Md(){if(Il)return ir;Il=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.PrivateGitHubProvider=void 0;const o=Me(),h=Lo(),d=Ce,f=Bt,c=It(),r=uc(),e=Ze();let n=class extends r.BaseGitHubProvider{constructor(s,i,u,a){super(s,"api.github.com",a),this.updater=i,this.token=u}createRequestOptions(s,i){const u=super.createRequestOptions(s,i);return u.redirect="manual",u}async getLatestVersion(){const s=new o.CancellationToken,i=(0,c.getChannelFilename)(this.getDefaultChannelName()),u=await this.getLatestVersionInfo(s),a=u.assets.find(v=>v.name===i);if(a==null)throw(0,o.newError)(`Cannot find ${i} in the release ${u.html_url||u.name}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const m=new f.URL(a.url);let g;try{g=(0,h.load)(await this.httpRequest(m,this.configureHeaders("application/octet-stream"),s))}catch(v){throw v instanceof o.HttpError&&v.statusCode===404?(0,o.newError)(`Cannot find ${i} in the latest release artifacts (${m}): ${v.stack||v.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):v}return g.assets=u.assets,g}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(s){return{accept:s,authorization:`token ${this.token}`}}async getLatestVersionInfo(s){const i=this.updater.allowPrerelease;let u=this.basePath;i||(u=`${u}/latest`);const a=(0,c.newUrlFromBase)(u,this.baseUrl);try{const m=JSON.parse(await this.httpRequest(a,this.configureHeaders("application/vnd.github.v3+json"),s));return i?m.find(g=>g.prerelease)||m[0]:m}catch(m){throw(0,o.newError)(`Unable to find latest version on GitHub (${a}), please ensure a production release exists: ${m.stack||m.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath(`/repos/${this.options.owner}/${this.options.repo}/releases`)}resolveFiles(s){return(0,e.getFileList)(s).map(i=>{const u=d.posix.basename(i.url).replace(/ /g,"-"),a=s.assets.find(m=>m!=null&&m.name===u);if(a==null)throw(0,o.newError)(`Cannot find asset "${u}" in: ${JSON.stringify(s.assets,null,2)}`,"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new f.URL(a.url),info:i}})}};return ir.PrivateGitHubProvider=n,ir}var Nl;function Bd(){if(Nl)return tr;Nl=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.isUrlProbablySupportMultiRangeRequests=e,tr.createClient=n;const o=Me(),h=qd(),d=lc(),f=uc(),c=kd(),r=Md();function e(t){return!t.includes("s3.amazonaws.com")}function n(t,s,i){if(typeof t=="string")throw(0,o.newError)("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");const u=t.provider;switch(u){case"github":{const a=t,m=(a.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||a.token;return m==null?new f.GitHubProvider(a,s,i):new r.PrivateGitHubProvider(a,s,m,i)}case"bitbucket":return new h.BitbucketProvider(t,s,i);case"keygen":return new c.KeygenProvider(t,s,i);case"s3":case"spaces":return new d.GenericProvider({provider:"generic",url:(0,o.getS3LikeProviderBaseUrl)(t),channel:t.channel||null},s,{...i,isUseMultipleRangeRequest:!1});case"generic":{const a=t;return new d.GenericProvider(a,s,{...i,isUseMultipleRangeRequest:a.useMultipleRangeRequest!==!1&&e(a.url)})}case"custom":{const a=t,m=a.updateProvider;if(!m)throw(0,o.newError)("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new m(a,s,i)}default:throw(0,o.newError)(`Unsupported provider: ${u}`,"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}return tr}var or={},ar={},qt={},kt={},Fl;function jo(){if(Fl)return kt;Fl=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.OperationKind=void 0,kt.computeOperations=h;var o;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(o||(kt.OperationKind=o={}));function h(e,n,t){const s=r(e.files),i=r(n.files);let u=null;const a=n.files[0],m=[],g=a.name,v=s.get(g);if(v==null)throw new Error(`no file ${g} in old blockmap`);const p=i.get(g);let _=0;const{checksumToOffset:T,checksumToOldSize:O}=c(s.get(g),v.offset,t);let P=a.offset;for(let U=0;U<p.checksums.length;P+=p.sizes[U],U++){const R=p.sizes[U],S=p.checksums[U];let b=T.get(S);b!=null&&O.get(S)!==R&&(t.warn(`Checksum ("${S}") matches, but size differs (old: ${O.get(S)}, new: ${R})`),b=void 0),b===void 0?(_++,u!=null&&u.kind===o.DOWNLOAD&&u.end===P?u.end+=R:(u={kind:o.DOWNLOAD,start:P,end:P+R},f(u,m,S,U))):u!=null&&u.kind===o.COPY&&u.end===b?u.end+=R:(u={kind:o.COPY,start:b,end:b+R},f(u,m,S,U))}return _>0&&t.info(`File${a.name==="file"?"":" "+a.name} has ${_} changed blocks`),m}const d=process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES==="true";function f(e,n,t,s){if(d&&n.length!==0){const i=n[n.length-1];if(i.kind===e.kind&&e.start<i.end&&e.start>i.start){const u=[i.start,i.end,e.start,e.end].reduce((a,m)=>a<m?a:m);throw new Error(`operation (block index: ${s}, checksum: ${t}, kind: ${o[e.kind]}) overlaps previous operation (checksum: ${t}):
abs: ${i.start} until ${i.end} and ${e.start} until ${e.end}
rel: ${i.start-u} until ${i.end-u} and ${e.start-u} until ${e.end-u}`)}}n.push(e)}function c(e,n,t){const s=new Map,i=new Map;let u=n;for(let a=0;a<e.checksums.length;a++){const m=e.checksums[a],g=e.sizes[a],v=i.get(m);if(v===void 0)s.set(m,u),i.set(m,g);else if(t.debug!=null){const p=v===g?"(same size)":`(size: ${v}, this size: ${g})`;t.debug(`${m} duplicated in blockmap ${p}, it doesn't lead to broken differential downloader, just corresponding block will be skipped)`)}u+=g}return{checksumToOffset:s,checksumToOldSize:i}}function r(e){const n=new Map;for(const t of e)n.set(t.name,t);return n}return kt}var xl;function cc(){if(xl)return qt;xl=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.DataSplitter=void 0,qt.copyData=e;const o=Me(),h=Xe,d=yr,f=jo(),c=Buffer.from(`\r
\r
`);var r;(function(t){t[t.INIT=0]="INIT",t[t.HEADER=1]="HEADER",t[t.BODY=2]="BODY"})(r||(r={}));function e(t,s,i,u,a){const m=(0,h.createReadStream)("",{fd:i,autoClose:!1,start:t.start,end:t.end-1});m.on("error",u),m.once("end",a),m.pipe(s,{end:!1})}let n=class extends d.Writable{constructor(s,i,u,a,m,g){super(),this.out=s,this.options=i,this.partIndexToTaskIndex=u,this.partIndexToLength=m,this.finishHandler=g,this.partIndex=-1,this.headerListBuffer=null,this.readState=r.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=a.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(s,i,u){if(this.isFinished){console.error(`Trailing ignored data: ${s.length} bytes`);return}this.handleData(s).then(u).catch(u)}async handleData(s){let i=0;if(this.ignoreByteCount!==0&&this.remainingPartDataCount!==0)throw(0,o.newError)("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){const u=Math.min(this.ignoreByteCount,s.length);this.ignoreByteCount-=u,i=u}else if(this.remainingPartDataCount>0){const u=Math.min(this.remainingPartDataCount,s.length);this.remainingPartDataCount-=u,await this.processPartData(s,0,u),i=u}if(i!==s.length){if(this.readState===r.HEADER){const u=this.searchHeaderListEnd(s,i);if(u===-1)return;i=u,this.readState=r.BODY,this.headerListBuffer=null}for(;;){if(this.readState===r.BODY)this.readState=r.INIT;else{this.partIndex++;let g=this.partIndexToTaskIndex.get(this.partIndex);if(g==null)if(this.isFinished)g=this.options.end;else throw(0,o.newError)("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");const v=this.partIndex===0?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(v<g)await this.copyExistingData(v,g);else if(v>g)throw(0,o.newError)("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished){this.onPartEnd(),this.finishHandler();return}if(i=this.searchHeaderListEnd(s,i),i===-1){this.readState=r.HEADER;return}}const u=this.partIndexToLength[this.partIndex],a=i+u,m=Math.min(a,s.length);if(await this.processPartStarted(s,i,m),this.remainingPartDataCount=u-(m-i),this.remainingPartDataCount>0)return;if(i=a+this.boundaryLength,i>=s.length){this.ignoreByteCount=this.boundaryLength-(s.length-a);return}}}}copyExistingData(s,i){return new Promise((u,a)=>{const m=()=>{if(s===i){u();return}const g=this.options.tasks[s];if(g.kind!==f.OperationKind.COPY){a(new Error("Task kind must be COPY"));return}e(g,this.out,this.options.oldFileFd,a,()=>{s++,m()})};m()})}searchHeaderListEnd(s,i){const u=s.indexOf(c,i);if(u!==-1)return u+c.length;const a=i===0?s:s.slice(i);return this.headerListBuffer==null?this.headerListBuffer=a:this.headerListBuffer=Buffer.concat([this.headerListBuffer,a]),-1}onPartEnd(){const s=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==s)throw(0,o.newError)(`Expected length: ${s} differs from actual: ${this.actualPartLength}`,"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(s,i,u){return this.partIndex!==0&&this.onPartEnd(),this.processPartData(s,i,u)}processPartData(s,i,u){this.actualPartLength+=u-i;const a=this.out;return a.write(i===0&&s.length===u?s:s.slice(i,u))?Promise.resolve():new Promise((m,g)=>{a.on("error",g),a.once("drain",()=>{a.removeListener("error",g),m()})})}};return qt.DataSplitter=n,qt}var sr={},Ll;function jd(){if(Ll)return sr;Ll=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.executeTasksUsingMultipleRangeRequests=f,sr.checkIsRangesSupported=r;const o=Me(),h=cc(),d=jo();function f(e,n,t,s,i){const u=a=>{if(a>=n.length){e.fileMetadataBuffer!=null&&t.write(e.fileMetadataBuffer),t.end();return}const m=a+1e3;c(e,{tasks:n,start:a,end:Math.min(n.length,m),oldFileFd:s},t,()=>u(m),i)};return u}function c(e,n,t,s,i){let u="bytes=",a=0;const m=new Map,g=[];for(let _=n.start;_<n.end;_++){const T=n.tasks[_];T.kind===d.OperationKind.DOWNLOAD&&(u+=`${T.start}-${T.end-1}, `,m.set(a,_),a++,g.push(T.end-T.start))}if(a<=1){const _=T=>{if(T>=n.end){s();return}const O=n.tasks[T++];if(O.kind===d.OperationKind.COPY)(0,h.copyData)(O,t,n.oldFileFd,i,()=>_(T));else{const P=e.createRequestOptions();P.headers.Range=`bytes=${O.start}-${O.end-1}`;const U=e.httpExecutor.createRequest(P,R=>{r(R,i)&&(R.pipe(t,{end:!1}),R.once("end",()=>_(T)))});e.httpExecutor.addErrorAndTimeoutHandlers(U,i),U.end()}};_(n.start);return}const v=e.createRequestOptions();v.headers.Range=u.substring(0,u.length-2);const p=e.httpExecutor.createRequest(v,_=>{if(!r(_,i))return;const T=(0,o.safeGetHeader)(_,"content-type"),O=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(T);if(O==null){i(new Error(`Content-Type "multipart/byteranges" is expected, but got "${T}"`));return}const P=new h.DataSplitter(t,n,m,O[1]||O[2],g,s);P.on("error",i),_.pipe(P),_.on("end",()=>{setTimeout(()=>{p.abort(),i(new Error("Response ends without calling any handlers"))},1e4)})});e.httpExecutor.addErrorAndTimeoutHandlers(p,i),p.end()}function r(e,n){if(e.statusCode>=400)return n((0,o.createHttpError)(e)),!1;if(e.statusCode!==206){const t=(0,o.safeGetHeader)(e,"accept-ranges");if(t==null||t==="none")return n(new Error(`Server doesn't support Accept-Ranges (response code ${e.statusCode})`)),!1}return!0}return sr}var lr={},$l;function Hd(){if($l)return lr;$l=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.ProgressDifferentialDownloadCallbackTransform=void 0;const o=yr;var h;(function(f){f[f.COPY=0]="COPY",f[f.DOWNLOAD=1]="DOWNLOAD"})(h||(h={}));let d=class extends o.Transform{constructor(c,r,e){super(),this.progressDifferentialDownloadInfo=c,this.cancellationToken=r,this.onProgress=e,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=h.COPY,this.nextUpdate=this.start+1e3}_transform(c,r,e){if(this.cancellationToken.cancelled){e(new Error("cancelled"),null);return}if(this.operationType==h.COPY){e(null,c);return}this.transferred+=c.length,this.delta+=c.length;const n=Date.now();n>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=n+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((n-this.start)/1e3))}),this.delta=0),e(null,c)}beginFileCopy(){this.operationType=h.COPY}beginRangeDownload(){this.operationType=h.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(c){if(this.cancellationToken.cancelled){c(new Error("cancelled"));return}this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,c(null)}};return lr.ProgressDifferentialDownloadCallbackTransform=d,lr}var Ul;function fc(){if(Ul)return ar;Ul=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.DifferentialDownloader=void 0;const o=Me(),h=yt(),d=Xe,f=cc(),c=Bt,r=jo(),e=jd(),n=Hd();let t=class{constructor(a,m,g){this.blockAwareFileInfo=a,this.httpExecutor=m,this.options=g,this.fileMetadataBuffer=null,this.logger=g.logger}createRequestOptions(){const a={headers:{...this.options.requestHeaders,accept:"*/*"}};return(0,o.configureRequestUrl)(this.options.newUrl,a),(0,o.configureRequestOptions)(a),a}doDownload(a,m){if(a.version!==m.version)throw new Error(`version is different (${a.version} - ${m.version}), full download is required`);const g=this.logger,v=(0,r.computeOperations)(a,m,g);g.debug!=null&&g.debug(JSON.stringify(v,null,2));let p=0,_=0;for(const O of v){const P=O.end-O.start;O.kind===r.OperationKind.DOWNLOAD?p+=P:_+=P}const T=this.blockAwareFileInfo.size;if(p+_+(this.fileMetadataBuffer==null?0:this.fileMetadataBuffer.length)!==T)throw new Error(`Internal error, size mismatch: downloadSize: ${p}, copySize: ${_}, newSize: ${T}`);return g.info(`Full: ${s(T)}, To download: ${s(p)} (${Math.round(p/(T/100))}%)`),this.downloadFile(v)}downloadFile(a){const m=[],g=()=>Promise.all(m.map(v=>(0,h.close)(v.descriptor).catch(p=>{this.logger.error(`cannot close file "${v.path}": ${p}`)})));return this.doDownloadFile(a,m).then(g).catch(v=>g().catch(p=>{try{this.logger.error(`cannot close files: ${p}`)}catch(_){try{console.error(_)}catch{}}throw v}).then(()=>{throw v}))}async doDownloadFile(a,m){const g=await(0,h.open)(this.options.oldFile,"r");m.push({descriptor:g,path:this.options.oldFile});const v=await(0,h.open)(this.options.newFile,"w");m.push({descriptor:v,path:this.options.newFile});const p=(0,d.createWriteStream)(this.options.newFile,{fd:v});await new Promise((_,T)=>{const O=[];let P;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){const L=[];let k=0;for(const D of a)D.kind===r.OperationKind.DOWNLOAD&&(L.push(D.end-D.start),k+=D.end-D.start);const N={expectedByteCounts:L,grandTotal:k};P=new n.ProgressDifferentialDownloadCallbackTransform(N,this.options.cancellationToken,this.options.onProgress),O.push(P)}const U=new o.DigestTransform(this.blockAwareFileInfo.sha512);U.isValidateOnEnd=!1,O.push(U),p.on("finish",()=>{p.close(()=>{m.splice(1,1);try{U.validate()}catch(L){T(L);return}_(void 0)})}),O.push(p);let R=null;for(const L of O)L.on("error",T),R==null?R=L:R=R.pipe(L);const S=O[0];let b;if(this.options.isUseMultipleRangeRequest){b=(0,e.executeTasksUsingMultipleRangeRequests)(this,a,S,g,T),b(0);return}let E=0,M=null;this.logger.info(`Differential download: ${this.options.newUrl}`);const $=this.createRequestOptions();$.redirect="manual",b=L=>{var k,N;if(L>=a.length){this.fileMetadataBuffer!=null&&S.write(this.fileMetadataBuffer),S.end();return}const D=a[L++];if(D.kind===r.OperationKind.COPY){P&&P.beginFileCopy(),(0,f.copyData)(D,S,g,T,()=>b(L));return}const F=`bytes=${D.start}-${D.end-1}`;$.headers.range=F,(N=(k=this.logger)===null||k===void 0?void 0:k.debug)===null||N===void 0||N.call(k,`download range: ${F}`),P&&P.beginRangeDownload();const q=this.httpExecutor.createRequest($,K=>{K.on("error",T),K.on("aborted",()=>{T(new Error("response has been aborted by the server"))}),K.statusCode>=400&&T((0,o.createHttpError)(K)),K.pipe(S,{end:!1}),K.once("end",()=>{P&&P.endRangeDownload(),++E===100?(E=0,setTimeout(()=>b(L),1e3)):b(L)})});q.on("redirect",(K,W,ne)=>{this.logger.info(`Redirect to ${i(ne)}`),M=ne,(0,o.configureRequestUrl)(new c.URL(M),$),q.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(q,T),q.end()},b(0)})}async readRemoteBytes(a,m){const g=Buffer.allocUnsafe(m+1-a),v=this.createRequestOptions();v.headers.range=`bytes=${a}-${m}`;let p=0;if(await this.request(v,_=>{_.copy(g,p),p+=_.length}),p!==g.length)throw new Error(`Received data length ${p} is not equal to expected ${g.length}`);return g}request(a,m){return new Promise((g,v)=>{const p=this.httpExecutor.createRequest(a,_=>{(0,e.checkIsRangesSupported)(_,v)&&(_.on("error",v),_.on("aborted",()=>{v(new Error("response has been aborted by the server"))}),_.on("data",m),_.on("end",()=>g()))});this.httpExecutor.addErrorAndTimeoutHandlers(p,v),p.end()})}};ar.DifferentialDownloader=t;function s(u,a=" KB"){return new Intl.NumberFormat("en").format((u/1024).toFixed(2))+a}function i(u){const a=u.indexOf("?");return a<0?u:u.substring(0,a)}return ar}var ql;function Gd(){if(ql)return or;ql=1,Object.defineProperty(or,"__esModule",{value:!0}),or.GenericDifferentialDownloader=void 0;const o=fc();let h=class extends o.DifferentialDownloader{download(f,c){return this.doDownload(f,c)}};return or.GenericDifferentialDownloader=h,or}var eo={},kl;function Nt(){return kl||(kl=1,function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.UpdaterSignal=o.UPDATE_DOWNLOADED=o.DOWNLOAD_PROGRESS=o.CancellationToken=void 0,o.addHandler=f;const h=Me();Object.defineProperty(o,"CancellationToken",{enumerable:!0,get:function(){return h.CancellationToken}}),o.DOWNLOAD_PROGRESS="download-progress",o.UPDATE_DOWNLOADED="update-downloaded";class d{constructor(r){this.emitter=r}login(r){f(this.emitter,"login",r)}progress(r){f(this.emitter,o.DOWNLOAD_PROGRESS,r)}updateDownloaded(r){f(this.emitter,o.UPDATE_DOWNLOADED,r)}updateCancelled(r){f(this.emitter,"update-cancelled",r)}}o.UpdaterSignal=d;function f(c,r,e){c.on(r,e)}}(eo)),eo}var Ml;function Ho(){if(Ml)return Tt;Ml=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.NoOpLogger=Tt.AppUpdater=void 0;const o=Me(),h=wr,d=vt,f=Gr,c=yt(),r=Lo(),e=sd(),n=Ce,t=sc(),s=Fd(),i=Ld(),u=$d(),a=lc(),m=Bd(),g=Lu,v=It(),p=Gd(),_=Nt();let T=class dc extends f.EventEmitter{get channel(){return this._channel}set channel(R){if(this._channel!=null){if(typeof R!="string")throw(0,o.newError)(`Channel must be a string, but got: ${R}`,"ERR_UPDATER_INVALID_CHANNEL");if(R.length===0)throw(0,o.newError)("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=R,this.allowDowngrade=!0}addAuthHeader(R){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:R})}get netSession(){return(0,u.getNetSession)()}get logger(){return this._logger}set logger(R){this._logger=R??new P}set updateConfigPath(R){this.clientPromise=null,this._appUpdateConfigPath=R,this.configOnDisk=new e.Lazy(()=>this.loadUpdateConfig())}get isUpdateSupported(){return this._isUpdateSupported}set isUpdateSupported(R){R&&(this._isUpdateSupported=R)}constructor(R,S){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.autoRunAppAfterInstall=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this.disableWebInstaller=!1,this.disableDifferentialDownload=!1,this.forceDevUpdateConfig=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new _.UpdaterSignal(this),this._appUpdateConfigPath=null,this._isUpdateSupported=M=>this.checkIfUpdateSupported(M),this.clientPromise=null,this.stagingUserIdPromise=new e.Lazy(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new e.Lazy(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.downloadPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",M=>{this._logger.error(`Error: ${M.stack||M.message}`)}),S==null?(this.app=new i.ElectronAppAdapter,this.httpExecutor=new u.ElectronHttpExecutor((M,$)=>this.emit("login",M,$))):(this.app=S,this.httpExecutor=null);const b=this.app.version,E=(0,t.parse)(b);if(E==null)throw(0,o.newError)(`App version is not a valid semver version: "${b}"`,"ERR_UPDATER_INVALID_VERSION");this.currentVersion=E,this.allowPrerelease=O(E),R!=null&&(this.setFeedURL(R),typeof R!="string"&&R.requestHeaders&&(this.requestHeaders=R.requestHeaders))}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(R){const S=this.createProviderRuntimeOptions();let b;typeof R=="string"?b=new a.GenericProvider({provider:"generic",url:R},this,{...S,isUseMultipleRangeRequest:(0,m.isUrlProbablySupportMultiRangeRequests)(R)}):b=(0,m.createClient)(R,this,S),this.clientPromise=Promise.resolve(b)}checkForUpdates(){if(!this.isUpdaterActive())return Promise.resolve(null);let R=this.checkForUpdatesPromise;if(R!=null)return this._logger.info("Checking for update (already in progress)"),R;const S=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),R=this.doCheckForUpdates().then(b=>(S(),b)).catch(b=>{throw S(),this.emit("error",b,`Cannot check for updates: ${(b.stack||b).toString()}`),b}),this.checkForUpdatesPromise=R,R}isUpdaterActive(){return this.app.isPackaged||this.forceDevUpdateConfig?!0:(this._logger.info("Skip checkForUpdates because application is not packed and dev update config is not forced"),!1)}checkForUpdatesAndNotify(R){return this.checkForUpdates().then(S=>S!=null&&S.downloadPromise?(S.downloadPromise.then(()=>{const b=dc.formatDownloadNotification(S.updateInfo.version,this.app.name,R);new Fe.Notification(b).show()}),S):(this._logger.debug!=null&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),S))}static formatDownloadNotification(R,S,b){return b==null&&(b={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),b={title:b.title.replace("{appName}",S).replace("{version}",R),body:b.body.replace("{appName}",S).replace("{version}",R)},b}async isStagingMatch(R){const S=R.stagingPercentage;let b=S;if(b==null)return!0;if(b=parseInt(b,10),isNaN(b))return this._logger.warn(`Staging percentage is NaN: ${S}`),!0;b=b/100;const E=await this.stagingUserIdPromise.value,$=o.UUID.parse(E).readUInt32BE(12)/4294967295;return this._logger.info(`Staging percentage: ${b}, percentage: ${$}, user id: ${E}`),$<b}computeFinalHeaders(R){return this.requestHeaders!=null&&Object.assign(R,this.requestHeaders),R}async isUpdateAvailable(R){const S=(0,t.parse)(R.version);if(S==null)throw(0,o.newError)(`This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "${R.version}"`,"ERR_UPDATER_INVALID_VERSION");const b=this.currentVersion;if((0,t.eq)(S,b)||!await Promise.resolve(this.isUpdateSupported(R))||!await this.isStagingMatch(R))return!1;const M=(0,t.gt)(S,b),$=(0,t.lt)(S,b);return M?!0:this.allowDowngrade&&$}checkIfUpdateSupported(R){const S=R==null?void 0:R.minimumSystemVersion,b=(0,d.release)();if(S)try{if((0,t.lt)(b,S))return this._logger.info(`Current OS version ${b} is less than the minimum OS version required ${S} for version ${b}`),!1}catch(E){this._logger.warn(`Failed to compare current OS version(${b}) with minimum OS version(${S}): ${(E.message||E).toString()}`)}return!0}async getUpdateInfoAndProvider(){await this.app.whenReady(),this.clientPromise==null&&(this.clientPromise=this.configOnDisk.value.then(b=>(0,m.createClient)(b,this,this.createProviderRuntimeOptions())));const R=await this.clientPromise,S=await this.stagingUserIdPromise.value;return R.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":S})),{info:await R.getLatestVersion(),provider:R}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:this._testOnlyOptions==null?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");const R=await this.getUpdateInfoAndProvider(),S=R.info;if(!await this.isUpdateAvailable(S))return this._logger.info(`Update for version ${this.currentVersion.format()} is not available (latest version: ${S.version}, downgrade is ${this.allowDowngrade?"allowed":"disallowed"}).`),this.emit("update-not-available",S),{isUpdateAvailable:!1,versionInfo:S,updateInfo:S};this.updateInfoAndProvider=R,this.onUpdateAvailable(S);const b=new o.CancellationToken;return{isUpdateAvailable:!0,versionInfo:S,updateInfo:S,cancellationToken:b,downloadPromise:this.autoDownload?this.downloadUpdate(b):null}}onUpdateAvailable(R){this._logger.info(`Found version ${R.version} (url: ${(0,o.asArray)(R.files).map(S=>S.url).join(", ")})`),this.emit("update-available",R)}downloadUpdate(R=new o.CancellationToken){const S=this.updateInfoAndProvider;if(S==null){const E=new Error("Please check update first");return this.dispatchError(E),Promise.reject(E)}if(this.downloadPromise!=null)return this._logger.info("Downloading update (already in progress)"),this.downloadPromise;this._logger.info(`Downloading update from ${(0,o.asArray)(S.info.files).map(E=>E.url).join(", ")}`);const b=E=>{if(!(E instanceof o.CancellationError))try{this.dispatchError(E)}catch(M){this._logger.warn(`Cannot dispatch error event: ${M.stack||M}`)}return E};return this.downloadPromise=this.doDownloadUpdate({updateInfoAndProvider:S,requestHeaders:this.computeRequestHeaders(S.provider),cancellationToken:R,disableWebInstaller:this.disableWebInstaller,disableDifferentialDownload:this.disableDifferentialDownload}).catch(E=>{throw b(E)}).finally(()=>{this.downloadPromise=null}),this.downloadPromise}dispatchError(R){this.emit("error",R,(R.stack||R).toString())}dispatchUpdateDownloaded(R){this.emit(_.UPDATE_DOWNLOADED,R)}async loadUpdateConfig(){return this._appUpdateConfigPath==null&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),(0,r.load)(await(0,c.readFile)(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(R){const S=R.fileExtraDownloadHeaders;if(S!=null){const b=this.requestHeaders;return b==null?S:{...S,...b}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){const R=n.join(this.app.userDataPath,".updaterId");try{const b=await(0,c.readFile)(R,"utf-8");if(o.UUID.check(b))return b;this._logger.warn(`Staging user id file exists, but content was invalid: ${b}`)}catch(b){b.code!=="ENOENT"&&this._logger.warn(`Couldn't read staging user ID, creating a blank one: ${b}`)}const S=o.UUID.v5((0,h.randomBytes)(4096),o.UUID.OID);this._logger.info(`Generated new staging user ID: ${S}`);try{await(0,c.outputFile)(R,S)}catch(b){this._logger.warn(`Couldn't write out staging user ID: ${b}`)}return S}get isAddNoCacheQuery(){const R=this.requestHeaders;if(R==null)return!0;for(const S of Object.keys(R)){const b=S.toLowerCase();if(b==="authorization"||b==="private-token")return!1}return!0}async getOrCreateDownloadHelper(){let R=this.downloadedUpdateHelper;if(R==null){const S=(await this.configOnDisk.value).updaterCacheDirName,b=this._logger;S==null&&b.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");const E=n.join(this.app.baseCachePath,S||this.app.name);b.debug!=null&&b.debug(`updater cache dir: ${E}`),R=new s.DownloadedUpdateHelper(E),this.downloadedUpdateHelper=R}return R}async executeDownload(R){const S=R.fileInfo,b={headers:R.downloadUpdateOptions.requestHeaders,cancellationToken:R.downloadUpdateOptions.cancellationToken,sha2:S.info.sha2,sha512:S.info.sha512};this.listenerCount(_.DOWNLOAD_PROGRESS)>0&&(b.onProgress=ie=>this.emit(_.DOWNLOAD_PROGRESS,ie));const E=R.downloadUpdateOptions.updateInfoAndProvider.info,M=E.version,$=S.packageInfo;function L(){const ie=decodeURIComponent(R.fileInfo.url.pathname);return ie.endsWith(`.${R.fileExtension}`)?n.basename(ie):R.fileInfo.info.url}const k=await this.getOrCreateDownloadHelper(),N=k.cacheDirForPendingUpdate;await(0,c.mkdir)(N,{recursive:!0});const D=L();let F=n.join(N,D);const q=$==null?null:n.join(N,`package-${M}${n.extname($.path)||".7z"}`),K=async ie=>(await k.setDownloadedFile(F,q,E,S,D,ie),await R.done({...E,downloadedFile:F}),q==null?[F]:[F,q]),W=this._logger,ne=await k.validateDownloadedPath(F,E,S,W);if(ne!=null)return F=ne,await K(!1);const ce=async()=>(await k.clear().catch(()=>{}),await(0,c.unlink)(F).catch(()=>{})),ue=await(0,s.createTempUpdateFile)(`temp-${D}`,N,W);try{await R.task(ue,b,q,ce),await(0,o.retry)(()=>(0,c.rename)(ue,F),60,500,0,0,ie=>ie instanceof Error&&/^EBUSY:/.test(ie.message))}catch(ie){throw await ce(),ie instanceof o.CancellationError&&(W.info("cancelled"),this.emit("update-cancelled",E)),ie}return W.info(`New version ${M} has been downloaded to ${F}`),await K(!0)}async differentialDownloadInstaller(R,S,b,E,M){try{if(this._testOnlyOptions!=null&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;const $=(0,v.blockmapFiles)(R.url,this.app.version,S.updateInfoAndProvider.info.version);this._logger.info(`Download block maps (old: "${$[0]}", new: ${$[1]})`);const L=async D=>{const F=await this.httpExecutor.downloadToBuffer(D,{headers:S.requestHeaders,cancellationToken:S.cancellationToken});if(F==null||F.length===0)throw new Error(`Blockmap "${D.href}" is empty`);try{return JSON.parse((0,g.gunzipSync)(F).toString())}catch(q){throw new Error(`Cannot parse blockmap "${D.href}", error: ${q}`)}},k={newUrl:R.url,oldFile:n.join(this.downloadedUpdateHelper.cacheDir,M),logger:this._logger,newFile:b,isUseMultipleRangeRequest:E.isUseMultipleRangeRequest,requestHeaders:S.requestHeaders,cancellationToken:S.cancellationToken};this.listenerCount(_.DOWNLOAD_PROGRESS)>0&&(k.onProgress=D=>this.emit(_.DOWNLOAD_PROGRESS,D));const N=await Promise.all($.map(D=>L(D)));return await new p.GenericDifferentialDownloader(R.info,this.httpExecutor,k).download(N[0],N[1]),!1}catch($){if(this._logger.error(`Cannot download differentially, fallback to full download: ${$.stack||$}`),this._testOnlyOptions!=null)throw $;return!0}}};Tt.AppUpdater=T;function O(U){const R=(0,t.prerelease)(U);return R!=null&&R.length>0}class P{info(R){}warn(R){}error(R){}}return Tt.NoOpLogger=P,Tt}var Bl;function Wt(){if(Bl)return Yt;Bl=1,Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.BaseUpdater=void 0;const o=Er,h=Ho();let d=class extends h.AppUpdater{constructor(c,r){super(c,r),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(c=!1,r=!1){this._logger.info("Install on explicit quitAndInstall"),this.install(c,c?r:this.autoRunAppAfterInstall)?setImmediate(()=>{Fe.autoUpdater.emit("before-quit-for-update"),this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(c){return super.executeDownload({...c,done:r=>(this.dispatchUpdateDownloaded(r),this.addQuitHandler(),Promise.resolve())})}get installerPath(){return this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.file}install(c=!1,r=!1){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;const e=this.downloadedUpdateHelper,n=this.installerPath,t=e==null?null:e.downloadedFileInfo;if(n==null||t==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info(`Install: isSilent: ${c}, isForceRunAfter: ${r}`),this.doInstall({isSilent:c,isForceRunAfter:r,isAdminRightsRequired:t.isAdminRightsRequired})}catch(s){return this.dispatchError(s),!1}}addQuitHandler(){this.quitHandlerAdded||!this.autoInstallOnAppQuit||(this.quitHandlerAdded=!0,this.app.onQuit(c=>{if(this.quitAndInstallCalled){this._logger.info("Update installer has already been triggered. Quitting application.");return}if(!this.autoInstallOnAppQuit){this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.");return}if(c!==0){this._logger.info(`Update will be not installed on quit because application is quitting with exit code ${c}`);return}this._logger.info("Auto install update on quit"),this.install(!0,!1)}))}wrapSudo(){const{name:c}=this.app,r=`"${c} would like to update"`,e=this.spawnSyncLog("which gksudo || which kdesudo || which pkexec || which beesu"),n=[e];return/kdesudo/i.test(e)?(n.push("--comment",r),n.push("-c")):/gksudo/i.test(e)?n.push("--message",r):/pkexec/i.test(e)&&n.push("--disable-internal-agent"),n.join(" ")}spawnSyncLog(c,r=[],e={}){this._logger.info(`Executing: ${c} with args: ${r}`);const n=(0,o.spawnSync)(c,r,{env:{...process.env,...e},encoding:"utf-8",shell:!0}),{error:t,status:s,stdout:i,stderr:u}=n;if(t!=null)throw this._logger.error(u),t;if(s!=null&&s!==0)throw this._logger.error(u),new Error(`Command ${c} exited with code ${s}`);return i.trim()}async spawnLog(c,r=[],e=void 0,n="ignore"){return this._logger.info(`Executing: ${c} with args: ${r}`),new Promise((t,s)=>{try{const i={stdio:n,env:e,detached:!0},u=(0,o.spawn)(c,r,i);u.on("error",a=>{s(a)}),u.unref(),u.pid!==void 0&&t(!0)}catch(i){s(i)}})}};return Yt.BaseUpdater=d,Yt}var ur={},cr={},jl;function hc(){if(jl)return cr;jl=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;const o=yt(),h=fc(),d=Lu;let f=class extends h.DifferentialDownloader{async download(){const n=this.blockAwareFileInfo,t=n.size,s=t-(n.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(s,t-1);const i=c(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await r(this.options.oldFile),i)}};cr.FileWithEmbeddedBlockMapDifferentialDownloader=f;function c(e){return JSON.parse((0,d.inflateRawSync)(e).toString())}async function r(e){const n=await(0,o.open)(e,"r");try{const t=(await(0,o.fstat)(n)).size,s=Buffer.allocUnsafe(4);await(0,o.read)(n,s,0,s.length,t-s.length);const i=Buffer.allocUnsafe(s.readUInt32BE(0));return await(0,o.read)(n,i,0,i.length,t-s.length-i.length),await(0,o.close)(n),c(i)}catch(t){throw await(0,o.close)(n),t}}return cr}var Hl;function Gl(){if(Hl)return ur;Hl=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.AppImageUpdater=void 0;const o=Me(),h=Er,d=yt(),f=Xe,c=Ce,r=Wt(),e=hc(),n=Ze(),t=Nt();let s=class extends r.BaseUpdater{constructor(u,a){super(u,a)}isUpdaterActive(){return process.env.APPIMAGE==null?(process.env.SNAP==null?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(u){const a=u.updateInfoAndProvider.provider,m=(0,n.findFile)(a.resolveFiles(u.updateInfoAndProvider.info),"AppImage",["rpm","deb","pacman"]);return this.executeDownload({fileExtension:"AppImage",fileInfo:m,downloadUpdateOptions:u,task:async(g,v)=>{const p=process.env.APPIMAGE;if(p==null)throw(0,o.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(u.disableDifferentialDownload||await this.downloadDifferential(m,p,g,a,u))&&await this.httpExecutor.download(m.url,g,v),await(0,d.chmod)(g,493)}})}async downloadDifferential(u,a,m,g,v){try{const p={newUrl:u.url,oldFile:a,logger:this._logger,newFile:m,isUseMultipleRangeRequest:g.isUseMultipleRangeRequest,requestHeaders:v.requestHeaders,cancellationToken:v.cancellationToken};return this.listenerCount(t.DOWNLOAD_PROGRESS)>0&&(p.onProgress=_=>this.emit(t.DOWNLOAD_PROGRESS,_)),await new e.FileWithEmbeddedBlockMapDifferentialDownloader(u.info,this.httpExecutor,p).download(),!1}catch(p){return this._logger.error(`Cannot download differentially, fallback to full download: ${p.stack||p}`),process.platform==="linux"}}doInstall(u){const a=process.env.APPIMAGE;if(a==null)throw(0,o.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(0,f.unlinkSync)(a);let m;const g=c.basename(a),v=this.installerPath;if(v==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;c.basename(v)===g||!/\d+\.\d+\.\d+/.test(g)?m=a:m=c.join(c.dirname(a),c.basename(v)),(0,h.execFileSync)("mv",["-f",v,m]),m!==a&&this.emit("appimage-filename-updated",m);const p={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return u.isForceRunAfter?this.spawnLog(m,[],p):(p.APPIMAGE_EXIT_AFTER_INSTALL="true",(0,h.execFileSync)(m,[],{env:p})),!0}};return ur.AppImageUpdater=s,ur}var fr={},Wl;function Vl(){if(Wl)return fr;Wl=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.DebUpdater=void 0;const o=Wt(),h=Ze(),d=Nt();let f=class extends o.BaseUpdater{constructor(r,e){super(r,e)}doDownloadUpdate(r){const e=r.updateInfoAndProvider.provider,n=(0,h.findFile)(e.resolveFiles(r.updateInfoAndProvider.info),"deb",["AppImage","rpm","pacman"]);return this.executeDownload({fileExtension:"deb",fileInfo:n,downloadUpdateOptions:r,task:async(t,s)=>{this.listenerCount(d.DOWNLOAD_PROGRESS)>0&&(s.onProgress=i=>this.emit(d.DOWNLOAD_PROGRESS,i)),await this.httpExecutor.download(n.url,t,s)}})}get installerPath(){var r,e;return(e=(r=super.installerPath)===null||r===void 0?void 0:r.replace(/ /g,"\\ "))!==null&&e!==void 0?e:null}doInstall(r){const e=this.wrapSudo(),n=/pkexec/i.test(e)?"":'"',t=this.installerPath;if(t==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;const s=["dpkg","-i",t,"||","apt-get","install","-f","-y"];return this.spawnSyncLog(e,[`${n}/bin/bash`,"-c",`'${s.join(" ")}'${n}`]),r.isForceRunAfter&&this.app.relaunch(),!0}};return fr.DebUpdater=f,fr}var dr={},zl;function Yl(){if(zl)return dr;zl=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.PacmanUpdater=void 0;const o=Wt(),h=Nt(),d=Ze();let f=class extends o.BaseUpdater{constructor(r,e){super(r,e)}doDownloadUpdate(r){const e=r.updateInfoAndProvider.provider,n=(0,d.findFile)(e.resolveFiles(r.updateInfoAndProvider.info),"pacman",["AppImage","deb","rpm"]);return this.executeDownload({fileExtension:"pacman",fileInfo:n,downloadUpdateOptions:r,task:async(t,s)=>{this.listenerCount(h.DOWNLOAD_PROGRESS)>0&&(s.onProgress=i=>this.emit(h.DOWNLOAD_PROGRESS,i)),await this.httpExecutor.download(n.url,t,s)}})}get installerPath(){var r,e;return(e=(r=super.installerPath)===null||r===void 0?void 0:r.replace(/ /g,"\\ "))!==null&&e!==void 0?e:null}doInstall(r){const e=this.wrapSudo(),n=/pkexec/i.test(e)?"":'"',t=this.installerPath;if(t==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;const s=["pacman","-U","--noconfirm",t];return this.spawnSyncLog(e,[`${n}/bin/bash`,"-c",`'${s.join(" ")}'${n}`]),r.isForceRunAfter&&this.app.relaunch(),!0}};return dr.PacmanUpdater=f,dr}var hr={},Xl;function Jl(){if(Xl)return hr;Xl=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.RpmUpdater=void 0;const o=Wt(),h=Nt(),d=Ze();let f=class extends o.BaseUpdater{constructor(r,e){super(r,e)}doDownloadUpdate(r){const e=r.updateInfoAndProvider.provider,n=(0,d.findFile)(e.resolveFiles(r.updateInfoAndProvider.info),"rpm",["AppImage","deb","pacman"]);return this.executeDownload({fileExtension:"rpm",fileInfo:n,downloadUpdateOptions:r,task:async(t,s)=>{this.listenerCount(h.DOWNLOAD_PROGRESS)>0&&(s.onProgress=i=>this.emit(h.DOWNLOAD_PROGRESS,i)),await this.httpExecutor.download(n.url,t,s)}})}get installerPath(){var r,e;return(e=(r=super.installerPath)===null||r===void 0?void 0:r.replace(/ /g,"\\ "))!==null&&e!==void 0?e:null}doInstall(r){const e=this.wrapSudo(),n=/pkexec/i.test(e)?"":'"',t=this.spawnSyncLog("which zypper"),s=this.installerPath;if(s==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let i;return t?i=[t,"--no-refresh","install","--allow-unsigned-rpm","-y","-f",s]:i=[this.spawnSyncLog("which dnf || which yum"),"-y","install",s],this.spawnSyncLog(e,[`${n}/bin/bash`,"-c",`'${i.join(" ")}'${n}`]),r.isForceRunAfter&&this.app.relaunch(),!0}};return hr.RpmUpdater=f,hr}var pr={},Kl;function Ql(){if(Kl)return pr;Kl=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.MacUpdater=void 0;const o=Me(),h=yt(),d=Xe,f=Ce,c=$u,r=Ho(),e=Ze(),n=Er,t=wr;let s=class extends r.AppUpdater{constructor(u,a){super(u,a),this.nativeUpdater=Fe.autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",m=>{this._logger.warn(m),this.emit("error",m)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0,this.debug("nativeUpdater.update-downloaded")})}debug(u){this._logger.debug!=null&&this._logger.debug(u)}closeServerIfExists(){this.server&&(this.debug("Closing proxy server"),this.server.close(u=>{u&&this.debug("proxy server wasn't already open, probably attempted closing again as a safety check before quit")}))}async doDownloadUpdate(u){let a=u.updateInfoAndProvider.provider.resolveFiles(u.updateInfoAndProvider.info);const m=this._logger,g="sysctl.proc_translated";let v=!1;try{this.debug("Checking for macOS Rosetta environment"),v=(0,n.execFileSync)("sysctl",[g],{encoding:"utf8"}).includes(`${g}: 1`),m.info(`Checked for macOS Rosetta environment (isRosetta=${v})`)}catch(U){m.warn(`sysctl shell command to check for macOS Rosetta environment failed: ${U}`)}let p=!1;try{this.debug("Checking for arm64 in uname");const R=(0,n.execFileSync)("uname",["-a"],{encoding:"utf8"}).includes("ARM");m.info(`Checked 'uname -a': arm64=${R}`),p=p||R}catch(U){m.warn(`uname shell command to check for arm64 failed: ${U}`)}p=p||process.arch==="arm64"||v;const _=U=>{var R;return U.url.pathname.includes("arm64")||((R=U.info.url)===null||R===void 0?void 0:R.includes("arm64"))};p&&a.some(_)?a=a.filter(U=>p===_(U)):a=a.filter(U=>!_(U));const T=(0,e.findFile)(a,"zip",["pkg","dmg"]);if(T==null)throw(0,o.newError)(`ZIP file not provided: ${(0,o.safeStringifyJson)(a)}`,"ERR_UPDATER_ZIP_FILE_NOT_FOUND");const O=u.updateInfoAndProvider.provider,P="update.zip";return this.executeDownload({fileExtension:"zip",fileInfo:T,downloadUpdateOptions:u,task:async(U,R)=>{const S=f.join(this.downloadedUpdateHelper.cacheDir,P),b=()=>(0,h.pathExistsSync)(S)?!u.disableDifferentialDownload:(m.info("Unable to locate previous update.zip for differential download (is this first install?), falling back to full download"),!1);let E=!0;b()&&(E=await this.differentialDownloadInstaller(T,u,U,O,P)),E&&await this.httpExecutor.download(T.url,U,R)},done:async U=>{if(!u.disableDifferentialDownload)try{const R=f.join(this.downloadedUpdateHelper.cacheDir,P);await(0,h.copyFile)(U.downloadedFile,R)}catch(R){this._logger.warn(`Unable to copy file for caching for future differential downloads: ${R.message}`)}return this.updateDownloaded(T,U)}})}async updateDownloaded(u,a){var m;const g=a.downloadedFile,v=(m=u.info.size)!==null&&m!==void 0?m:(await(0,h.stat)(g)).size,p=this._logger,_=`fileToProxy=${u.url.href}`;this.closeServerIfExists(),this.debug(`Creating proxy server for native Squirrel.Mac (${_})`),this.server=(0,c.createServer)(),this.debug(`Proxy server for native Squirrel.Mac is created (${_})`),this.server.on("close",()=>{p.info(`Proxy server for native Squirrel.Mac is closed (${_})`)});const T=O=>{const P=O.address();return typeof P=="string"?P:`http://127.0.0.1:${P==null?void 0:P.port}`};return await new Promise((O,P)=>{const U=(0,t.randomBytes)(64).toString("base64").replace(/\//g,"_").replace(/\+/g,"-"),R=Buffer.from(`autoupdater:${U}`,"ascii"),S=`/${(0,t.randomBytes)(64).toString("hex")}.zip`;this.server.on("request",(b,E)=>{const M=b.url;if(p.info(`${M} requested`),M==="/"){if(!b.headers.authorization||b.headers.authorization.indexOf("Basic ")===-1){E.statusCode=401,E.statusMessage="Invalid Authentication Credentials",E.end(),p.warn("No authenthication info");return}const k=b.headers.authorization.split(" ")[1],N=Buffer.from(k,"base64").toString("ascii"),[D,F]=N.split(":");if(D!=="autoupdater"||F!==U){E.statusCode=401,E.statusMessage="Invalid Authentication Credentials",E.end(),p.warn("Invalid authenthication credentials");return}const q=Buffer.from(`{ "url": "${T(this.server)}${S}" }`);E.writeHead(200,{"Content-Type":"application/json","Content-Length":q.length}),E.end(q);return}if(!M.startsWith(S)){p.warn(`${M} requested, but not supported`),E.writeHead(404),E.end();return}p.info(`${S} requested by Squirrel.Mac, pipe ${g}`);let $=!1;E.on("finish",()=>{$||(this.nativeUpdater.removeListener("error",P),O([]))});const L=(0,d.createReadStream)(g);L.on("error",k=>{try{E.end()}catch(N){p.warn(`cannot end response: ${N}`)}$=!0,this.nativeUpdater.removeListener("error",P),P(new Error(`Cannot pipe "${g}": ${k}`))}),E.writeHead(200,{"Content-Type":"application/zip","Content-Length":v}),L.pipe(E)}),this.debug(`Proxy server for native Squirrel.Mac is starting to listen (${_})`),this.server.listen(0,"127.0.0.1",()=>{this.debug(`Proxy server for native Squirrel.Mac is listening (address=${T(this.server)}, ${_})`),this.nativeUpdater.setFeedURL({url:T(this.server),headers:{"Cache-Control":"no-cache",Authorization:`Basic ${R.toString("base64")}`}}),this.dispatchUpdateDownloaded(a),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",P),this.nativeUpdater.checkForUpdates()):O([])})})}handleUpdateDownloaded(){this.autoRunAppAfterInstall?this.nativeUpdater.quitAndInstall():this.app.quit(),this.closeServerIfExists()}quitAndInstall(){this.squirrelDownloadedUpdate?this.handleUpdateDownloaded():(this.nativeUpdater.on("update-downloaded",()=>this.handleUpdateDownloaded()),this.autoInstallOnAppQuit||this.nativeUpdater.checkForUpdates())}};return pr.MacUpdater=s,pr}var mr={},jr={},Zl;function Wd(){if(Zl)return jr;Zl=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.verifySignature=c;const o=Me(),h=Er,d=vt,f=Ce;function c(t,s,i){return new Promise((u,a)=>{const m=s.replace(/'/g,"''");i.info(`Verifying signature ${m}`),(0,h.execFile)('set "PSModulePath=" & chcp 65001 >NUL & powershell.exe',["-NoProfile","-NonInteractive","-InputFormat","None","-Command",`"Get-AuthenticodeSignature -LiteralPath '${m}' | ConvertTo-Json -Compress"`],{shell:!0,timeout:20*1e3},(g,v,p)=>{var _;try{if(g!=null||p){e(i,g,p,a),u(null);return}const T=r(v);if(T.Status===0){try{const R=f.normalize(T.Path),S=f.normalize(s);if(i.info(`LiteralPath: ${R}. Update Path: ${S}`),R!==S){e(i,new Error(`LiteralPath of ${R} is different than ${S}`),p,a),u(null);return}}catch(R){i.warn(`Unable to verify LiteralPath of update asset due to missing data.Path. Skipping this step of validation. Message: ${(_=R.message)!==null&&_!==void 0?_:R.stack}`)}const P=(0,o.parseDn)(T.SignerCertificate.Subject);let U=!1;for(const R of t){const S=(0,o.parseDn)(R);if(S.size?U=Array.from(S.keys()).every(E=>S.get(E)===P.get(E)):R===P.get("CN")&&(i.warn(`Signature validated using only CN ${R}. Please add your full Distinguished Name (DN) to publisherNames configuration`),U=!0),U){u(null);return}}}const O=`publisherNames: ${t.join(" | ")}, raw info: `+JSON.stringify(T,(P,U)=>P==="RawData"?void 0:U,2);i.warn(`Sign verification failed, installer signed with incorrect certificate: ${O}`),u(O)}catch(T){e(i,T,null,a),u(null);return}})})}function r(t){const s=JSON.parse(t);delete s.PrivateKey,delete s.IsOSBinary,delete s.SignatureType;const i=s.SignerCertificate;return i!=null&&(delete i.Archived,delete i.Extensions,delete i.Handle,delete i.HasPrivateKey,delete i.SubjectName),s}function e(t,s,i,u){if(n()){t.warn(`Cannot execute Get-AuthenticodeSignature: ${s||i}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}try{(0,h.execFileSync)("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:10*1e3})}catch(a){t.warn(`Cannot execute ConvertTo-Json: ${a.message}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}s!=null&&u(s),i&&u(new Error(`Cannot execute Get-AuthenticodeSignature, stderr: ${i}. Failing signature validation due to unknown stderr.`))}function n(){const t=d.release();return t.startsWith("6.")&&!t.startsWith("6.3")}return jr}var eu;function tu(){if(eu)return mr;eu=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.NsisUpdater=void 0;const o=Me(),h=Ce,d=Wt(),f=hc(),c=Nt(),r=Ze(),e=yt(),n=Wd(),t=Bt;let s=class extends d.BaseUpdater{constructor(u,a){super(u,a),this._verifyUpdateCodeSignature=(m,g)=>(0,n.verifySignature)(m,g,this._logger)}get verifyUpdateCodeSignature(){return this._verifyUpdateCodeSignature}set verifyUpdateCodeSignature(u){u&&(this._verifyUpdateCodeSignature=u)}doDownloadUpdate(u){const a=u.updateInfoAndProvider.provider,m=(0,r.findFile)(a.resolveFiles(u.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:u,fileInfo:m,task:async(g,v,p,_)=>{const T=m.packageInfo,O=T!=null&&p!=null;if(O&&u.disableWebInstaller)throw(0,o.newError)(`Unable to download new version ${u.updateInfoAndProvider.info.version}. Web Installers are disabled`,"ERR_UPDATER_WEB_INSTALLER_DISABLED");!O&&!u.disableWebInstaller&&this._logger.warn("disableWebInstaller is set to false, you should set it to true if you do not plan on using a web installer. This will default to true in a future version."),(O||u.disableDifferentialDownload||await this.differentialDownloadInstaller(m,u,g,a,o.CURRENT_APP_INSTALLER_FILE_NAME))&&await this.httpExecutor.download(m.url,g,v);const P=await this.verifySignature(g);if(P!=null)throw await _(),(0,o.newError)(`New version ${u.updateInfoAndProvider.info.version} is not signed by the application owner: ${P}`,"ERR_UPDATER_INVALID_SIGNATURE");if(O&&await this.differentialDownloadWebPackage(u,T,p,a))try{await this.httpExecutor.download(new t.URL(T.path),p,{headers:u.requestHeaders,cancellationToken:u.cancellationToken,sha512:T.sha512})}catch(U){try{await(0,e.unlink)(p)}catch{}throw U}}})}async verifySignature(u){let a;try{if(a=(await this.configOnDisk.value).publisherName,a==null)return null}catch(m){if(m.code==="ENOENT")return null;throw m}return await this._verifyUpdateCodeSignature(Array.isArray(a)?a:[a],u)}doInstall(u){const a=this.installerPath;if(a==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;const m=["--updated"];u.isSilent&&m.push("/S"),u.isForceRunAfter&&m.push("--force-run"),this.installDirectory&&m.push(`/D=${this.installDirectory}`);const g=this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.packageFile;g!=null&&m.push(`--package-file=${g}`);const v=()=>{this.spawnLog(h.join(process.resourcesPath,"elevate.exe"),[a].concat(m)).catch(p=>this.dispatchError(p))};return u.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),v(),!0):(this.spawnLog(a,m).catch(p=>{const _=p.code;this._logger.info(`Cannot run installer: error code: ${_}, error message: "${p.message}", will be executed again using elevate if EACCES, and will try to use electron.shell.openItem if ENOENT`),_==="UNKNOWN"||_==="EACCES"?v():_==="ENOENT"?Fe.shell.openPath(a).catch(T=>this.dispatchError(T)):this.dispatchError(p)}),!0)}async differentialDownloadWebPackage(u,a,m,g){if(a.blockMapSize==null)return!0;try{const v={newUrl:new t.URL(a.path),oldFile:h.join(this.downloadedUpdateHelper.cacheDir,o.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:m,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:g.isUseMultipleRangeRequest,cancellationToken:u.cancellationToken};this.listenerCount(c.DOWNLOAD_PROGRESS)>0&&(v.onProgress=p=>this.emit(c.DOWNLOAD_PROGRESS,p)),await new f.FileWithEmbeddedBlockMapDifferentialDownloader(a,this.httpExecutor,v).download()}catch(v){return this._logger.error(`Cannot download differentially, fallback to full download: ${v.stack||v}`),process.platform==="win32"}return!1}};return mr.NsisUpdater=s,mr}var ru;function Vd(){return ru||(ru=1,function(o){var h=Rt&&Rt.__createBinding||(Object.create?function(p,_,T,O){O===void 0&&(O=T);var P=Object.getOwnPropertyDescriptor(_,T);(!P||("get"in P?!_.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return _[T]}}),Object.defineProperty(p,O,P)}:function(p,_,T,O){O===void 0&&(O=T),p[O]=_[T]}),d=Rt&&Rt.__exportStar||function(p,_){for(var T in p)T!=="default"&&!Object.prototype.hasOwnProperty.call(_,T)&&h(_,p,T)};Object.defineProperty(o,"__esModule",{value:!0}),o.NsisUpdater=o.MacUpdater=o.RpmUpdater=o.PacmanUpdater=o.DebUpdater=o.AppImageUpdater=o.Provider=o.NoOpLogger=o.AppUpdater=o.BaseUpdater=void 0;const f=yt(),c=Ce;var r=Wt();Object.defineProperty(o,"BaseUpdater",{enumerable:!0,get:function(){return r.BaseUpdater}});var e=Ho();Object.defineProperty(o,"AppUpdater",{enumerable:!0,get:function(){return e.AppUpdater}}),Object.defineProperty(o,"NoOpLogger",{enumerable:!0,get:function(){return e.NoOpLogger}});var n=Ze();Object.defineProperty(o,"Provider",{enumerable:!0,get:function(){return n.Provider}});var t=Gl();Object.defineProperty(o,"AppImageUpdater",{enumerable:!0,get:function(){return t.AppImageUpdater}});var s=Vl();Object.defineProperty(o,"DebUpdater",{enumerable:!0,get:function(){return s.DebUpdater}});var i=Yl();Object.defineProperty(o,"PacmanUpdater",{enumerable:!0,get:function(){return i.PacmanUpdater}});var u=Jl();Object.defineProperty(o,"RpmUpdater",{enumerable:!0,get:function(){return u.RpmUpdater}});var a=Ql();Object.defineProperty(o,"MacUpdater",{enumerable:!0,get:function(){return a.MacUpdater}});var m=tu();Object.defineProperty(o,"NsisUpdater",{enumerable:!0,get:function(){return m.NsisUpdater}}),d(Nt(),o);let g;function v(){if(process.platform==="win32")g=new(tu()).NsisUpdater;else if(process.platform==="darwin")g=new(Ql()).MacUpdater;else{g=new(Gl()).AppImageUpdater;try{const p=c.join(process.resourcesPath,"package-type");if(!(0,f.existsSync)(p))return g;console.info("Checking for beta autoupdate feature for deb/rpm distributions");const _=(0,f.readFileSync)(p).toString().trim();switch(console.info("Found package-type:",_),_){case"deb":g=new(Vl()).DebUpdater;break;case"rpm":g=new(Jl()).RpmUpdater;break;case"pacman":g=new(Yl()).PacmanUpdater;break;default:break}}catch(p){console.warn("Unable to detect 'package-type' for autoUpdater (beta rpm/deb support). If you'd like to expand support, please consider contributing to electron-builder",p.message)}}return g}Object.defineProperty(o,"autoUpdater",{enumerable:!0,get:()=>g||v()})}(Rt)),Rt}var ft=Vd(),gr={exports:{}},to={exports:{}},nu;function pc(){return nu||(nu=1,function(o){let h={};try{h=require("electron")}catch{}h.ipcRenderer&&d(h),o.exports=d;function d({contextBridge:f,ipcRenderer:c}){if(!c)return;c.on("__ELECTRON_LOG_IPC__",(e,n)=>{window.postMessage({cmd:"message",...n})}),c.invoke("__ELECTRON_LOG__",{cmd:"getOptions"}).catch(e=>console.error(new Error(`electron-log isn't initialized in the main process. Please call log.initialize() before. ${e.message}`)));const r={sendToMain(e){try{c.send("__ELECTRON_LOG__",e)}catch(n){console.error("electronLog.sendToMain ",n,"data:",e),c.send("__ELECTRON_LOG__",{cmd:"errorHandler",error:{message:n==null?void 0:n.message,stack:n==null?void 0:n.stack},errorName:"sendToMain"})}},log(...e){r.sendToMain({data:e,level:"info"})}};for(const e of["error","warn","info","verbose","debug","silly"])r[e]=(...n)=>r.sendToMain({data:n,level:e});if(f&&process.contextIsolated)try{f.exposeInMainWorld("__electronLog",r)}catch{}typeof window=="object"?window.__electronLog=r:__electronLog=r}}(to)),to.exports}var ro={exports:{}},no,iu;function zd(){if(iu)return no;iu=1,no=o;function o(h){return Object.defineProperties(d,{defaultLabel:{value:"",writable:!0},labelPadding:{value:!0,writable:!0},maxLabelLength:{value:0,writable:!0},labelLength:{get(){switch(typeof d.labelPadding){case"boolean":return d.labelPadding?d.maxLabelLength:0;case"number":return d.labelPadding;default:return 0}}}});function d(f){d.maxLabelLength=Math.max(d.maxLabelLength,f.length);const c={};for(const r of h.levels)c[r]=(...e)=>h.logData(e,{level:r,scope:f});return c.log=c.info,c}}return no}var io,ou;function Yd(){if(ou)return io;ou=1;class o{constructor({processMessage:d}){this.processMessage=d,this.buffer=[],this.enabled=!1,this.begin=this.begin.bind(this),this.commit=this.commit.bind(this),this.reject=this.reject.bind(this)}addMessage(d){this.buffer.push(d)}begin(){this.enabled=[]}commit(){this.enabled=!1,this.buffer.forEach(d=>this.processMessage(d)),this.buffer=[]}reject(){this.enabled=!1,this.buffer=[]}}return io=o,io}var oo,au;function mc(){if(au)return oo;au=1;const o=zd(),h=Yd(),f=class f{constructor({allowUnknownLevel:r=!1,dependencies:e={},errorHandler:n,eventLogger:t,initializeFn:s,isDev:i=!1,levels:u=["error","warn","info","verbose","debug","silly"],logId:a,transportFactories:m={},variables:g}={}){Ae(this,"dependencies",{});Ae(this,"errorHandler",null);Ae(this,"eventLogger",null);Ae(this,"functions",{});Ae(this,"hooks",[]);Ae(this,"isDev",!1);Ae(this,"levels",null);Ae(this,"logId",null);Ae(this,"scope",null);Ae(this,"transports",{});Ae(this,"variables",{});this.addLevel=this.addLevel.bind(this),this.create=this.create.bind(this),this.initialize=this.initialize.bind(this),this.logData=this.logData.bind(this),this.processMessage=this.processMessage.bind(this),this.allowUnknownLevel=r,this.buffering=new h(this),this.dependencies=e,this.initializeFn=s,this.isDev=i,this.levels=u,this.logId=a,this.scope=o(this),this.transportFactories=m,this.variables=g||{};for(const v of this.levels)this.addLevel(v,!1);this.log=this.info,this.functions.log=this.log,this.errorHandler=n,n==null||n.setOptions({...e,logFn:this.error}),this.eventLogger=t,t==null||t.setOptions({...e,logger:this});for(const[v,p]of Object.entries(m))this.transports[v]=p(this,e);f.instances[a]=this}static getInstance({logId:r}){return this.instances[r]||this.instances.default}addLevel(r,e=this.levels.length){e!==!1&&this.levels.splice(e,0,r),this[r]=(...n)=>this.logData(n,{level:r}),this.functions[r]=this[r]}catchErrors(r){return this.processMessage({data:["log.catchErrors is deprecated. Use log.errorHandler instead"],level:"warn"},{transports:["console"]}),this.errorHandler.startCatching(r)}create(r){return typeof r=="string"&&(r={logId:r}),new f({dependencies:this.dependencies,errorHandler:this.errorHandler,initializeFn:this.initializeFn,isDev:this.isDev,transportFactories:this.transportFactories,variables:{...this.variables},...r})}compareLevels(r,e,n=this.levels){const t=n.indexOf(r),s=n.indexOf(e);return s===-1||t===-1?!0:s<=t}initialize(r={}){this.initializeFn({logger:this,...this.dependencies,...r})}logData(r,e={}){this.buffering.enabled?this.buffering.addMessage({data:r,...e}):this.processMessage({data:r,...e})}processMessage(r,{transports:e=this.transports}={}){if(r.cmd==="errorHandler"){this.errorHandler.handle(r.error,{errorName:r.errorName,processType:"renderer",showDialog:!!r.showDialog});return}let n=r.level;this.allowUnknownLevel||(n=this.levels.includes(r.level)?r.level:"info");const t={date:new Date,logId:this.logId,...r,level:n,variables:{...this.variables,...r.variables}};for(const[s,i]of this.transportEntries(e))if(!(typeof i!="function"||i.level===!1)&&this.compareLevels(i.level,r.level))try{const u=this.hooks.reduce((a,m)=>a&&m(a,i,s),t);u&&i({...u,data:[...u.data]})}catch(u){this.processInternalErrorFn(u)}}processInternalErrorFn(r){}transportEntries(r=this.transports){return(Array.isArray(r)?r:Object.entries(r)).map(n=>{switch(typeof n){case"string":return this.transports[n]?[n,this.transports[n]]:null;case"function":return[n.name,n];default:return Array.isArray(n)?n:null}}).filter(Boolean)}};Ae(f,"instances",{});let d=f;return oo=d,oo}var ao,su;function Xd(){if(su)return ao;su=1;const o=console.error;class h{constructor({logFn:f=null}={}){Ae(this,"logFn",null);Ae(this,"onError",null);Ae(this,"showDialog",!1);Ae(this,"preventDefault",!0);this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.startCatching=this.startCatching.bind(this),this.logFn=f}handle(f,{logFn:c=this.logFn,errorName:r="",onError:e=this.onError,showDialog:n=this.showDialog}={}){try{(e==null?void 0:e({error:f,errorName:r,processType:"renderer"}))!==!1&&c({error:f,errorName:r,showDialog:n})}catch{o(f)}}setOptions({logFn:f,onError:c,preventDefault:r,showDialog:e}){typeof f=="function"&&(this.logFn=f),typeof c=="function"&&(this.onError=c),typeof r=="boolean"&&(this.preventDefault=r),typeof e=="boolean"&&(this.showDialog=e)}startCatching({onError:f,showDialog:c}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:f,showDialog:c}),window.addEventListener("error",r=>{var e;this.preventDefault&&((e=r.preventDefault)==null||e.call(r)),this.handleError(r.error||r)}),window.addEventListener("unhandledrejection",r=>{var e;this.preventDefault&&((e=r.preventDefault)==null||e.call(r)),this.handleRejection(r.reason||r)}))}handleError(f){this.handle(f,{errorName:"Unhandled"})}handleRejection(f){const c=f instanceof Error?f:new Error(JSON.stringify(f));this.handle(c,{errorName:"Unhandled rejection"})}}return ao=h,ao}var so,lu;function Ft(){if(lu)return so;lu=1,so={transform:o};function o({logger:h,message:d,transport:f,initialData:c=(d==null?void 0:d.data)||[],transforms:r=f==null?void 0:f.transforms}){return r.reduce((e,n)=>typeof n=="function"?n({data:e,logger:h,message:d,transport:f}):e,c)}return so}var lo,uu;function Jd(){if(uu)return lo;uu=1;const{transform:o}=Ft();lo=d;const h={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log};function d(c){return Object.assign(r,{format:"{h}:{i}:{s}.{ms}{scope} › {text}",transforms:[f],writeFn({message:{level:e,data:n}}){const t=h[e]||h.info;setTimeout(()=>t(...n))}});function r(e){r.writeFn({message:{...e,data:o({logger:c,message:e,transport:r})}})}}function f({data:c=[],logger:r={},message:e={},transport:n={}}){if(typeof n.format=="function")return n.format({data:c,level:(e==null?void 0:e.level)||"info",logger:r,message:e,transport:n});if(typeof n.format!="string")return c;c.unshift(n.format),typeof c[1]=="string"&&c[1].match(/%[1cdfiOos]/)&&(c=[`${c[0]} ${c[1]}`,...c.slice(2)]);const t=e.date||new Date;return c[0]=c[0].replace(/\{(\w+)}/g,(s,i)=>{var u,a;switch(i){case"level":return e.level;case"logId":return e.logId;case"scope":{const m=e.scope||((u=r.scope)==null?void 0:u.defaultLabel);return m?` (${m})`:""}case"text":return"";case"y":return t.getFullYear().toString(10);case"m":return(t.getMonth()+1).toString(10).padStart(2,"0");case"d":return t.getDate().toString(10).padStart(2,"0");case"h":return t.getHours().toString(10).padStart(2,"0");case"i":return t.getMinutes().toString(10).padStart(2,"0");case"s":return t.getSeconds().toString(10).padStart(2,"0");case"ms":return t.getMilliseconds().toString(10).padStart(3,"0");case"iso":return t.toISOString();default:return((a=e.variables)==null?void 0:a[i])||s}}).trim(),c}return lo}var uo,cu;function Kd(){if(cu)return uo;cu=1;const{transform:o}=Ft();uo=d;const h=new Set([Promise,WeakMap,WeakSet]);function d(r){return Object.assign(e,{depth:5,transforms:[c]});function e(n){if(!window.__electronLog){r.processMessage({data:["electron-log: logger isn't initialized in the main process"],level:"error"},{transports:["console"]});return}try{const t=o({initialData:n,logger:r,message:n,transport:e});__electronLog.sendToMain(t)}catch(t){r.transports.console({data:["electronLog.transports.ipc",t,"data:",n.data],level:"error"})}}}function f(r){return Object(r)!==r}function c({data:r,depth:e,seen:n=new WeakSet,transport:t={}}={}){const s=e||t.depth||5;return n.has(r)?"[Circular]":s<1?f(r)?r:Array.isArray(r)?"[Array]":`[${typeof r}]`:["function","symbol"].includes(typeof r)?r.toString():f(r)?r:h.has(r.constructor)?`[${r.constructor.name}]`:Array.isArray(r)?r.map(i=>c({data:i,depth:s-1,seen:n})):r instanceof Date?r.toISOString():r instanceof Error?r.stack:r instanceof Map?new Map(Array.from(r).map(([i,u])=>[c({data:i,depth:s-1,seen:n}),c({data:u,depth:s-1,seen:n})])):r instanceof Set?new Set(Array.from(r).map(i=>c({data:i,depth:s-1,seen:n}))):(n.add(r),Object.fromEntries(Object.entries(r).map(([i,u])=>[i,c({data:u,depth:s-1,seen:n})])))}return uo}var fu;function Qd(){return fu||(fu=1,function(o){const h=mc(),d=Xd(),f=Jd(),c=Kd();o.exports=r(),o.exports.Logger=h,o.exports.default=o.exports;function r(){const e=new h({allowUnknownLevel:!0,errorHandler:new d,initializeFn:()=>{},logId:"default",transportFactories:{console:f,ipc:c},variables:{processType:"renderer"}});return e.errorHandler.setOptions({logFn({error:n,errorName:t,showDialog:s}){e.transports.console({data:[t,n].filter(Boolean),level:"error"}),e.transports.ipc({cmd:"errorHandler",error:{cause:n==null?void 0:n.cause,code:n==null?void 0:n.code,name:n==null?void 0:n.name,message:n==null?void 0:n.message,stack:n==null?void 0:n.stack},errorName:t,logId:e.logId,showDialog:s})}}),typeof window=="object"&&window.addEventListener("message",n=>{const{cmd:t,logId:s,...i}=n.data||{},u=h.getInstance({logId:s});t==="message"&&u.processMessage(i,{transports:["console"]})}),new Proxy(e,{get(n,t){return typeof n[t]<"u"?n[t]:(...s)=>e.logData(s,{level:t})}})}}(ro)),ro.exports}var co,du;function Zd(){if(du)return co;du=1;const o=Xe,h=Ce;co={findAndReadPackageJson:d,tryReadJsonAt:f};function d(){return f(e())||f(r())||f(process.resourcesPath,"app.asar")||f(process.resourcesPath,"app")||f(process.cwd())||{name:void 0,version:void 0}}function f(...n){if(n[0])try{const t=h.join(...n),s=c("package.json",t);if(!s)return;const i=JSON.parse(o.readFileSync(s,"utf8")),u=(i==null?void 0:i.productName)||(i==null?void 0:i.name);return!u||u.toLowerCase()==="electron"?void 0:u?{name:u,version:i==null?void 0:i.version}:void 0}catch{return}}function c(n,t){let s=t;for(;;){const i=h.parse(s),u=i.root,a=i.dir;if(o.existsSync(h.join(s,n)))return h.resolve(h.join(s,n));if(s===u)return null;s=a}}function r(){const n=process.argv.filter(s=>s.indexOf("--user-data-dir=")===0);return n.length===0||typeof n[0]!="string"?null:n[0].replace("--user-data-dir=","")}function e(){var n;try{return(n=require.main)==null?void 0:n.filename}catch{return}}return co}var fo,hu;function gc(){if(hu)return fo;hu=1;const o=Er,h=vt,d=Ce,f=Zd();class c{constructor(){Ae(this,"appName");Ae(this,"appPackageJson");Ae(this,"platform",process.platform)}getAppLogPath(e=this.getAppName()){return this.platform==="darwin"?d.join(this.getSystemPathHome(),"Library/Logs",e):d.join(this.getAppUserDataPath(e),"logs")}getAppName(){var n;const e=this.appName||((n=this.getAppPackageJson())==null?void 0:n.name);if(!e)throw new Error("electron-log can't determine the app name. It tried these methods:\n1. Use `electron.app.name`\n2. Use productName or name from the nearest package.json`\nYou can also set it through log.transports.file.setAppName()");return e}getAppPackageJson(){return typeof this.appPackageJson!="object"&&(this.appPackageJson=f.findAndReadPackageJson()),this.appPackageJson}getAppUserDataPath(e=this.getAppName()){return e?d.join(this.getSystemPathAppData(),e):void 0}getAppVersion(){var e;return(e=this.getAppPackageJson())==null?void 0:e.version}getElectronLogPath(){return this.getAppLogPath()}getMacOsVersion(){const e=Number(h.release().split(".")[0]);return e<=19?`10.${e-4}`:e-9}getOsVersion(){let e=h.type().replace("_"," "),n=h.release();return e==="Darwin"&&(e="macOS",n=this.getMacOsVersion()),`${e} ${n}`}getPathVariables(){const e=this.getAppName(),n=this.getAppVersion(),t=this;return{appData:this.getSystemPathAppData(),appName:e,appVersion:n,get electronDefaultDir(){return t.getElectronLogPath()},home:this.getSystemPathHome(),libraryDefaultDir:this.getAppLogPath(e),libraryTemplate:this.getAppLogPath("{appName}"),temp:this.getSystemPathTemp(),userData:this.getAppUserDataPath(e)}}getSystemPathAppData(){const e=this.getSystemPathHome();switch(this.platform){case"darwin":return d.join(e,"Library/Application Support");case"win32":return process.env.APPDATA||d.join(e,"AppData/Roaming");default:return process.env.XDG_CONFIG_HOME||d.join(e,".config")}}getSystemPathHome(){var e;return((e=h.homedir)==null?void 0:e.call(h))||process.env.HOME}getSystemPathTemp(){return h.tmpdir()}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:void 0,os:this.getOsVersion()}}isDev(){return process.env.NODE_ENV==="development"||process.env.ELECTRON_IS_DEV==="1"}isElectron(){return!!process.versions.electron}onAppEvent(e,n){}onAppReady(e){e()}onEveryWebContentsEvent(e,n){}onIpc(e,n){}onIpcInvoke(e,n){}openUrl(e,n=console.error){const s={darwin:"open",win32:"start",linux:"xdg-open"}[process.platform]||"xdg-open";o.exec(`${s} ${e}`,{},i=>{i&&n(i)})}setAppName(e){this.appName=e}setPlatform(e){this.platform=e}setPreloadFileForSessions({filePath:e,includeFutureSession:n=!0,getSessions:t=()=>[]}){}sendIpc(e,n){}showErrorBox(e,n){}}return fo=c,fo}var ho,pu;function eh(){if(pu)return ho;pu=1;const o=Ce,h=gc();class d extends h{constructor({electron:r}={}){super();Ae(this,"electron");this.electron=r}getAppName(){var e,n;let r;try{r=this.appName||((e=this.electron.app)==null?void 0:e.name)||((n=this.electron.app)==null?void 0:n.getName())}catch{}return r||super.getAppName()}getAppUserDataPath(r){return this.getPath("userData")||super.getAppUserDataPath(r)}getAppVersion(){var e;let r;try{r=(e=this.electron.app)==null?void 0:e.getVersion()}catch{}return r||super.getAppVersion()}getElectronLogPath(){return this.getPath("logs")||super.getElectronLogPath()}getPath(r){var e;try{return(e=this.electron.app)==null?void 0:e.getPath(r)}catch{return}}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:`Electron ${process.versions.electron}`,os:this.getOsVersion()}}getSystemPathAppData(){return this.getPath("appData")||super.getSystemPathAppData()}isDev(){var r;return((r=this.electron.app)==null?void 0:r.isPackaged)!==void 0?!this.electron.app.isPackaged:typeof process.execPath=="string"?o.basename(process.execPath).toLowerCase().startsWith("electron"):super.isDev()}onAppEvent(r,e){var n;return(n=this.electron.app)==null||n.on(r,e),()=>{var t;(t=this.electron.app)==null||t.off(r,e)}}onAppReady(r){var e,n,t;(e=this.electron.app)!=null&&e.isReady()?r():(n=this.electron.app)!=null&&n.once?(t=this.electron.app)==null||t.once("ready",r):r()}onEveryWebContentsEvent(r,e){var t,s,i;return(s=(t=this.electron.webContents)==null?void 0:t.getAllWebContents())==null||s.forEach(u=>{u.on(r,e)}),(i=this.electron.app)==null||i.on("web-contents-created",n),()=>{var u,a;(u=this.electron.webContents)==null||u.getAllWebContents().forEach(m=>{m.off(r,e)}),(a=this.electron.app)==null||a.off("web-contents-created",n)};function n(u,a){a.on(r,e)}}onIpc(r,e){var n;(n=this.electron.ipcMain)==null||n.on(r,e)}onIpcInvoke(r,e){var n,t;(t=(n=this.electron.ipcMain)==null?void 0:n.handle)==null||t.call(n,r,e)}openUrl(r,e=console.error){var n;(n=this.electron.shell)==null||n.openExternal(r).catch(e)}setPreloadFileForSessions({filePath:r,includeFutureSession:e=!0,getSessions:n=()=>{var t;return[(t=this.electron.session)==null?void 0:t.defaultSession]}}){for(const s of n().filter(Boolean))t(s);e&&this.onAppEvent("session-created",s=>{t(s)});function t(s){typeof s.registerPreloadScript=="function"?s.registerPreloadScript({filePath:r,id:"electron-log-preload",type:"frame"}):s.setPreloads([...s.getPreloads(),r])}}sendIpc(r,e){var n,t;(t=(n=this.electron.BrowserWindow)==null?void 0:n.getAllWindows())==null||t.forEach(s=>{var i,u;((i=s.webContents)==null?void 0:i.isDestroyed())===!1&&((u=s.webContents)==null?void 0:u.isCrashed())===!1&&s.webContents.send(r,e)})}showErrorBox(r,e){var n;(n=this.electron.dialog)==null||n.showErrorBox(r,e)}}return ho=d,ho}var po,mu;function th(){if(mu)return po;mu=1;const o=Xe,h=vt,d=Ce,f=pc();po={initialize({externalApi:e,getSessions:n,includeFutureSession:t,logger:s,preload:i=!0,spyRendererConsole:u=!1}){e.onAppReady(()=>{try{i&&c({externalApi:e,getSessions:n,includeFutureSession:t,preloadOption:i}),u&&r({externalApi:e,logger:s})}catch(a){s.warn(a)}})}};function c({externalApi:e,getSessions:n,includeFutureSession:t,preloadOption:s}){let i=typeof s=="string"?s:void 0;try{i=d.resolve(__dirname,"../renderer/electron-log-preload.js")}catch{}if(!i||!o.existsSync(i)){i=d.join(e.getAppUserDataPath()||h.tmpdir(),"electron-log-preload.js");const u=`
      try {
        (${f.toString()})(require('electron'));
      } catch(e) {
        console.error(e);
      }
    `;o.writeFileSync(i,u,"utf8")}e.setPreloadFileForSessions({filePath:i,includeFutureSession:t,getSessions:n})}function r({externalApi:e,logger:n}){const t=["debug","info","warn","error"];e.onEveryWebContentsEvent("console-message",(s,i,u)=>{n.processMessage({data:[u],level:t[i],variables:{processType:"renderer"}})})}return po}var mo,gu;function rh(){if(gu)return mo;gu=1;class o{constructor({externalApi:f,logFn:c=void 0,onError:r=void 0,showDialog:e=void 0}={}){Ae(this,"externalApi");Ae(this,"isActive",!1);Ae(this,"logFn");Ae(this,"onError");Ae(this,"showDialog",!0);this.createIssue=this.createIssue.bind(this),this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.setOptions({externalApi:f,logFn:c,onError:r,showDialog:e}),this.startCatching=this.startCatching.bind(this),this.stopCatching=this.stopCatching.bind(this)}handle(f,{logFn:c=this.logFn,onError:r=this.onError,processType:e="browser",showDialog:n=this.showDialog,errorName:t=""}={}){var s;f=h(f);try{if(typeof r=="function"){const i=((s=this.externalApi)==null?void 0:s.getVersions())||{},u=this.createIssue;if(r({createIssue:u,error:f,errorName:t,processType:e,versions:i})===!1)return}t?c(t,f):c(f),n&&!t.includes("rejection")&&this.externalApi&&this.externalApi.showErrorBox(`A JavaScript error occurred in the ${e} process`,f.stack)}catch{console.error(f)}}setOptions({externalApi:f,logFn:c,onError:r,showDialog:e}){typeof f=="object"&&(this.externalApi=f),typeof c=="function"&&(this.logFn=c),typeof r=="function"&&(this.onError=r),typeof e=="boolean"&&(this.showDialog=e)}startCatching({onError:f,showDialog:c}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:f,showDialog:c}),process.on("uncaughtException",this.handleError),process.on("unhandledRejection",this.handleRejection))}stopCatching(){this.isActive=!1,process.removeListener("uncaughtException",this.handleError),process.removeListener("unhandledRejection",this.handleRejection)}createIssue(f,c){var r;(r=this.externalApi)==null||r.openUrl(`${f}?${new URLSearchParams(c).toString()}`)}handleError(f){this.handle(f,{errorName:"Unhandled"})}handleRejection(f){const c=f instanceof Error?f:new Error(JSON.stringify(f));this.handle(c,{errorName:"Unhandled rejection"})}}function h(d){if(d instanceof Error)return d;if(d&&typeof d=="object"){if(d.message)return Object.assign(new Error(d.message),d);try{return new Error(JSON.stringify(d))}catch(f){return new Error(`Couldn't normalize error ${String(d)}: ${f}`)}}return new Error(`Can't normalize error ${String(d)}`)}return mo=o,mo}var go,vu;function nh(){if(vu)return go;vu=1;class o{constructor(d={}){Ae(this,"disposers",[]);Ae(this,"format","{eventSource}#{eventName}:");Ae(this,"formatters",{app:{"certificate-error":({args:d})=>this.arrayToObject(d.slice(1,4),["url","error","certificate"]),"child-process-gone":({args:d})=>d.length===1?d[0]:d,"render-process-gone":({args:[d,f]})=>f&&typeof f=="object"?{...f,...this.getWebContentsDetails(d)}:[]},webContents:{"console-message":({args:[d,f,c,r]})=>{if(!(d<3))return{message:f,source:`${r}:${c}`}},"did-fail-load":({args:d})=>this.arrayToObject(d,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"did-fail-provisional-load":({args:d})=>this.arrayToObject(d,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"plugin-crashed":({args:d})=>this.arrayToObject(d,["name","version"]),"preload-error":({args:d})=>this.arrayToObject(d,["preloadPath","error"])}});Ae(this,"events",{app:{"certificate-error":!0,"child-process-gone":!0,"render-process-gone":!0},webContents:{"did-fail-load":!0,"did-fail-provisional-load":!0,"plugin-crashed":!0,"preload-error":!0,unresponsive:!0}});Ae(this,"externalApi");Ae(this,"level","error");Ae(this,"scope","");this.setOptions(d)}setOptions({events:d,externalApi:f,level:c,logger:r,format:e,formatters:n,scope:t}){typeof d=="object"&&(this.events=d),typeof f=="object"&&(this.externalApi=f),typeof c=="string"&&(this.level=c),typeof r=="object"&&(this.logger=r),(typeof e=="string"||typeof e=="function")&&(this.format=e),typeof n=="object"&&(this.formatters=n),typeof t=="string"&&(this.scope=t)}startLogging(d={}){this.setOptions(d),this.disposeListeners();for(const f of this.getEventNames(this.events.app))this.disposers.push(this.externalApi.onAppEvent(f,(...c)=>{this.handleEvent({eventSource:"app",eventName:f,handlerArgs:c})}));for(const f of this.getEventNames(this.events.webContents))this.disposers.push(this.externalApi.onEveryWebContentsEvent(f,(...c)=>{this.handleEvent({eventSource:"webContents",eventName:f,handlerArgs:c})}))}stopLogging(){this.disposeListeners()}arrayToObject(d,f){const c={};return f.forEach((r,e)=>{c[r]=d[e]}),d.length>f.length&&(c.unknownArgs=d.slice(f.length)),c}disposeListeners(){this.disposers.forEach(d=>d()),this.disposers=[]}formatEventLog({eventName:d,eventSource:f,handlerArgs:c}){var u;const[r,...e]=c;if(typeof this.format=="function")return this.format({args:e,event:r,eventName:d,eventSource:f});const n=(u=this.formatters[f])==null?void 0:u[d];let t=e;if(typeof n=="function"&&(t=n({args:e,event:r,eventName:d,eventSource:f})),!t)return;const s={};return Array.isArray(t)?s.args=t:typeof t=="object"&&Object.assign(s,t),f==="webContents"&&Object.assign(s,this.getWebContentsDetails(r==null?void 0:r.sender)),[this.format.replace("{eventSource}",f==="app"?"App":"WebContents").replace("{eventName}",d),s]}getEventNames(d){return!d||typeof d!="object"?[]:Object.entries(d).filter(([f,c])=>c).map(([f])=>f)}getWebContentsDetails(d){if(!(d!=null&&d.loadURL))return{};try{return{webContents:{id:d.id,url:d.getURL()}}}catch{return{}}}handleEvent({eventName:d,eventSource:f,handlerArgs:c}){var e;const r=this.formatEventLog({eventName:d,eventSource:f,handlerArgs:c});if(r){const n=this.scope?this.logger.scope(this.scope):this.logger;(e=n==null?void 0:n[this.level])==null||e.call(n,...r)}}}return go=o,go}var vo,yu;function vc(){if(yu)return vo;yu=1;const{transform:o}=Ft();vo={concatFirstStringElements:h,formatScope:f,formatText:r,formatVariables:c,timeZoneFromOffset:d,format({message:e,logger:n,transport:t,data:s=e==null?void 0:e.data}){switch(typeof t.format){case"string":return o({message:e,logger:n,transforms:[c,f,r],transport:t,initialData:[t.format,...s]});case"function":return t.format({data:s,level:(e==null?void 0:e.level)||"info",logger:n,message:e,transport:t});default:return s}}};function h({data:e}){return typeof e[0]!="string"||typeof e[1]!="string"||e[0].match(/%[1cdfiOos]/)?e:[`${e[0]} ${e[1]}`,...e.slice(2)]}function d(e){const n=Math.abs(e),t=e>0?"-":"+",s=Math.floor(n/60).toString().padStart(2,"0"),i=(n%60).toString().padStart(2,"0");return`${t}${s}:${i}`}function f({data:e,logger:n,message:t}){const{defaultLabel:s,labelLength:i}=(n==null?void 0:n.scope)||{},u=e[0];let a=t.scope;a||(a=s);let m;return a===""?m=i>0?"".padEnd(i+3):"":typeof a=="string"?m=` (${a})`.padEnd(i+3):m="",e[0]=u.replace("{scope}",m),e}function c({data:e,message:n}){let t=e[0];if(typeof t!="string")return e;t=t.replace("{level}]",`${n.level}]`.padEnd(6," "));const s=n.date||new Date;return e[0]=t.replace(/\{(\w+)}/g,(i,u)=>{var a;switch(u){case"level":return n.level||"info";case"logId":return n.logId;case"y":return s.getFullYear().toString(10);case"m":return(s.getMonth()+1).toString(10).padStart(2,"0");case"d":return s.getDate().toString(10).padStart(2,"0");case"h":return s.getHours().toString(10).padStart(2,"0");case"i":return s.getMinutes().toString(10).padStart(2,"0");case"s":return s.getSeconds().toString(10).padStart(2,"0");case"ms":return s.getMilliseconds().toString(10).padStart(3,"0");case"z":return d(s.getTimezoneOffset());case"iso":return s.toISOString();default:return((a=n.variables)==null?void 0:a[u])||i}}).trim(),e}function r({data:e}){const n=e[0];if(typeof n!="string")return e;if(n.lastIndexOf("{text}")===n.length-6)return e[0]=n.replace(/\s?{text}/,""),e[0]===""&&e.shift(),e;const s=n.split("{text}");let i=[];return s[0]!==""&&i.push(s[0]),i=i.concat(e.slice(1)),s[1]!==""&&i.push(s[1]),i}return vo}var yo={exports:{}},Eu;function Qr(){return Eu||(Eu=1,function(o){const h=Hr;o.exports={serialize:f,maxDepth({data:c,transport:r,depth:e=(r==null?void 0:r.depth)??6}){if(!c)return c;if(e<1)return Array.isArray(c)?"[array]":typeof c=="object"&&c?"[object]":c;if(Array.isArray(c))return c.map(t=>o.exports.maxDepth({data:t,depth:e-1}));if(typeof c!="object"||c&&typeof c.toISOString=="function")return c;if(c===null)return null;if(c instanceof Error)return c;const n={};for(const t in c)Object.prototype.hasOwnProperty.call(c,t)&&(n[t]=o.exports.maxDepth({data:c[t],depth:e-1}));return n},toJSON({data:c}){return JSON.parse(JSON.stringify(c,d()))},toString({data:c,transport:r}){const e=(r==null?void 0:r.inspectOptions)||{},n=c.map(t=>{if(t!==void 0)try{const s=JSON.stringify(t,d(),"  ");return s===void 0?void 0:JSON.parse(s)}catch{return t}});return h.formatWithOptions(e,...n)}};function d(c={}){const r=new WeakSet;return function(e,n){if(typeof n=="object"&&n!==null){if(r.has(n))return;r.add(n)}return f(e,n,c)}}function f(c,r,e={}){const n=(e==null?void 0:e.serializeMapAndSet)!==!1;return r instanceof Error?r.stack:r&&(typeof r=="function"?`[function] ${r.toString()}`:r instanceof Date?r.toISOString():n&&r instanceof Map&&Object.fromEntries?Object.fromEntries(r):n&&r instanceof Set&&Array.from?Array.from(r):r)}}(yo)),yo.exports}var Eo,wu;function Go(){if(wu)return Eo;wu=1,Eo={transformStyles:f,applyAnsiStyles({data:c}){return f(c,h,d)},removeStyles({data:c}){return f(c,()=>"")}};const o={unset:"\x1B[0m",black:"\x1B[30m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m"};function h(c){const r=c.replace(/color:\s*(\w+).*/,"$1").toLowerCase();return o[r]||""}function d(c){return c+o.unset}function f(c,r,e){const n={};return c.reduce((t,s,i,u)=>{if(n[i])return t;if(typeof s=="string"){let a=i,m=!1;s=s.replace(/%[1cdfiOos]/g,g=>{if(a+=1,g!=="%c")return g;const v=u[a];return typeof v=="string"?(n[a]=!0,m=!0,r(v,s)):g}),m&&e&&(s=e(s))}return t.push(s),t},[])}return Eo}var wo,_u;function ih(){if(_u)return wo;_u=1;const{concatFirstStringElements:o,format:h}=vc(),{maxDepth:d,toJSON:f}=Qr(),{applyAnsiStyles:c,removeStyles:r}=Go(),{transform:e}=Ft(),n={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log};wo=i;const s=`%c{h}:{i}:{s}.{ms}{scope}%c ${process.platform==="win32"?">":"›"} {text}`;Object.assign(i,{DEFAULT_FORMAT:s});function i(v){return Object.assign(p,{format:s,level:"silly",transforms:[u,h,m,o,d,f],useStyles:process.env.FORCE_STYLES,writeFn({message:_}){(n[_.level]||n.info)(..._.data)}});function p(_){const T=e({logger:v,message:_,transport:p});p.writeFn({message:{..._,data:T}})}}function u({data:v,message:p,transport:_}){return _.format!==s?v:[`color:${g(p.level)}`,"color:unset",...v]}function a(v,p){if(typeof v=="boolean")return v;const T=p==="error"||p==="warn"?process.stderr:process.stdout;return T&&T.isTTY}function m(v){const{message:p,transport:_}=v;return(a(_.useStyles,p.level)?c:r)(v)}function g(v){const p={error:"red",warn:"yellow",info:"cyan",default:"unset"};return p[v]||p.default}return wo}var _o,Su;function yc(){if(Su)return _o;Su=1;const o=Gr,h=Xe,d=vt;class f extends o{constructor({path:n,writeOptions:t={encoding:"utf8",flag:"a",mode:438},writeAsync:s=!1}){super();Ae(this,"asyncWriteQueue",[]);Ae(this,"bytesWritten",0);Ae(this,"hasActiveAsyncWriting",!1);Ae(this,"path",null);Ae(this,"initialSize");Ae(this,"writeOptions",null);Ae(this,"writeAsync",!1);this.path=n,this.writeOptions=t,this.writeAsync=s}get size(){return this.getSize()}clear(){try{return h.writeFileSync(this.path,"",{mode:this.writeOptions.mode,flag:"w"}),this.reset(),!0}catch(n){return n.code==="ENOENT"?!0:(this.emit("error",n,this),!1)}}crop(n){try{const t=c(this.path,n||4096);this.clear(),this.writeLine(`[log cropped]${d.EOL}${t}`)}catch(t){this.emit("error",new Error(`Couldn't crop file ${this.path}. ${t.message}`),this)}}getSize(){if(this.initialSize===void 0)try{const n=h.statSync(this.path);this.initialSize=n.size}catch{this.initialSize=0}return this.initialSize+this.bytesWritten}increaseBytesWrittenCounter(n){this.bytesWritten+=Buffer.byteLength(n,this.writeOptions.encoding)}isNull(){return!1}nextAsyncWrite(){const n=this;if(this.hasActiveAsyncWriting||this.asyncWriteQueue.length===0)return;const t=this.asyncWriteQueue.join("");this.asyncWriteQueue=[],this.hasActiveAsyncWriting=!0,h.writeFile(this.path,t,this.writeOptions,s=>{n.hasActiveAsyncWriting=!1,s?n.emit("error",new Error(`Couldn't write to ${n.path}. ${s.message}`),this):n.increaseBytesWrittenCounter(t),n.nextAsyncWrite()})}reset(){this.initialSize=void 0,this.bytesWritten=0}toString(){return this.path}writeLine(n){if(n+=d.EOL,this.writeAsync){this.asyncWriteQueue.push(n),this.nextAsyncWrite();return}try{h.writeFileSync(this.path,n,this.writeOptions),this.increaseBytesWrittenCounter(n)}catch(t){this.emit("error",new Error(`Couldn't write to ${this.path}. ${t.message}`),this)}}}_o=f;function c(r,e){const n=Buffer.alloc(e),t=h.statSync(r),s=Math.min(t.size,e),i=Math.max(0,t.size-e),u=h.openSync(r,"r"),a=h.readSync(u,n,0,s,i);return h.closeSync(u),n.toString("utf8",0,a)}return _o}var So,Au;function oh(){if(Au)return So;Au=1;const o=yc();class h extends o{clear(){}crop(){}getSize(){return 0}isNull(){return!0}writeLine(){}}return So=h,So}var Ao,bu;function ah(){if(bu)return Ao;bu=1;const o=Gr,h=Xe,d=Ce,f=yc(),c=oh();class r extends o{constructor(){super();Ae(this,"store",{});this.emitError=this.emitError.bind(this)}provide({filePath:t,writeOptions:s={},writeAsync:i=!1}){let u;try{if(t=d.resolve(t),this.store[t])return this.store[t];u=this.createFile({filePath:t,writeOptions:s,writeAsync:i})}catch(a){u=new c({path:t}),this.emitError(a,u)}return u.on("error",this.emitError),this.store[t]=u,u}createFile({filePath:t,writeOptions:s,writeAsync:i}){return this.testFileWriting({filePath:t,writeOptions:s}),new f({path:t,writeOptions:s,writeAsync:i})}emitError(t,s){this.emit("error",t,s)}testFileWriting({filePath:t,writeOptions:s}){h.mkdirSync(d.dirname(t),{recursive:!0}),h.writeFileSync(t,"",{flag:"a",mode:s.mode})}}return Ao=r,Ao}var bo,Ru;function sh(){if(Ru)return bo;Ru=1;const o=Xe,h=vt,d=Ce,f=ah(),{transform:c}=Ft(),{removeStyles:r}=Go(),{format:e,concatFirstStringElements:n}=vc(),{toString:t}=Qr();bo=i;const s=new f;function i(a,{registry:m=s,externalApi:g}={}){let v;return m.listenerCount("error")<1&&m.on("error",(U,R)=>{T(`Can't write to ${R}`,U)}),Object.assign(p,{fileName:u(a.variables.processType),format:"[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}]{scope} {text}",getFile:O,inspectOptions:{depth:5},level:"silly",maxSize:1024**2,readAllLogs:P,sync:!0,transforms:[r,e,n,t],writeOptions:{flag:"a",mode:438,encoding:"utf8"},archiveLogFn(U){const R=U.toString(),S=d.parse(R);try{o.renameSync(R,d.join(S.dir,`${S.name}.old${S.ext}`))}catch(b){T("Could not rotate log",b);const E=Math.round(p.maxSize/4);U.crop(Math.min(E,256*1024))}},resolvePathFn(U){return d.join(U.libraryDefaultDir,U.fileName)},setAppName(U){a.dependencies.externalApi.setAppName(U)}});function p(U){const R=O(U);p.maxSize>0&&R.size>p.maxSize&&(p.archiveLogFn(R),R.reset());const b=c({logger:a,message:U,transport:p});R.writeLine(b)}function _(){v||(v=Object.create(Object.prototype,{...Object.getOwnPropertyDescriptors(g.getPathVariables()),fileName:{get(){return p.fileName},enumerable:!0}}),typeof p.archiveLog=="function"&&(p.archiveLogFn=p.archiveLog,T("archiveLog is deprecated. Use archiveLogFn instead")),typeof p.resolvePath=="function"&&(p.resolvePathFn=p.resolvePath,T("resolvePath is deprecated. Use resolvePathFn instead")))}function T(U,R=null,S="error"){const b=[`electron-log.transports.file: ${U}`];R&&b.push(R),a.transports.console({data:b,date:new Date,level:S})}function O(U){_();const R=p.resolvePathFn(v,U);return m.provide({filePath:R,writeAsync:!p.sync,writeOptions:p.writeOptions})}function P({fileFilter:U=R=>R.endsWith(".log")}={}){_();const R=d.dirname(p.resolvePathFn(v));return o.existsSync(R)?o.readdirSync(R).map(S=>d.join(R,S)).filter(U).map(S=>{try{return{path:S,lines:o.readFileSync(S,"utf8").split(h.EOL)}}catch{return null}}).filter(Boolean):[]}}function u(a=process.type){switch(a){case"renderer":return"renderer.log";case"worker":return"worker.log";default:return"main.log"}}return bo}var Ro,Tu;function lh(){if(Tu)return Ro;Tu=1;const{maxDepth:o,toJSON:h}=Qr(),{transform:d}=Ft();Ro=f;function f(c,{externalApi:r}){return Object.assign(e,{depth:3,eventId:"__ELECTRON_LOG_IPC__",level:c.isDev?"silly":!1,transforms:[h,o]}),r!=null&&r.isElectron()?e:void 0;function e(n){var t;((t=n==null?void 0:n.variables)==null?void 0:t.processType)!=="renderer"&&(r==null||r.sendIpc(e.eventId,{...n,data:d({logger:c,message:n,transport:e})}))}}return Ro}var To,Cu;function uh(){if(Cu)return To;Cu=1;const o=$u,h=Ef,{transform:d}=Ft(),{removeStyles:f}=Go(),{toJSON:c,maxDepth:r}=Qr();To=e;function e(n){return Object.assign(t,{client:{name:"electron-application"},depth:6,level:!1,requestOptions:{},transforms:[f,c,r],makeBodyFn({message:s}){return JSON.stringify({client:t.client,data:s.data,date:s.date.getTime(),level:s.level,scope:s.scope,variables:s.variables})},processErrorFn({error:s}){n.processMessage({data:[`electron-log: can't POST ${t.url}`,s],level:"warn"},{transports:["console","file"]})},sendRequestFn({serverUrl:s,requestOptions:i,body:u}){const m=(s.startsWith("https:")?h:o).request(s,{method:"POST",...i,headers:{"Content-Type":"application/json","Content-Length":u.length,...i.headers}});return m.write(u),m.end(),m}});function t(s){if(!t.url)return;const i=t.makeBodyFn({logger:n,message:{...s,data:d({logger:n,message:s,transport:t})},transport:t}),u=t.sendRequestFn({serverUrl:t.url,requestOptions:t.requestOptions,body:Buffer.from(i,"utf8")});u.on("error",a=>t.processErrorFn({error:a,logger:n,message:s,request:u,transport:t}))}}return To}var Co,Ou;function Ec(){if(Ou)return Co;Ou=1;const o=mc(),h=rh(),d=nh(),f=ih(),c=sh(),r=lh(),e=uh();Co=n;function n({dependencies:t,initializeFn:s}){var u;const i=new o({dependencies:t,errorHandler:new h,eventLogger:new d,initializeFn:s,isDev:(u=t.externalApi)==null?void 0:u.isDev(),logId:"default",transportFactories:{console:f,file:c,ipc:r,remote:e},variables:{processType:"main"}});return i.default=i,i.Logger=o,i.processInternalErrorFn=a=>{i.transports.console.writeFn({message:{data:["Unhandled electron-log error",a],level:"error"}})},i}return Co}var Oo,Pu;function ch(){if(Pu)return Oo;Pu=1;const o=Fe,h=eh(),{initialize:d}=th(),f=Ec(),c=new h({electron:o}),r=f({dependencies:{externalApi:c},initializeFn:d});Oo=r,c.onIpc("__ELECTRON_LOG__",(n,t)=>{t.scope&&r.Logger.getInstance(t).scope(t.scope);const s=new Date(t.date);e({...t,date:s.getTime()?s:new Date})}),c.onIpcInvoke("__ELECTRON_LOG__",(n,{cmd:t="",logId:s})=>{switch(t){case"getOptions":return{levels:r.Logger.getInstance({logId:s}).levels,logId:s};default:return e({data:[`Unknown cmd '${t}'`],level:"error"}),{}}});function e(n){var t;(t=r.Logger.getInstance(n))==null||t.processMessage(n)}return Oo}var Po,Du;function fh(){if(Du)return Po;Du=1;const o=gc(),h=Ec(),d=new o;return Po=h({dependencies:{externalApi:d}}),Po}var Iu;function dh(){if(Iu)return gr.exports;Iu=1;const o=typeof process>"u"||process.type==="renderer"||process.type==="worker",h=typeof process=="object"&&process.type==="browser";return o?(pc(),gr.exports=Qd()):h?gr.exports=ch():gr.exports=fh(),gr.exports}var hh=dh();const rt=wf(hh);rt.transports.file.resolvePath=()=>Mt.join(Fe.app.getPath("userData"),"logs/main.log");rt.info("App starting...");process.platform==="win32"&&Fe.app.setAppUserModelId(Fe.app.getName());Fe.app.requestSingleInstanceLock()||(Fe.app.quit(),process.exit(0));process.env.DIST=Mt.join(__dirname,"../dist");process.env.VITE_PUBLIC=Fe.app.isPackaged?process.env.DIST:Mt.join(process.env.DIST,"../public");let De=null;const Nu=process.env.VITE_DEV_SERVER_URL;function wc(){De=new Fe.BrowserWindow({icon:Mt.join(process.env.VITE_PUBLIC,"electron-vite.svg"),width:800,height:600,webPreferences:{preload:Mt.join(__dirname,"preload.js")}}),Fe.app.isPackaged&&(ft.autoUpdater.logger=rt,ft.autoUpdater.autoDownload=!1,ft.autoUpdater.checkForUpdatesAndNotify().catch(o=>{rt.error("Error checking for updates",o)}),ft.autoUpdater.on("update-available",o=>{rt.info("Update available:",o),De==null||De.webContents.send("update-available",o)}),ft.autoUpdater.on("download-progress",o=>{rt.info("Download progress:",o),De==null||De.webContents.send("download-progress",o)}),ft.autoUpdater.on("update-downloaded",o=>{rt.info("Update downloaded:",o),De==null||De.webContents.send("update-downloaded",o)}),ft.autoUpdater.on("error",o=>{rt.error("Error in auto-updater:",o),De==null||De.webContents.send("update-error",o.message)}),Fe.ipcMain.on("start-download",()=>{rt.info("User initiated download"),ft.autoUpdater.downloadUpdate().catch(o=>{rt.error("Error starting download:",o),De==null||De.webContents.send("update-error",`Error starting download: ${o.message}`)})}),Fe.ipcMain.on("quit-and-install",()=>{rt.info("User initiated quit and install"),setImmediate(()=>{ft.autoUpdater.quitAndInstall(!0,!0)})})),De.webContents.on("did-finish-load",()=>{De==null||De.webContents.send("main-process-message",new Date().toLocaleString())}),Nu?(De.loadURL(Nu),De.webContents.openDevTools()):De.loadFile(Mt.join(process.env.DIST,"index.html")),De.on("closed",()=>{De=null})}Fe.app.on("window-all-closed",()=>{process.platform!=="darwin"&&(Fe.app.quit(),De=null)});Fe.app.on("activate",()=>{Fe.BrowserWindow.getAllWindows().length===0&&wc()});Fe.app.whenReady().then(wc);
